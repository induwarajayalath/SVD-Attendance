{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-35f8a5a8\"],{\"001a\":function(t,e,n){\"use strict\";function r(t){return t&&\"object\"===typeof t&&\"default\"in t?t[\"default\"]:t}var i=r(n(\"c23d\")),o=n(\"9ab4\"),s=n(\"4be4\"),a={OK:\"ok\",CANCELLED:\"cancelled\",UNKNOWN:\"unknown\",INVALID_ARGUMENT:\"invalid-argument\",DEADLINE_EXCEEDED:\"deadline-exceeded\",NOT_FOUND:\"not-found\",ALREADY_EXISTS:\"already-exists\",PERMISSION_DENIED:\"permission-denied\",UNAUTHENTICATED:\"unauthenticated\",RESOURCE_EXHAUSTED:\"resource-exhausted\",FAILED_PRECONDITION:\"failed-precondition\",ABORTED:\"aborted\",OUT_OF_RANGE:\"out-of-range\",UNIMPLEMENTED:\"unimplemented\",INTERNAL:\"internal\",UNAVAILABLE:\"unavailable\",DATA_LOSS:\"data-loss\"},u=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return o.__extends(e,t),e}(Error);function c(t){if(t>=200&&t<300)return\"ok\";switch(t){case 0:return\"internal\";case 400:return\"invalid-argument\";case 401:return\"unauthenticated\";case 403:return\"permission-denied\";case 404:return\"not-found\";case 409:return\"aborted\";case 429:return\"resource-exhausted\";case 499:return\"cancelled\";case 500:return\"internal\";case 501:return\"unimplemented\";case 503:return\"unavailable\";case 504:return\"deadline-exceeded\"}return\"unknown\"}function h(t,e,n){var r=c(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var h=s.status;if(\"string\"===typeof h){if(!a[h])return new u(\"internal\",\"internal\");r=a[h],i=h}var l=s.message;\"string\"===typeof l&&(i=l),o=s.details,void 0!==o&&(o=n.decode(o))}}catch(f){}return\"ok\"===r?null:new u(r,i,o)}var l=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=e.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){if(!this.messaging||!(\"Notification\"in self)||\"granted\"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}(),f=\"type.googleapis.com/google.protobuf.Int64Value\",p=\"type.googleapis.com/google.protobuf.UInt64Value\";\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function d(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var v=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),\"number\"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if(\"[object String]\"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if(\"function\"===typeof t||\"object\"===typeof t)return d(t,(function(t){return e.encode(t)}));throw new Error(\"Data cannot be encoded in JSON: \"+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t[\"@type\"])switch(t[\"@type\"]){case f:case p:var n=Number(t[\"value\"]);if(isNaN(n))throw new Error(\"Data cannot be decoded from JSON: \"+t);return n;default:throw new Error(\"Data cannot be decoded from JSON: \"+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):\"function\"===typeof t||\"object\"===typeof t?d(t,(function(t){return e.decode(t)})):t},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function g(t){return new Promise((function(e,n){setTimeout((function(){n(new u(\"deadline-exceeded\",\"deadline-exceeded\"))}),t)}))}var m=function(){function t(t,e,n,r){var i=this;void 0===r&&(r=\"us-central1\"),this.app_=t,this.region_=r,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new l(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;if(null!==this.emulatorOrigin){var r=this.emulatorOrigin;return r+\"/\"+e+\"/\"+n+\"/\"+t}return\"https://\"+n+\"-\"+e+\".cloudfunctions.net/\"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:n.append(\"Content-Type\",\"application/json\"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:\"POST\",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,c,l,f,p,d;return o.__generator(this,(function(o){switch(o.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},s=new Headers,[4,this.contextProvider.getContext()];case 1:return a=o.sent(),a.authToken&&s.append(\"Authorization\",\"Bearer \"+a.authToken),a.instanceIdToken&&s.append(\"Firebase-Instance-ID-Token\",a.instanceIdToken),c=n.timeout||7e4,[4,Promise.race([this.postJSON(r,i,s),g(c),this.cancelAllRequests])];case 2:if(l=o.sent(),!l)throw new u(\"cancelled\",\"Firebase Functions instance was deleted.\");if(f=h(l.status,l.json,this.serializer),f)throw f;if(!l.json)throw new u(\"internal\",\"Response is not valid JSON object.\");if(p=l.json.data,\"undefined\"===typeof p&&(p=l.json.result),\"undefined\"===typeof p)throw new u(\"internal\",\"Response is missing data field.\");return d=this.serializer.decode(p),[2,{data:d}]}}))}))},t}(),y=\"functions\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function w(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\"),i=t.getProvider(\"messaging\");return new m(n,r,i,e)}function b(t){var e={Functions:m};t.INTERNAL.registerComponent(new s.Component(y,w,\"PUBLIC\").setServiceProps(e).setMultipleInstances(!0))}var _=\"@firebase/functions\",E=\"0.4.39\";\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nb(i),i.registerVersion(_,E)},\"1b2c\":function(t,e,n){},\"2e66\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"registerStorage\",(function(){return Ue}));var r=n(\"c23d\"),i=n.n(r),o=n(\"9ab4\"),s=n(\"4be4\"),a=\"firebasestorage.googleapis.com\",u=\"storageBucket\",c=12e4,h=6e5,l=-9007199254740991,f=function(){function t(t,e){this.code_=d(t),this.message_=\"Firebase Storage: \"+e,this.serverResponse_=null,this.name_=\"FirebaseError\"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return d(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,\"name\",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"code\",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"message\",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"serverResponse\",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),p={UNKNOWN:\"unknown\",OBJECT_NOT_FOUND:\"object-not-found\",BUCKET_NOT_FOUND:\"bucket-not-found\",PROJECT_NOT_FOUND:\"project-not-found\",QUOTA_EXCEEDED:\"quota-exceeded\",UNAUTHENTICATED:\"unauthenticated\",UNAUTHORIZED:\"unauthorized\",RETRY_LIMIT_EXCEEDED:\"retry-limit-exceeded\",INVALID_CHECKSUM:\"invalid-checksum\",CANCELED:\"canceled\",INVALID_EVENT_NAME:\"invalid-event-name\",INVALID_URL:\"invalid-url\",INVALID_DEFAULT_BUCKET:\"invalid-default-bucket\",NO_DEFAULT_BUCKET:\"no-default-bucket\",CANNOT_SLICE_BLOB:\"cannot-slice-blob\",SERVER_FILE_WRONG_SIZE:\"server-file-wrong-size\",NO_DOWNLOAD_URL:\"no-download-url\",INVALID_ARGUMENT:\"invalid-argument\",INVALID_ARGUMENT_COUNT:\"invalid-argument-count\",APP_DELETED:\"app-deleted\",INVALID_ROOT_OPERATION:\"invalid-root-operation\",INVALID_FORMAT:\"invalid-format\",INTERNAL_ERROR:\"internal-error\"};function d(t){return\"storage/\"+t}function v(){var t=\"An unknown error occurred, please check the error payload for server response.\";return new f(p.UNKNOWN,t)}function g(t){return new f(p.OBJECT_NOT_FOUND,\"Object '\"+t+\"' does not exist.\")}function m(t){return new f(p.QUOTA_EXCEEDED,\"Quota for bucket '\"+t+\"' exceeded, please view quota on https://firebase.google.com/pricing/.\")}function y(){var t=\"User is not authenticated, please authenticate using Firebase Authentication and try again.\";return new f(p.UNAUTHENTICATED,t)}function w(t){return new f(p.UNAUTHORIZED,\"User does not have permission to access '\"+t+\"'.\")}function b(){return new f(p.RETRY_LIMIT_EXCEEDED,\"Max retry time for operation exceeded, please try again.\")}function _(){return new f(p.CANCELED,\"User canceled the upload/download.\")}function E(t){return new f(p.INVALID_URL,\"Invalid URL '\"+t+\"'.\")}function I(t){return new f(p.INVALID_DEFAULT_BUCKET,\"Invalid default bucket '\"+t+\"'.\")}function T(){return new f(p.NO_DEFAULT_BUCKET,\"No default bucket found. Did you set the '\"+u+\"' property when initializing the app?\")}function C(){return new f(p.CANNOT_SLICE_BLOB,\"Cannot slice blob for upload. Please retry the upload.\")}function S(){return new f(p.SERVER_FILE_WRONG_SIZE,\"Server recorded incorrect upload file size, please retry the upload.\")}function N(){return new f(p.NO_DOWNLOAD_URL,\"The given file does not have any download URLs.\")}function k(t,e,n){return new f(p.INVALID_ARGUMENT,\"Invalid argument in `\"+e+\"` at index \"+t+\": \"+n)}function A(t,e,n,r){var i,o;return t===e?(i=t,o=1===t?\"argument\":\"arguments\"):(i=\"between \"+t+\" and \"+e,o=\"arguments\"),new f(p.INVALID_ARGUMENT_COUNT,\"Invalid argument count in `\"+n+\"`: Expected \"+i+\" \"+o+\", received \"+r+\".\")}function O(){return new f(p.APP_DELETED,\"The Firebase app was deleted.\")}function R(t){return new f(p.INVALID_ROOT_OPERATION,\"The operation '\"+t+\"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').\")}function P(t,e){return new f(p.INVALID_FORMAT,\"String does not match format '\"+t+\"': \"+e)}function x(t){throw new f(p.INTERNAL_ERROR,\"Internal error: \"+t)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var D={RAW:\"raw\",BASE64:\"base64\",BASE64URL:\"base64url\",DATA_URL:\"data_url\"};function L(t){switch(t){case D.RAW:case D.BASE64:case D.BASE64URL:case D.DATA_URL:return;default:throw\"Expected one of the event types: [\"+D.RAW+\", \"+D.BASE64+\", \"+D.BASE64URL+\", \"+D.DATA_URL+\"].\"}}var M=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}();function F(t,e){switch(t){case D.RAW:return new M(U(e));case D.BASE64:case D.BASE64URL:return new M(V(t,e));case D.DATA_URL:return new M(B(e),W(e))}throw v()}function U(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(i){var o=r,s=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&s,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function j(t){var e;try{e=decodeURIComponent(t)}catch(n){throw P(D.DATA_URL,\"Malformed data URL.\")}return U(e)}function V(t,e){switch(t){case D.BASE64:var n=-1!==e.indexOf(\"-\"),r=-1!==e.indexOf(\"_\");if(n||r){var i=n?\"-\":\"_\";throw P(t,\"Invalid character '\"+i+\"' found: is it base64url encoded?\")}break;case D.BASE64URL:var o=-1!==e.indexOf(\"+\"),s=-1!==e.indexOf(\"/\");if(o||s){i=o?\"+\":\"/\";throw P(t,\"Invalid character '\"+i+\"' found: is it base64 encoded?\")}e=e.replace(/-/g,\"+\").replace(/_/g,\"/\");break}var a;try{a=atob(e)}catch(h){throw P(t,\"Invalid character found\")}for(var u=new Uint8Array(a.length),c=0;c<a.length;c++)u[c]=a.charCodeAt(c);return u}var q=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw P(D.DATA_URL,\"Must be formatted 'data:[<mediatype>][;base64],<data>\");var n=e[1]||null;null!=n&&(this.base64=z(n,\";base64\"),this.contentType=this.base64?n.substring(0,n.length-\";base64\".length):n),this.rest=t.substring(t.indexOf(\",\")+1)}return t}();function B(t){var e=new q(t);return e.base64?V(D.BASE64,e.rest):j(e.rest)}function W(t){var e=new q(t);return e.contentType}function z(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var G,H={STATE_CHANGED:\"state_changed\"},K={RUNNING:\"running\",PAUSING:\"pausing\",PAUSED:\"paused\",SUCCESS:\"success\",CANCELING:\"canceling\",CANCELED:\"canceled\",ERROR:\"error\"},Q={RUNNING:\"running\",PAUSED:\"paused\",SUCCESS:\"success\",CANCELED:\"canceled\",ERROR:\"error\"};function Y(t){switch(t){case K.RUNNING:case K.PAUSING:case K.CANCELING:return Q.RUNNING;case K.PAUSED:return Q.PAUSED;case K.SUCCESS:return Q.SUCCESS;case K.CANCELED:return Q.CANCELED;case K.ERROR:return Q.ERROR;default:return Q.ERROR}}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function $(t){return null!=t}function J(t){return void 0!==t}function X(t){return\"function\"===typeof t}function Z(t){return\"object\"===typeof t}function tt(t){return Z(t)&&null!==t}function et(t){return Z(t)&&!Array.isArray(t)}function nt(t){return\"string\"===typeof t||t instanceof String}function rt(t){return it(t)&&Number.isInteger(t)}function it(t){return\"number\"===typeof t||t instanceof Number}function ot(t){return st()&&t instanceof Blob}function st(){return\"undefined\"!==typeof Blob}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(function(t){t[t[\"NO_ERROR\"]=0]=\"NO_ERROR\",t[t[\"NETWORK_ERROR\"]=1]=\"NETWORK_ERROR\",t[t[\"ABORT\"]=2]=\"ABORT\"})(G||(G={}));\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar at=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=G.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener(\"abort\",(function(){t.errorCode_=G.ABORT,e(t)})),t.xhr_.addEventListener(\"error\",(function(){t.errorCode_=G.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener(\"load\",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw x(\"cannot .send() more than once\");if(this.sent_=!0,this.xhr_.open(e,t,!0),$(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return $(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw x(\"cannot .getErrorCode() before sending\");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw x(\"cannot .getStatus() before sending\");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw x(\"cannot .getResponseText() before sending\");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){$(this.xhr_.upload)&&this.xhr_.upload.addEventListener(\"progress\",t)},t.prototype.removeUploadProgressListener=function(t){$(this.xhr_.upload)&&this.xhr_.upload.removeEventListener(\"progress\",t)},t}(),ut=function(){function t(){}return t.prototype.createXhrIo=function(){return new at},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction ct(){return\"undefined\"!==typeof BlobBuilder?BlobBuilder:\"undefined\"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ct();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(st())return new Blob(t);throw Error(\"This browser doesn't seem to support creating Blobs\")}function lt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var ft=function(){function t(t,e){var n=0,r=\"\";ot(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(ot(this.data_)){var r=this.data_,i=lt(r,e,n);return null===i?null:new t(i)}var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(st()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(ht.apply(null,r))}var i=e.map((function(t){return nt(t)?F(D.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),pt=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,\"path\",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isRoot\",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return\"/b/\"+t(this.bucket)+\"/o/\"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return\"/b/\"+t(this.bucket)+\"/o\"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,\"\")}if(\"\"===n.path)return n;throw I(e)},t.makeFromUrl=function(e){var n=null,r=\"([A-Za-z0-9.\\\\-_]+)\";function i(t){\"/\"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}var o=\"(/(.*))?$\",s=new RegExp(\"^gs://\"+r+o,\"i\"),u={bucket:1,path:3};function c(t){t.path_=decodeURIComponent(t.path)}for(var h=\"v[A-Za-z0-9_]+\",l=a.replace(/[.]/g,\"\\\\.\"),f=\"(/([^?#]*).*)?$\",p=new RegExp(\"^https?://\"+l+\"/\"+h+\"/b/\"+r+\"/o\"+f,\"i\"),d={bucket:1,path:3},v=\"(?:storage.googleapis.com|storage.cloud.google.com)\",g=\"([^?#]*)\",m=new RegExp(\"^https?://\"+v+\"/\"+r+\"/\"+g,\"i\"),y={bucket:1,path:2},w=[{regex:s,indices:u,postModify:i},{regex:p,indices:d,postModify:c},{regex:m,indices:y,postModify:c}],b=0;b<w.length;b++){var _=w[b],I=_.regex.exec(e);if(I){var T=I[_.indices.bucket],C=I[_.indices.path];C||(C=\"\"),n=new t(T,C),_.postModify(n);break}}if(null==n)throw E(e);return n},t}();\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction dt(t){var e;try{e=JSON.parse(t)}catch(n){return null}return et(e)?e:null}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function vt(t){if(0===t.length)return null;var e=t.lastIndexOf(\"/\");if(-1===e)return\"\";var n=t.slice(0,e);return n}function gt(t,e){var n=e.split(\"/\").filter((function(t){return t.length>0})).join(\"/\");return 0===t.length?n:t+\"/\"+n}function mt(t){var e=t.lastIndexOf(\"/\",t.length-2);return-1===e?t:t.slice(e+1)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function yt(t){return\"https://\"+a+\"/v0\"+t}function wt(t){var e=encodeURIComponent,n=\"?\";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+\"=\"+e(t[r]);n=n+i+\"&\"}return n=n.slice(0,-1),n}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function bt(t,e){return e}var _t=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||bt}return t}(),Et=null;function It(t){return!nt(t)||t.length<2?t:mt(t)}function Tt(){if(Et)return Et;var t=[];function e(t,e){return It(e)}t.push(new _t(\"bucket\")),t.push(new _t(\"generation\")),t.push(new _t(\"metageneration\")),t.push(new _t(\"name\",\"fullPath\",!0));var n=new _t(\"name\");function r(t,e){return $(e)?Number(e):e}n.xform=e,t.push(n);var i=new _t(\"size\");return i.xform=r,t.push(i),t.push(new _t(\"timeCreated\")),t.push(new _t(\"updated\")),t.push(new _t(\"md5Hash\",null,!0)),t.push(new _t(\"cacheControl\",null,!0)),t.push(new _t(\"contentDisposition\",null,!0)),t.push(new _t(\"contentEncoding\",null,!0)),t.push(new _t(\"contentLanguage\",null,!0)),t.push(new _t(\"contentType\",null,!0)),t.push(new _t(\"metadata\",\"customMetadata\",!0)),Et=t,Et}function Ct(t,e){function n(){var n=t[\"bucket\"],r=t[\"fullPath\"],i=new pt(n,r);return e.makeStorageReference(i)}Object.defineProperty(t,\"ref\",{get:n})}function St(t,e,n){for(var r={type:\"file\"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return Ct(r,t),r}function Nt(t,e,n){var r=dt(e);if(null===r)return null;var i=r;return St(t,i,n)}function kt(t,e){var n=dt(e);if(null===n)return null;if(!nt(n[\"downloadTokens\"]))return null;var r=n[\"downloadTokens\"];if(0===r.length)return null;var i=encodeURIComponent,o=r.split(\",\"),s=o.map((function(e){var n=t[\"bucket\"],r=t[\"fullPath\"],o=\"/b/\"+i(n)+\"/o/\"+i(r),s=yt(o),a=wt({alt:\"media\",token:e});return s+a}));return s[0]}function At(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function Ot(t){if(!Z(t)||!t)throw\"Expected Metadata object.\";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if(\"customMetadata\"===e){if(!Z(n))throw\"Expected object for 'customMetadata' mapping.\"}else if(tt(n))throw\"Mapping for '\"+e+\"' cannot be an object.\"}}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Rt=\"maxResults\",Pt=1e3,xt=\"pageToken\",Dt=\"prefixes\",Lt=\"items\";function Mt(t,e){var n={prefixes:[],items:[],nextPageToken:e[\"nextPageToken\"]},r=t.bucket();if(null===r)throw T();if(e[Dt])for(var i=0,o=e[Dt];i<o.length;i++){var s=o[i],a=s.replace(/\\/$/,\"\"),u=t.makeStorageReference(new pt(r,a));n.prefixes.push(u)}if(e[Lt])for(var c=0,h=e[Lt];c<h.length;c++){var l=h[c];u=t.makeStorageReference(new pt(r,l[\"name\"]));n.items.push(u)}return n}function Ft(t,e){var n=dt(e);if(null===n)return null;var r=n;return Mt(t,r)}function Ut(t){if(!Z(t)||!t)throw\"Expected ListOptions object.\";for(var e in t)if(e===Rt){if(!rt(t[Rt])||t[Rt]<=0)throw\"Expected maxResults to be a positive number.\";if(t[Rt]>1e3)throw\"Expected maxResults to be less than or equal to \"+Pt+\".\"}else{if(e!==xt)throw\"Unknown option: \"+e;if(t[xt]&&!nt(t[xt]))throw\"Expected pageToken to be string.\"}}var jt=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Vt(t){if(!t)throw v()}function qt(t,e){function n(n,r){var i=Nt(t,r,e);return Vt(null!==i),i}return n}function Bt(t){function e(e,n){var r=Ft(t,n);return Vt(null!==r),r}return e}function Wt(t,e){function n(n,r){var i=Nt(t,r,e);return Vt(null!==i),kt(i,r)}return n}function zt(t){function e(e,n){var r;return r=401===e.getStatus()?y():402===e.getStatus()?m(t.bucket):403===e.getStatus()?w(t.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return e}function Gt(t){var e=zt(t);function n(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=g(t.path)),i.setServerResponseProp(r.serverResponseProp()),i}return n}function Ht(t,e,n){var r=e.fullServerUrl(),i=yt(r),o=\"GET\",s=t.maxOperationRetryTime(),a=new jt(i,o,qt(t,n),s);return a.errorHandler=Gt(e),a}function Kt(t,e,n,r,i){var o={};e.isRoot?o[\"prefix\"]=\"\":o[\"prefix\"]=e.path+\"/\",n&&n.length>0&&(o[\"delimiter\"]=n),r&&(o[\"pageToken\"]=r),i&&(o[\"maxResults\"]=i);var s=e.bucketOnlyServerUrl(),a=yt(s),u=\"GET\",c=t.maxOperationRetryTime(),h=new jt(a,u,Bt(t),c);return h.urlParams=o,h.errorHandler=zt(e),h}function Qt(t,e,n){var r=e.fullServerUrl(),i=yt(r),o=\"GET\",s=t.maxOperationRetryTime(),a=new jt(i,o,Wt(t,n),s);return a.errorHandler=Gt(e),a}function Yt(t,e,n,r){var i=e.fullServerUrl(),o=yt(i),s=\"PATCH\",a=At(n,r),u={\"Content-Type\":\"application/json; charset=utf-8\"},c=t.maxOperationRetryTime(),h=new jt(o,s,qt(t,r),c);return h.headers=u,h.body=a,h.errorHandler=Gt(e),h}function $t(t,e){var n=e.fullServerUrl(),r=yt(n),i=\"DELETE\",o=t.maxOperationRetryTime();function s(t,e){}var a=new jt(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=Gt(e),a}function Jt(t,e){return t&&t[\"contentType\"]||e&&e.type()||\"application/octet-stream\"}function Xt(t,e,n){var r=Object.assign({},n);return r[\"fullPath\"]=t.path,r[\"size\"]=e.size(),r[\"contentType\"]||(r[\"contentType\"]=Jt(null,e)),r}function Zt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={\"X-Goog-Upload-Protocol\":\"multipart\"};function a(){for(var t=\"\",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var u=a();s[\"Content-Type\"]=\"multipart/related; boundary=\"+u;var c=Xt(e,r,i),h=At(c,n),l=\"--\"+u+\"\\r\\nContent-Type: application/json; charset=utf-8\\r\\n\\r\\n\"+h+\"\\r\\n--\"+u+\"\\r\\nContent-Type: \"+c[\"contentType\"]+\"\\r\\n\\r\\n\",f=\"\\r\\n--\"+u+\"--\",p=ft.getBlob(l,r,f);if(null===p)throw C();var d={name:c[\"fullPath\"]},v=yt(o),g=\"POST\",m=t.maxUploadRetryTime(),y=new jt(v,g,qt(t,n),m);return y.urlParams=d,y.headers=s,y.body=p.uploadData(),y.errorHandler=zt(e),y}var te=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}();function ee(t,e){var n=null;try{n=t.getResponseHeader(\"X-Goog-Upload-Status\")}catch(i){Vt(!1)}var r=e||[\"active\"];return Vt(!!n&&-1!==r.indexOf(n)),n}function ne(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Xt(e,r,i),a={name:s[\"fullPath\"]},u=yt(o),c=\"POST\",h={\"X-Goog-Upload-Protocol\":\"resumable\",\"X-Goog-Upload-Command\":\"start\",\"X-Goog-Upload-Header-Content-Length\":r.size(),\"X-Goog-Upload-Header-Content-Type\":s[\"contentType\"],\"Content-Type\":\"application/json; charset=utf-8\"},l=At(s,n),f=t.maxUploadRetryTime();function p(t){var e;ee(t);try{e=t.getResponseHeader(\"X-Goog-Upload-URL\")}catch(n){Vt(!1)}return Vt(nt(e)),e}var d=new jt(u,c,p,f);return d.urlParams=a,d.headers=h,d.body=l,d.errorHandler=zt(e),d}function re(t,e,n,r){var i={\"X-Goog-Upload-Command\":\"query\"};function o(t){var e=ee(t,[\"active\",\"final\"]),n=null;try{n=t.getResponseHeader(\"X-Goog-Upload-Size-Received\")}catch(o){Vt(!1)}n||Vt(!1);var i=Number(n);return Vt(!isNaN(i)),new te(i,r.size(),\"final\"===e)}var s=\"POST\",a=t.maxUploadRetryTime(),u=new jt(n,s,o,a);return u.headers=i,u.errorHandler=zt(e),u}var ie=262144;function oe(t,e,n,r,i,o,s,a){var u=new te(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw S();var c=u.total-u.current,h=c;i>0&&(h=Math.min(h,i));var l=u.current,f=l+h,p=h===c?\"upload, finalize\":\"upload\",d={\"X-Goog-Upload-Command\":p,\"X-Goog-Upload-Offset\":u.current},v=r.slice(l,f);if(null===v)throw C();function g(t,n){var i,s=ee(t,[\"active\",\"final\"]),a=u.current+h,c=r.size();return i=\"final\"===s?qt(e,o)(t,n):null,new te(a,c,\"final\"===s,i)}var m=\"POST\",y=e.maxUploadRetryTime(),w=new jt(n,m,g,y);return w.headers=d,w.body=v.uploadData(),w.progressCallback=a||null,w.errorHandler=zt(t),w}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var se=function(){function t(t,e,n){var r=X(t)||$(e)||$(n);if(r)this.next=t,this.error=e||null,this.complete=n||null;else{var i=t;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}return t}(),ae=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction ue(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s=r<=n.length&&n.length<=i;if(!s)throw A(r,i,t,n.length);for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(a){throw a instanceof Error?k(o,t,a.message):k(o,t,a)}}var ce=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!J(e)||t(e)},this.optional=!!e}return t}();function he(t,e){return function(n){t(n),e(n)}}function le(t,e){function n(t){if(!nt(t))throw\"Expected string.\"}var r;return r=t?he(n,t):n,new ce(r,e)}function fe(){function t(t){var e=t instanceof Uint8Array||t instanceof ArrayBuffer||st()&&t instanceof Blob;if(!e)throw\"Expected Blob or File.\"}return new ce(t)}function pe(t){return new ce(Ot,t)}function de(t){return new ce(Ut,t)}function ve(){function t(t){var e=it(t)&&t>=0;if(!e)throw\"Expected a number 0 or greater.\"}return new ce(t)}function ge(t,e){function n(e){var n=null===e||$(e)&&e instanceof Object;if(!n)throw\"Expected an Object.\";void 0!==t&&null!==t&&t(e)}return new ce(n,e)}function me(t){function e(t){var e=null===t||X(t);if(!e)throw\"Expected a Function.\"}return new ce(e,t)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function ye(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var we=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=K.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(p.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(K.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(p.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(K.ERROR))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===K.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case K.RUNNING:t(n);break;case K.CANCELING:e.transition_(K.CANCELED);break;case K.PAUSING:e.transition_(K.PAUSED);break}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=ne(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=re(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=ie*this.chunkMultiplier_,n=new te(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=oe(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(K.ERROR)}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(K.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){var t=ie*this.chunkMultiplier_;t<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Ht(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(K.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=Zt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(K.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case K.CANCELING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case K.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case K.RUNNING:var e=this.state_===K.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case K.PAUSED:this.state_=t,this.notifyObservers_();break;case K.CANCELED:this.error_=_(),this.state_=t,this.notifyObservers_();break;case K.ERROR:this.state_=t,this.notifyObservers_();break;case K.SUCCESS:this.state_=t,this.notifyObservers_();break}},t.prototype.completeTransitions_=function(){switch(this.state_){case K.PAUSING:this.transition_(K.PAUSED);break;case K.CANCELING:this.transition_(K.CANCELED);break;case K.RUNNING:this.start_();break}},Object.defineProperty(t.prototype,\"snapshot\",{get:function(){var t=Y(this.state_);return new ae(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==H.STATE_CHANGED)throw\"Expected one of the event types: [\"+H.STATE_CHANGED+\"].\"}var o=\"Expected a function or an Object with one of `next`, `error`, `complete` properties.\",s=me(!0).validator,a=ge(null,!0).validator;function u(t){try{return void s(t)}catch(n){}try{a(t);var e=J(t[\"next\"])||J(t[\"error\"])||J(t[\"complete\"]);if(!e)throw\"\";return}catch(n){throw o}}var c=[le(i),ge(u,!0),me(!0),me(!0)];ue(\"on\",c,arguments);var h=this;function l(t){function e(e,n,i){null!==t&&ue(\"on\",t,arguments);var o=new se(e,n,r);return h.addObserver_(o),function(){h.removeObserver_(o)}}return e}function f(t){if(null===t)throw o;u(t)}var p=[ge(f),me(!0),me(!0)],d=!(J(e)||J(n)||J(r));return d?l(p):l(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_();var e=this.observers_.slice();e.forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Y(this.state_)){case Q.SUCCESS:ye(this.resolve_.bind(null,this.snapshot))();break;case Q.CANCELED:case Q.ERROR:var e=this.reject_;ye(e.bind(null,this.error_))();break;default:t=!1;break}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){var e=Y(this.state_);switch(e){case Q.RUNNING:case Q.PAUSED:t.next&&ye(t.next.bind(t,this.snapshot))();break;case Q.SUCCESS:t.complete&&ye(t.complete.bind(t))();break;case Q.CANCELED:case Q.ERROR:t.error&&ye(t.error.bind(t,this.error_))();break;default:t.error&&ye(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){ue(\"resume\",[],arguments);var t=this.state_===K.PAUSED||this.state_===K.PAUSING;return t&&this.transition_(K.RUNNING),t},t.prototype.pause=function(){ue(\"pause\",[],arguments);var t=this.state_===K.RUNNING;return t&&this.transition_(K.PAUSING),t},t.prototype.cancel=function(){ue(\"cancel\",[],arguments);var t=this.state_===K.RUNNING||this.state_===K.PAUSING;return t&&this.transition_(K.CANCELING),t},t}(),be=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof pt?e:pt.makeFromUrl(e)}return t.prototype.toString=function(){return ue(\"toString\",[],arguments),\"gs://\"+this.location.bucket+\"/\"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Tt()},t.prototype.child=function(t){ue(\"child\",[le()],arguments);var e=gt(this.location.path,t),n=new pt(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,\"parent\",{get:function(){var t=vt(this.location.path);if(null===t)return null;var e=new pt(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"root\",{get:function(){var t=new pt(this.location.bucket,\"\");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"bucket\",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fullPath\",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return mt(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"storage\",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),ue(\"put\",[fe(),pe(!0)],arguments),this.throwIfRoot_(\"put\"),new we(this,this.authWrapper,this.location,this.mappings(),new ft(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=D.RAW),ue(\"putString\",[le(),le(L,!0),pe(!0)],arguments),this.throwIfRoot_(\"putString\");var r=F(e,t),i=Object.assign({},n);return!$(i[\"contentType\"])&&$(r.contentType)&&(i[\"contentType\"]=r.contentType),new we(this,this.authWrapper,this.location,this.mappings(),new ft(r.data,!0),i)},t.prototype.delete=function(){var t=this;return ue(\"delete\",[],arguments),this.throwIfRoot_(\"delete\"),this.authWrapper.getAuthToken().then((function(e){var n=$t(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){ue(\"listAll\",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(o[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,s;return Object(o[\"__generator\"])(this,(function(o){switch(o.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=o.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(s=t.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){ue(\"list\",[de(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=Kt(e.authWrapper,e.location,\"/\",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return ue(\"getMetadata\",[],arguments),this.throwIfRoot_(\"getMetadata\"),this.authWrapper.getAuthToken().then((function(e){var n=Ht(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return ue(\"updateMetadata\",[pe()],arguments),this.throwIfRoot_(\"updateMetadata\"),this.authWrapper.getAuthToken().then((function(n){var r=Yt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return ue(\"getDownloadURL\",[],arguments),this.throwIfRoot_(\"getDownloadURL\"),this.authWrapper.getAuthToken().then((function(e){var n=Qt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw N();return t}))}))},t.prototype.throwIfRoot_=function(t){if(\"\"===this.location.path)throw R(t)},t}(),_e=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Ee=function(){function t(){this.map=new Map,this.id=l}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),Ie=function(){function t(e,n,r,i,o,s){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var u=this.app_.options;$(u)&&(this.bucket_=t.extractBucket_(u),this.appId_=null!==(a=u.appId)&&void 0!==a?a:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=c,this.maxUploadRetryTime_=h,this.requestMap_=new Ee}return t.extractBucket_=function(t){var e=t[u]||null;if(null==e)return null;var n=pt.makeFromBucketSpec(e);return n.bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw O();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new _e(O());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction Te(t,e,n){var r=1,i=null,s=!1,a=0;function u(){return 2===a}var c=!1;function h(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)h.call.apply(h,Object(o[\"__spreadArrays\"])([null,t],e));else{var i,f=u()||s;if(f)h.call.apply(h,Object(o[\"__spreadArrays\"])([null,t],e));else r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i)}}var p=!1;function d(t){p||(p=!0,c||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout((function(){s=!0,d(!0)}),n),d}function Ce(t){t(!1)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Se=function(){function t(t,e,n,r,i,o,s,a,u,c,h){var l=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise((function(t,e){l.resolve_=t,l.reject_=e,l.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){if(n)e(!1,new Ne(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null,n=n;var r=n.getErrorCode()===G.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Ne(s,n))}else{var a=n.getErrorCode()===G.ABORT;e(!1,new Ne(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}function n(e,n){var r=t.resolve_,i=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(o,o.getResponseText());J(s)?r(s):r()}catch(u){i(u)}else if(null!==o){var a=v();a.setServerResponseProp(o.getResponseText()),t.errorCallback_?i(t.errorCallback_(o,a)):i(a)}else if(n.canceled){a=t.appDelete_?O():_();i(a)}else{a=b();i(a)}}this.canceled_?n(!1,new Ne(!1,null,!0)):this.backoffId_=Te(e,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Ce(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||i},t}(),Ne=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}();function ke(t,e){null!==e&&e.length>0&&(t[\"Authorization\"]=\"Firebase \"+e)}function Ae(t){var e=\"undefined\"!==typeof i.a?i.a.SDK_VERSION:\"AppManager\";t[\"X-Firebase-Storage-Version\"]=\"webjs/\"+e}function Oe(t,e){e&&(t[\"X-Firebase-GMPID\"]=e)}function Re(t,e,n,r){var i=wt(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return Oe(s,e),ke(s,n),Ae(s),new Se(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Pe=function(){function t(t,e,n,r){function i(t,e){return new be(t,e)}if(this.bucket_=null,this.authWrapper_=new Ie(t,e,i,Re,this,n),this.app_=t,null!=r)this.bucket_=pt.makeFromBucketSpec(r);else{var o=this.authWrapper_.bucket();null!=o&&(this.bucket_=new pt(o,\"\"))}this.internals_=new xe(this)}return t.prototype.ref=function(t){function e(t){if(\"string\"!==typeof t)throw\"Path is not a string.\";if(/^[A-Za-z]+:\\/\\//.test(t))throw\"Expected child path but got a URL, use refFromURL instead.\"}if(ue(\"ref\",[le(e,!0)],arguments),null==this.bucket_)throw new Error(\"No Storage Bucket defined in Firebase Options.\");var n=new be(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if(\"string\"!==typeof t)throw\"Path is not a string.\";if(!/^[A-Za-z]+:\\/\\//.test(t))throw\"Expected full URL but got a child path, use ref instead.\";try{pt.makeFromUrl(t)}catch(e){throw\"Expected valid full URL but got an invalid one.\"}}return ue(\"refFromURL\",[le(e,!1)],arguments),new be(this.authWrapper_,t)},Object.defineProperty(t.prototype,\"maxUploadRetryTime\",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){ue(\"setMaxUploadRetryTime\",[ve()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){ue(\"setMaxOperationRetryTime\",[ve()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,\"app\",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"INTERNAL\",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),xe=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}(),De=\"@firebase/storage\",Le=\"0.3.31\",Me=\"storage\";function Fe(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\");return new Pe(n,r,new ut,e)}function Ue(t){var e={TaskState:Q,TaskEvent:H,StringFormat:D,Storage:Pe,Reference:be};t.INTERNAL.registerComponent(new s[\"Component\"](Me,Fe,\"PUBLIC\").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(De,Le)}Ue(i.a)},3523:function(t,e,n){\"use strict\";(function(r){function i(t){return t&&\"object\"===typeof t&&\"default\"in t?t[\"default\"]:t}Object.defineProperty(e,\"__esModule\",{value:!0});var o=i(n(\"c23d\")),s=n(\"9ab4\"),a=n(\"cd51\"),u=n(\"abfd\"),c=n(\"4be4\"),h=function(){function t(t){this.domStorage_=t,this.prefix_=\"firebase:\"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window[t]){var e=window[t];return e.setItem(\"firebase:sentinel\",\"cache\"),e.removeItem(\"firebase:sentinel\"),new h(e)}}catch(n){}return new l},p=f(\"localStorage\"),d=f(\"sessionStorage\"),v=new u.Logger(\"@firebase/database\"),g=function(){var t=1;return function(){return t++}}(),m=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return a.base64.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=\"\",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&\"object\"===typeof i&&\"number\"===typeof i.length?n+=y.apply(null,i):n+=\"object\"===typeof i?a.stringify(i):i,n+=\" \"}return n},w=null,b=!0,_=function(t,e){a.assert(!e||!0===t||!1===t,\"Can't turn on custom loggers persistently.\"),!0===t?(v.logLevel=u.LogLevel.VERBOSE,w=v.log.bind(v),e&&d.set(\"logging_enabled\",!0)):\"function\"===typeof t?w=t:(w=null,d.remove(\"logging_enabled\"))},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===w&&!0===d.get(\"logging_enabled\")&&_(!0)),w){var n=y.apply(null,t);w(n)}},I=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];E.apply(void 0,s.__spread([t],e))}},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE INTERNAL ERROR: \"+y.apply(void 0,s.__spread(t));v.error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE FATAL ERROR: \"+y.apply(void 0,s.__spread(t));throw v.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE WARNING: \"+y.apply(void 0,s.__spread(t));v.warn(n)},N=function(){\"undefined\"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&S(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\")},k=function(t){return\"number\"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A=function(t){if(a.isNodeSdk()||\"complete\"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&n()})),window.attachEvent(\"onload\",n))}},O=\"[MIN_NAME]\",R=\"[MAX_NAME]\",P=function(t,e){if(t===e)return 0;if(t===O||e===R)return-1;if(e===O||t===R)return 1;var n=W(t),r=W(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error(\"Missing required key (\"+t+\") in object: \"+a.stringify(e))},L=function(t){if(\"object\"!==typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r=\"{\",i=0;i<e.length;i++)0!==i&&(r+=\",\"),r+=a.stringify(e[i]),r+=\":\",r+=L(t[e[i]]);return r+=\"}\",r},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function F(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var U=function(t){a.assert(!k(t),\"Invalid JSON number\");var e,n,r,i,o,s=11,u=52,c=(1<<s-1)-1;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,1-c)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),c),n=i+c,r=Math.round(t*Math.pow(2,u-i)-Math.pow(2,u))):(n=0,r=Math.round(t/Math.pow(2,1-c-u))));var h=[];for(o=u;o;o-=1)h.push(r%2?1:0),r=Math.floor(r/2);for(o=s;o;o-=1)h.push(n%2?1:0),n=Math.floor(n/2);h.push(e?1:0),h.reverse();var l=h.join(\"\"),f=\"\";for(o=0;o<64;o+=8){var p=parseInt(l.substr(o,8),2).toString(16);1===p.length&&(p=\"0\"+p),f+=p}return f.toLowerCase()},j=function(){return!(\"object\"!==typeof window||!window[\"chrome\"]||!window[\"chrome\"][\"extension\"]||/^chrome/.test(window.location.href))},V=function(){return\"object\"===typeof Windows&&\"object\"===typeof Windows.UI},q=function(t,e){var n=\"Unknown Error\";\"too_big\"===t?n=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"===t?n=\"Client doesn't have permission to access the desired data.\":\"unavailable\"===t&&(n=\"The service is unavailable\");var r=new Error(t+\" at \"+e.path.toString()+\": \"+n);return r.code=t.toUpperCase(),r},B=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),W=function(t){if(B.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},z=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||\"\";throw S(\"Exception was thrown by user callback.\",t),e}),Math.floor(0))}},G=function(){var t=\"object\"===typeof window&&window[\"navigator\"]&&window[\"navigator\"][\"userAgent\"]||\"\";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},H=function(t,e){var n=setTimeout(t,e);return\"object\"===typeof n&&n[\"unref\"]&&n[\"unref\"](),n},K=function(){function t(t,e){if(void 0===e){this.pieces_=t.split(\"/\");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,\"Empty\",{get:function(){return new t(\"\")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+this.pieces_[e]);return t||\"/\"},t.prototype.toUrlEncodedString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+encodeURIComponent(String(this.pieces_[e])));return t||\"/\"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split(\"/\");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error(\"INTERNAL ERROR: innerPath (\"+n+\") is not within outerPath (\"+e+\")\")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;while(e<this.pieces_.length){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Q=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,\"MAX_PATH_DEPTH\",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"MAX_PATH_LENGTH_BYTES\",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+\"has a key path longer than \"+t.MAX_PATH_LENGTH_BYTES+\" bytes (\"+this.byteLength_+\").\");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+\"path specified exceeds the maximum depth that can be written (\"+t.MAX_PATH_DEPTH+\") or object contains a cycle \"+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?\"\":\"in property '\"+this.parts_.join(\".\")+\"'\"},t}(),Y=\"5\",$=\"v\",J=\"s\",X=\"r\",Z=\"f\",tt=\"firebaseio.com\",et=\"ls\",nt=\"websocket\",rt=\"long_polling\",it=function(){function t(t,e,n,r,i,o){void 0===i&&(i=\"\"),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(\".\")+1),this.internalHost=p.get(\"host:\"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return\"s-\"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return\"firebaseio-demo.com\"===this.domain},t.prototype.isCustomHost=function(){return\"firebaseio.com\"!==this.domain&&\"firebaseio-demo.com\"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set(\"host:\"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert(\"string\"===typeof t,\"typeof type must == string\"),a.assert(\"object\"===typeof e,\"typeof params must == object\"),t===nt)n=(this.secure?\"wss://\":\"ws://\")+this.internalHost+\"/.ws?\";else{if(t!==rt)throw new Error(\"Unknown connection type: \"+t);n=(this.secure?\"https://\":\"http://\")+this.internalHost+\"/.lp?\"}this.needsQueryParam()&&(e[\"ns\"]=this.namespace);var r=[];return F(e,(function(t,e){r.push(t+\"=\"+e)})),n+r.join(\"&\")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+=\"<\"+this.persistenceKey+\">\"),t},t.prototype.toURLString=function(){return(this.secure?\"https://\":\"http://\")+this.host},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction ot(t){for(var e=\"\",n=t.split(\"/\"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\\+/g,\" \"))}catch(o){}e+=\"/\"+i}return e}function st(t){var e,n,r={};\"?\"===t.charAt(0)&&(t=t.substring(1));try{for(var i=s.__values(t.split(\"&\")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split(\"=\");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S(\"Invalid query segment '\"+a+\"' in query '\"+t+\"'\")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var at,ut,ct=function(t){var e=ht(t),n=e.namespace;\"firebase\"===e.domain&&C(e.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),n&&\"undefined\"!==n||\"localhost\"===e.domain||C(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),e.secure||N();var r=\"ws\"===e.scheme||\"wss\"===e.scheme;return{repoInfo:new it(e.host,e.secure,n,r,\"\",n!==e.subdomain),path:new K(e.pathString)}},ht=function(t){var e=\"\",n=\"\",r=\"\",i=\"\",o=\"\",s=!0,a=\"https\",u=443;if(\"string\"===typeof t){var c=t.indexOf(\"//\");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf(\"/\");-1===h&&(h=t.length);var l=t.indexOf(\"?\");-1===l&&(l=t.length),e=t.substring(0,Math.min(h,l)),h<l&&(i=ot(t.substring(h,l)));var f=st(t.substring(Math.min(t.length,l)));c=e.indexOf(\":\"),c>=0?(s=\"https\"===a||\"wss\"===a,u=parseInt(e.substring(c+1),10)):c=t.length;var p=e.split(\".\");3===p.length?(n=p[1],r=p[0].toLowerCase(),o=r):2===p.length?n=p[0]:\"localhost\"===p[0].slice(0,c).toLowerCase()&&(n=\"localhost\"),\"ns\"in f&&(o=f[\"ns\"])}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},lt=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,ft=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,pt=10485760,dt=function(t){return\"string\"===typeof t&&0!==t.length&&!lt.test(t)},vt=function(t){return\"string\"===typeof t&&0!==t.length&&!ft.test(t)},gt=function(t){return t&&(t=t.replace(/^\\/*\\.info(\\/|$)/,\"/\")),vt(t)},mt=function(t){return null===t||\"string\"===typeof t||\"number\"===typeof t&&!k(t)||t&&\"object\"===typeof t&&a.contains(t,\".sv\")},yt=function(t,e,n,r,i){i&&void 0===n||wt(a.errorPrefix(t,e,i),n,r)},wt=function(t,e,n){var r=n instanceof K?new Q(n,t):n;if(void 0===e)throw new Error(t+\"contains undefined \"+r.toErrorString());if(\"function\"===typeof e)throw new Error(t+\"contains a function \"+r.toErrorString()+\" with contents = \"+e.toString());if(k(e))throw new Error(t+\"contains \"+e.toString()+\" \"+r.toErrorString());if(\"string\"===typeof e&&e.length>pt/3&&a.stringLength(e)>pt)throw new Error(t+\"contains a string greater than \"+pt+\" utf8 bytes \"+r.toErrorString()+\" ('\"+e.substring(0,50)+\"...')\");if(e&&\"object\"===typeof e){var i=!1,o=!1;if(F(e,(function(e,n){if(\".value\"===e)i=!0;else if(\".priority\"!==e&&\".sv\"!==e&&(o=!0,!dt(e)))throw new Error(t+\" contains an invalid key (\"+e+\") \"+r.toErrorString()+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');r.push(e),wt(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains \".value\" child '+r.toErrorString()+\" in addition to actual children.\")}},bt=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if(\".priority\"===i[o]&&o===i.length-1);else if(!dt(i[o]))throw new Error(t+\"contains an invalid key (\"+i[o]+\") in path \"+r.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"')}e.sort(K.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+\"contains a path \"+s.toString()+\" that is ancestor of another path \"+r.toString());s=r}},_t=function(t,e,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(t,e,i);if(!n||\"object\"!==typeof n||Array.isArray(n))throw new Error(o+\" must be an object containing the children to replace.\");var s=[];F(n,(function(t,e){var n=new K(t);if(wt(o,e,r.child(n)),\".priority\"===n.getBack()&&!mt(e))throw new Error(o+\"contains an invalid value for '\"+n.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");s.push(n)})),bt(o,s)}},Et=function(t,e,n,r){if(!r||void 0!==n){if(k(n))throw new Error(a.errorPrefix(t,e,r)+\"is \"+n.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!mt(n))throw new Error(a.errorPrefix(t,e,r)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\")}},It=function(t,e,n,r){if(!r||void 0!==n)switch(n){case\"value\":case\"child_added\":case\"child_removed\":case\"child_changed\":case\"child_moved\":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}},Tt=function(t,e,n,r){if((!r||void 0!==n)&&!dt(n))throw new Error(a.errorPrefix(t,e,r)+'was an invalid key = \"'+n+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").')},Ct=function(t,e,n,r){if((!r||void 0!==n)&&!vt(n))throw new Error(a.errorPrefix(t,e,r)+'was an invalid path = \"'+n+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"')},St=function(t,e,n,r){n&&(n=n.replace(/^\\/*\\.info(\\/|$)/,\"/\")),Ct(t,e,n,r)},Nt=function(t,e){if(\".info\"===e.getFront())throw new Error(t+\" failed = Can't modify data under /.info/\")},kt=function(t,e,n){var r=n.path.toString();if(\"string\"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!dt(n.repoInfo.namespace)&&\"localhost\"!==n.repoInfo.host.split(\":\")[0]||0!==r.length&&!gt(r))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},At=function(t,e,n,r){if((!r||void 0!==n)&&\"boolean\"!==typeof n)throw new Error(a.errorPrefix(t,e,r)+\"must be a boolean.\")},Ot=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount(\"OnDisconnect.cancel\",0,1,arguments.length),a.validateCallback(\"OnDisconnect.cancel\",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount(\"OnDisconnect.remove\",0,1,arguments.length),Nt(\"OnDisconnect.remove\",this.path_),a.validateCallback(\"OnDisconnect.remove\",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount(\"OnDisconnect.set\",1,2,arguments.length),Nt(\"OnDisconnect.set\",this.path_),yt(\"OnDisconnect.set\",1,t,this.path_,!1),a.validateCallback(\"OnDisconnect.set\",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount(\"OnDisconnect.setWithPriority\",2,3,arguments.length),Nt(\"OnDisconnect.setWithPriority\",this.path_),yt(\"OnDisconnect.setWithPriority\",1,t,this.path_,!1),Et(\"OnDisconnect.setWithPriority\",2,e,!1),a.validateCallback(\"OnDisconnect.setWithPriority\",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(a.validateArgCount(\"OnDisconnect.update\",1,2,arguments.length),Nt(\"OnDisconnect.update\",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,S(\"Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}_t(\"OnDisconnect.update\",1,t,this.path_,!1),a.validateCallback(\"OnDisconnect.update\",2,e,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),Rt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount(\"TransactionResult.toJSON\",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Pt=function(){var t=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\",e=0,n=[];return function(r){var i,o=r===e;e=r;var s=new Array(8);for(i=7;i>=0;i--)s[i]=t.charAt(r%64),r=Math.floor(r/64);a.assert(0===r,\"Cannot push at time == 0\");var u=s.join(\"\");if(o){for(i=11;i>=0&&63===n[i];i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=t.charAt(n[i]);return a.assert(20===u.length,\"nextPushId: Length should be 20.\"),u}}(),xt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Dt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new xt(O,t),r=new xt(O,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return xt.MIN},t}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),Object.defineProperty(e,\"__EMPTY_NODE\",{get:function(){return at},set:function(t){at=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError(\"KeyIndex.isDefinedOn not expected to be called.\")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(R,at)},e.prototype.makePost=function(t,e){return a.assert(\"string\"===typeof t,\"KeyIndex indexValue must always be a string.\"),new xt(t,at)},e.prototype.toString=function(){return\".key\"},e}(Dt),Mt=new Lt;function Ft(t){ut=t}var Ut,jt,Vt,qt=function(t){return\"number\"===typeof t?\"number:\"+U(t):\"string:\"+t},Bt=function(t){if(t.isLeafNode()){var e=t.val();a.assert(\"string\"===typeof e||\"number\"===typeof e||\"object\"===typeof e&&a.contains(e,\".sv\"),\"Priority must be a string or number.\")}else a.assert(t===ut||t.isEmpty(),\"priority of unexpected type.\");a.assert(t===ut||t.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},Wt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),Bt(this.priorityNode_)}return Object.defineProperty(t,\"__childrenNodeConstructor\",{get:function(){return Ut},set:function(t){Ut=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return\".priority\"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:\".priority\"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return\".priority\"===e?this.updatePriority(n):n.isEmpty()&&\".priority\"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&\".priority\"!==r?this:(a.assert(\".priority\"!==r||1===e.getLength(),\".priority must be the last token in a path\"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.priorityNode_.isEmpty()||(t+=\"priority:\"+qt(this.priorityNode_.val())+\":\");var e=typeof this.value_;t+=e+\":\",t+=\"number\"===e?U(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,\"Unknown leaf type: \"+n),a.assert(o>=0,\"Unknown leaf type: \"+r),i===o?\"object\"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"],t}();function zt(t){jt=t}function Gt(t){Vt=t}var Ht,Kt,Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(R,new Wt(\"[PRIORITY-POST]\",Vt))},e.prototype.makePost=function(t,e){var n=jt(t);return new xt(e,new Wt(\"[PRIORITY-POST]\",n))},e.prototype.toString=function(){return\".priority\"},e}(Dt),Yt=new Qt,$t=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!t.isEmpty())if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_){e=e.left;while(!e.isEmpty())this.nodeStack_.push(e),e=e.right}else{e=e.right;while(!e.isEmpty())this.nodeStack_.push(e),e=e.left}return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Jt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Zt.EMPTY_NODE,this.right=null!=o?o:Zt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Zt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Zt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check_();if(t!==this.right.check_())throw new Error(\"Black depths differ\");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Xt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Jt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Zt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Jt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jt.BLACK,null,null))},t.prototype.get=function(t){var e,n=this.root_;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){var e,n=this.root_,r=null;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new $t(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new $t(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new $t(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new $t(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Xt,t}(),te=Math.log(2),ee=function(){function t(t){var e=function(t){return parseInt(Math.log(t)/te,10)},n=function(t){return parseInt(Array(t+1).join(\"1\"),2)};this.count=e(t+1),this.current_=this.count-1;var r=n(this.count);this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ne=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Jt(s,o.node,Jt.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),h=i(u+1,r);return o=t[u],s=n?n(o):o,new Jt(s,o.node,Jt.BLACK,c,h)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),h=t[o],l=n?n(h):h;u(new Jt(l,h.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var h=e.nextBitIsOne(),l=Math.pow(2,e.count-(c+1));h?a(l,Jt.BLACK):(a(l,Jt.BLACK),a(l,Jt.RED))}return o},s=new ee(t.length),a=o(s);return new Zt(r||e,a)},re={},ie=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,\"Default\",{get:function(){return a.assert(re&&Yt,\"ChildrenNode.ts has not been loaded\"),Ht=Ht||new t({\".priority\":re},{\".priority\":Yt}),Ht},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error(\"No index defined for \"+t);return e instanceof Zt?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==Mt,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");var r,i=[],o=!1,u=n.getIterator(xt.Wrap),c=u.getNext();while(c)o=o||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=o?ne(i,e.getCompare()):re;var h=e.toString(),l=s.__assign({},this.indexSet_);l[h]=e;var f=s.__assign({},this.indexes_);return f[h]=r,new t(f,l)},t.prototype.addToIndexes=function(e,n){var r=this,i=a.map(this.indexes_,(function(t,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,\"Missing index implementation for \"+i),t===re){if(o.isDefinedOn(e.node)){var s=[],u=n.getIterator(xt.Wrap),c=u.getNext();while(c)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),ne(s,o.getCompare())}return re}var h=n.get(e.name),l=t;return h&&(l=l.remove(new xt(e.name,h))),l.insert(e,e.node)}));return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=a.map(this.indexes_,(function(t){if(t===re)return t;var r=n.get(e.name);return r?t.remove(new xt(e.name,r)):t}));return new t(r,this.indexSet_)},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction oe(t,e){return P(t.name,e.name)}function se(t,e){return P(t,e)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var ae=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Bt(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}return Object.defineProperty(t,\"EMPTY_NODE\",{get:function(){return Kt||(Kt=new t(new Zt(se),null,ie.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Kt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(\".priority\"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Kt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,\"We should always be passing snapshot nodes\"),\".priority\"===e)return this.updatePriority(n);var r=new xt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Kt:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(\".priority\"!==t.getFront()||1===t.getLength(),\".priority must be the last token in a path\");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Yt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[\".priority\"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.getPriority().isEmpty()||(t+=\"priority:\"+qt(this.getPriority().val())+\":\"),this.forEachChild(Yt,(function(e,n){var r=n.hash();\"\"!==r&&(t+=\":\"+e+\":\"+r)})),this.lazyHash_=\"\"===t?\"\":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new xt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));var r=this.children_.getIteratorFrom(t.name,xt.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)<0)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));var r=this.children_.getReverseIteratorFrom(t.name,xt.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)>0)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ce?-1:0},t.prototype.withIndex=function(e){if(e===Mt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Mt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){var n=this.getIterator(Yt),r=e.getIterator(Yt),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Mt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/,t}(),ue=function(t){function e(){return t.call(this,new Zt(se),ae.EMPTY_NODE,ie.Default)||this}return s.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ae.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ae),ce=new ue;Object.defineProperties(xt,{MIN:{value:new xt(O,ae.EMPTY_NODE)},MAX:{value:new xt(R,ce)}}),Lt.__EMPTY_NODE=ae.EMPTY_NODE,Wt.__childrenNodeConstructor=ae,Ft(ce),Gt(ce);\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar he=!0;function le(t,e){if(void 0===e&&(e=null),null===t)return ae.EMPTY_NODE;if(\"object\"===typeof t&&\".priority\"in t&&(e=t[\".priority\"]),a.assert(null===e||\"string\"===typeof e||\"number\"===typeof e||\"object\"===typeof e&&\".sv\"in e,\"Invalid priority type found: \"+typeof e),\"object\"===typeof t&&\".value\"in t&&null!==t[\".value\"]&&(t=t[\".value\"]),\"object\"!==typeof t||\".sv\"in t){var n=t;return new Wt(n,le(e))}if(t instanceof Array||!he){var r=ae.EMPTY_NODE;return F(t,(function(e,n){if(a.contains(t,e)&&\".\"!==e.substring(0,1)){var i=le(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(e,i))}})),r.updatePriority(le(e))}var i=[],o=!1,s=t;if(F(s,(function(t,e){if(\".\"!==t.substring(0,1)){var n=le(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new xt(t,n)))}})),0===i.length)return ae.EMPTY_NODE;var u=ne(i,oe,(function(t){return t.name}),se);if(o){var c=ne(i,Yt.getCompare());return new ae(u,le(e),new ie({\".priority\":c},{\".priority\":Yt}))}return new ae(u,le(e),ie.Default)}zt(le);\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar fe,pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return xt.MAX},e.prototype.makePost=function(t,e){var n=le(t);return new xt(e,n)},e.prototype.toString=function(){return\".value\"},e}(Dt),de=new pe,ve=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&\".priority\"!==e.getFront(),\"Can't create PathIndex with empty path or .priority key\"),n}return s.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=le(t),r=ae.EMPTY_NODE.updateChild(this.indexPath_,n);return new xt(e,r)},e.prototype.maxPost=function(){var t=ae.EMPTY_NODE.updateChild(this.indexPath_,ce);return new xt(R,t)},e.prototype.toString=function(){return this.indexPath_.slice().join(\"/\")},e}(Dt),ge=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount(\"DataSnapshot.val\",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount(\"DataSnapshot.exportVal\",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount(\"DataSnapshot.toJSON\",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount(\"DataSnapshot.exists\",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount(\"DataSnapshot.child\",0,1,arguments.length),e=String(e),Ct(\"DataSnapshot.child\",1,e,!1);var n=new K(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Yt)},t.prototype.hasChild=function(t){a.validateArgCount(\"DataSnapshot.hasChild\",1,1,arguments.length),Ct(\"DataSnapshot.hasChild\",1,t,!1);var e=new K(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount(\"DataSnapshot.getPriority\",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount(\"DataSnapshot.forEach\",1,1,arguments.length),a.validateCallback(\"DataSnapshot.forEach\",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Yt))}))},t.prototype.hasChildren=function(){return a.validateArgCount(\"DataSnapshot.hasChildren\",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,\"key\",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount(\"DataSnapshot.numChildren\",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount(\"DataSnapshot.ref\",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),me=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return\"value\"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+\":\"+this.eventType+\":\"+a.stringify(this.snapshot.exportVal())},t}(),ye=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return\"cancel\"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+\":cancel\"},t}(),we=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return\"value\"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new me(\"value\",this,new ge(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){a.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ye(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),be=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e=\"children_added\"===t?\"child_added\":t;return e=\"children_removed\"===e?\"child_removed\":e,a.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ye(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,\"Child events should have a childName.\");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new me(t.type,this,new ge(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){a.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length,s=i.length;if(o===s){if(1===o){var a=r[0],u=i[0];return u===a&&(!e.callbacks_[a]||!this.callbacks_[u]||e.callbacks_[a]===this.callbacks_[u])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),_e=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return a.assert(fe,\"Reference.ts has not been loaded\"),fe},set:function(t){fe=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Mt){var r=\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\",i=\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\";if(t.hasStart()){var o=t.getIndexStartName();if(o!==O)throw new Error(r);if(\"string\"!==typeof e)throw new Error(i)}if(t.hasEnd()){var s=t.getIndexEndName();if(s!==R)throw new Error(r);if(\"string\"!==typeof n)throw new Error(i)}}else if(t.getIndex()===Yt){if(null!=e&&!mt(e)||null!=n&&!mt(n))throw new Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\")}else if(a.assert(t.getIndex()instanceof ve||t.getIndex()===de,\"unknown index type.\"),null!=e&&\"object\"===typeof e||null!=n&&\"object\"===typeof n)throw new Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+\": You can't combine multiple orderBy calls.\")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount(\"Query.ref\",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){a.validateArgCount(\"Query.on\",2,4,arguments.length),It(\"Query.on\",1,e,!1),a.validateCallback(\"Query.on\",2,n,!1);var o=t.getCancelAndContextArgs_(\"Query.on\",r,i);if(\"value\"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new we(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new be(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){a.validateArgCount(\"Query.off\",0,3,arguments.length),It(\"Query.off\",1,t,!0),a.validateCallback(\"Query.off\",2,e,!0),a.validateContextObject(\"Query.off\",3,n,!0);var r=null,i=null;if(\"value\"===t){var o=e||null;r=new we(o,null,n||null)}else t&&(e&&(i={},i[t]=e),r=new be(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;a.validateArgCount(\"Query.once\",1,4,arguments.length),It(\"Query.once\",1,e,!1),a.validateCallback(\"Query.once\",2,n,!0);var s=t.getCancelAndContextArgs_(\"Query.once\",r,i),u=!0,c=new a.Deferred;c.promise.catch((function(){}));var h=function(t){u&&(u=!1,o.off(e,h),n&&n.bind(s.context)(t),c.resolve(t))};return this.on(e,h,(function(t){o.off(e,h),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount(\"Query.limitToFirst\",1,1,arguments.length),\"number\"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount(\"Query.limitToLast\",1,1,arguments.length),\"number\"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount(\"Query.orderByChild\",1,1,arguments.length),\"$key\"===e)throw new Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===e)throw new Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===e)throw new Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');Ct(\"Query.orderByChild\",1,e,!1),this.validateNoPreviousOrderByCall_(\"Query.orderByChild\");var n=new K(e);if(n.isEmpty())throw new Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");var r=new ve(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){a.validateArgCount(\"Query.orderByKey\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByKey\");var e=this.queryParams_.orderBy(Mt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount(\"Query.orderByPriority\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByPriority\");var e=this.queryParams_.orderBy(Yt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount(\"Query.orderByValue\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByValue\");var e=this.queryParams_.orderBy(de);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount(\"Query.startAt\",0,2,arguments.length),yt(\"Query.startAt\",1,e,this.path,!0),Tt(\"Query.startAt\",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount(\"Query.endAt\",0,2,arguments.length),yt(\"Query.endAt\",1,e,this.path,!0),Tt(\"Query.endAt\",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount(\"Query.equalTo\",1,2,arguments.length),yt(\"Query.equalTo\",1,t,this.path,!1),Tt(\"Query.equalTo\",2,e,!0),this.queryParams_.hasStart())throw new Error(\"Query.equalTo: Starting point was already set (by another call to startAt or equalTo).\");if(this.queryParams_.hasEnd())throw new Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount(\"Query.toString\",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount(\"Query.toJSON\",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=L(t);return\"{}\"===e?\"default\":e},t.prototype.isEqual=function(e){if(a.validateArgCount(\"Query.isEqual\",1,1,arguments.length),!(e instanceof t)){var n=\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,a.validateCallback(t,3,r.cancel,!0),r.context=n,a.validateContextObject(t,4,r.context,!0);else if(e)if(\"object\"===typeof e&&null!==e)r.context=e;else{if(\"function\"!==typeof e)throw new Error(a.errorPrefix(t,3,!0)+\" must either be a cancel callback or a context object.\");r.cancel=e}return r},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Ee=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),Ie=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Te=function(t){return t=t||{},t[\"timestamp\"]=t[\"timestamp\"]||(new Date).getTime(),t},Ce=function(t,e,n){return t&&\"object\"===typeof t?(a.assert(\".sv\"in t,\"Unexpected leaf node or priority contents\"),\"string\"===typeof t[\".sv\"]?Se(t[\".sv\"],e,n):\"object\"===typeof t[\".sv\"]?Ne(t[\".sv\"],e):void a.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2))):t},Se=function(t,e,n){switch(t){case\"timestamp\":return n[\"timestamp\"];default:a.assert(!1,\"Unexpected server value: \"+t)}},Ne=function(t,e,n){t.hasOwnProperty(\"increment\")||a.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2));var r=t[\"increment\"];\"number\"!==typeof r&&a.assert(!1,\"Unexpected increment value: \"+r);var i=e.node();if(a.assert(null!==i&&\"undefined\"!==typeof i,\"Expected ChildrenNode.EMPTY_NODE for nulls\"),!i.isLeafNode())return r;var o=i,s=o.getValue();return\"number\"!==typeof s?r:s+r},ke=function(t,e,n,r){return Oe(e,new Ie(n,t),r)},Ae=function(t,e,n){return Oe(t,new Ee(e),n)};function Oe(t,e,n){var r,i=t.getPriority().val(),o=Ce(i,e.getImmediateChild(\".priority\"),n);if(t.isLeafNode()){var s=t,a=Ce(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Wt(a,le(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Wt(o))),u.forEachChild(Yt,(function(t,i){var o=Oe(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Re,Pe=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();if(t=t.popFront(),this.children.has(e)){var n=this.children.get(e);return n.find(t)}return null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Yt,(function(t,e){n.remember(new K(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r)){var i=this.children.get(r).forget(t);i&&this.children.delete(r)}return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new K(t.toString()+\"/\"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(function(t){t[t[\"OVERWRITE\"]=0]=\"OVERWRITE\",t[t[\"MERGE\"]=1]=\"MERGE\",t[t[\"ACK_USER_WRITE\"]=2]=\"ACK_USER_WRITE\",t[t[\"LISTEN_COMPLETE\"]=3]=\"LISTEN_COMPLETE\"})(Re||(Re={}));var xe,De,Le=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,a.assert(!r||e,\"Tagged queries must be from server.\")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Me=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Re.ACK_USER_WRITE,this.source=Le.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var n=this.affectedTree.subtree(new K(e));return new t(K.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,\"operationForChild called for unrelated child.\"),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Fe=function(){return xe||(xe=new Zt(x)),xe},Ue=function(){function t(t,e){void 0===e&&(e=Fe()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return F(e,(function(t,e){n=n.set(new K(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:K.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=i){var o=new K(n).child(i.path);return{path:o,value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.set(e.popFront(),n),s=this.children.insert(r,o);return new t(this.value,s)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.setTree(e.popFront(),n),s=void 0;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,s)},t.prototype.fold=function(t){return this.fold_(K.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,K.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,K.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(K.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),je=function(){function t(t,e){this.source=t,this.path=e,this.type=Re.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,K.Empty):new t(this.source,this.path.popFront())},t}(),Ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Re.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,K.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),qe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Re.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new K(e));return n.isEmpty()?null:n.value?new Ve(this.source,K.Empty,n.value):new t(this.source,K.Empty,n)}return a.assert(this.path.getFront()===e,\"Can't get a merge for a child not on the path of the operation\"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"},t}(),Be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),We=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Be(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Be(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Be(ae.EMPTY_NODE,!1,!1),new Be(ae.EMPTY_NODE,!1,!1)),t}(),ze=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED=\"child_added\",t.CHILD_REMOVED=\"child_removed\",t.CHILD_CHANGED=\"child_changed\",t.CHILD_MOVED=\"child_moved\",t.VALUE=\"value\",t}(),Ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){a.assert(t.isIndexed(this.index_),\"A node must be indexed if only a child is updated\");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ze.childRemovedChange(e,s)):a.assert(t.isLeafNode(),\"A child remove without an old child only makes sense on a leaf node\"):s.isEmpty()?o.trackChildChange(ze.childAddedChange(e,n)):o.trackChildChange(ze.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Yt,(function(t,r){e.hasChild(t)||n.trackChildChange(ze.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Yt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ze.childChangedChange(e,r,i))}else n.trackChildChange(ze.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ae.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),He=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e===ze.CHILD_ADDED||e===ze.CHILD_CHANGED||e===ze.CHILD_REMOVED,\"Only child changes supported for tracking\"),a.assert(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===ze.CHILD_ADDED&&i===ze.CHILD_REMOVED)this.changeMap.set(n,ze.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===ze.CHILD_REMOVED&&i===ze.CHILD_ADDED)this.changeMap.delete(n);else if(e===ze.CHILD_REMOVED&&i===ze.CHILD_CHANGED)this.changeMap.set(n,ze.childRemovedChange(n,r.oldSnap));else if(e===ze.CHILD_CHANGED&&i===ze.CHILD_ADDED)this.changeMap.set(n,ze.childAddedChange(n,t.snapshotNode));else{if(e!==ze.CHILD_CHANGED||i!==ze.CHILD_CHANGED)throw a.assertionError(\"Illegal combination of changes: \"+t+\" occurred after \"+r);this.changeMap.set(n,ze.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ke=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),Qe=new Ke,Ye=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),$e=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}(),Je=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),\"Event snap not indexed\"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),\"Server snap not indexed\")},t.prototype.applyOperation=function(e,n,r,i){var o,s,u=new He;if(n.type===Re.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(a.assert(c.source.fromServer,\"Unknown source.\"),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===Re.MERGE){var h=n;h.source.fromUser?o=this.applyUserMerge_(e,h.path,h.children,r,i,u):(a.assert(h.source.fromServer,\"Unknown source.\"),s=h.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,h.path,h.children,r,i,s,u))}else if(n.type===Re.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,u):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,u)}else{if(n.type!==Re.LISTEN_COMPLETE)throw a.assertionError(\"Unknown operation type: \"+n.type);o=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,o,f),new $e(o,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ze.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),h=c instanceof ae?c:ae.EMPTY_NODE,l=n.calcCompleteEventChildren(h);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var p=e.getFront();if(\".priority\"===p){a.assert(1===e.getLength(),\"Can't have a priority with additional path components\");var d=o.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=v?this.filter_.updatePriority(d,v):o.getNode()}else{var g=e.popFront(),m=void 0;if(o.isCompleteForChild(p)){u=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);m=null!=y?o.getNode().getImmediateChild(p).updateChild(g,y):o.getNode().getImmediateChild(p)}else m=n.calcCompleteChild(p,t.getServerCache());s=null!=m?this.filter_.updateChild(o.getNode(),p,m,g,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),h,null)}else{var l=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(l),d=p.updateChild(f,n);a=\".priority\"===l?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),l,d,f,Qe,null)}var v=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),g=new Ye(r,v,i);return this.generateEventCacheAfterServerEvent_(v,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new Ye(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var h=e.getFront();if(\".priority\"===h)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var l=e.popFront(),f=u.getNode().getImmediateChild(h),p=void 0;if(l.isEmpty())p=n;else{var d=c.getCompleteChild(h);p=null!=d?\".priority\"===l.getBack()&&d.getChild(l.parent()).isEmpty()?d:d.updateChild(l,n):ae.EMPTY_NODE}if(f.equals(p))s=t;else{var v=this.filter_.updateChild(u.getNode(),h,p,l,c,o);s=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var h=n.child(r);t.cacheHasChild_(e,h.getFront())&&(u=a.applyUserOverwrite_(u,h,c,i,o,s))})),r.foreach((function(r,c){var h=n.child(r);t.cacheHasChild_(e,h.getFront())||(u=a.applyUserOverwrite_(u,h,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Ue.Empty.setTree(e,n);var h=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(h.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),l=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new K(e),l,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!h.hasChild(e)&&!u){var l=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(l,n);c=a.applyServerOverwrite_(c,new K(e),f,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=Ue.Empty;return a.getNode().forEachChild(Mt,(function(t,e){u=u.set(new K(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=Ue.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Qe,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new Ye(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||\".priority\"===e.getFront()){var h=void 0;if(t.getServerCache().isFullyInitialized())h=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();a.assert(l instanceof ae,\"serverChildren would be complete if leaf node\"),h=n.calcCompleteEventChildren(l)}h=h,c=this.filter_.updateFullNode(u,h,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),c=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,ae.EMPTY_NODE,e.popFront(),s,i):u,c.isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap()),o.isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i)))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(K.Empty),t.updateEventSnap(c,o,this.filter_.filtersNodes())},t}(),Xe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ze.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ze.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ze.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ze.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ze.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ze.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ze.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return\"value\"===t.type||\"child_removed\"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError(\"Should only compare child_ events.\");var n=new xt(t.childName,t.snapshotNode),r=new xt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ze=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ge(n.getIndex()),i=n.getNodeFilter();this.processor_=new Je(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(ae.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(ae.EMPTY_NODE,s.getNode(),null),c=new Be(a,o.isFullyInitialized(),r.filtersNodes()),h=new Be(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new We(h,c),this.eventGenerator_=new Xe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,\"A cancel should cancel all event registrations.\");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Re.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),\"We should always have a full cache before handling merges\"),a.assert(this.viewCache_.getCompleteEventSnap(),\"Missing event cache, even though we have a server cache\"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){var r=e.getNode();r.forEachChild(Yt,(function(t,e){n.push(ze.childAddedChange(t,e))}))}return e.isFullyInitialized()&&n.push(ze.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),tn=function(){function t(){this.views=new Map}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return a.assert(De,\"Reference.ts has not been loaded\"),De},set:function(t){a.assert(!De,\"__referenceConstructor has already been defined\"),De=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var u=this.views.get(o);return a.assert(null!=u,\"SyncTree gave us an op for an invalid query.\"),u.applyOperation(t,e,n)}var c=[];try{for(var h=s.__values(this.views.values()),l=h.next();!l.done;l=h.next()){u=l.value;c=c.concat(u.applyOperation(t,e,n))}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof ae?(a=n.calcCompleteEventChildren(r),u=!1):(a=ae.EMPTY_NODE,u=!1);var c=new We(new Be(a,u,!1),new Be(r,i,!1));s=new Ze(t,c),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,a=e.queryIdentifier(),u=[],c=[],h=this.hasCompleteView();if(\"default\"===a)try{for(var l=s.__values(this.views.entries()),f=l.next();!f.done;f=l.next()){var p=s.__read(f.value,2),d=p[0],v=p[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else{v=this.views.get(a);v&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(a),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())))}return h&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=s.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=s.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){var e=t.getQueryParams();if(e.loadsAllData())return this.getCompleteView();var n=t.queryIdentifier();return this.views.get(n)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=s.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),en=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Ue(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=K.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new Ue(n),u=this.writeTree_.setTree(e,a);return new t(u)},t.prototype.addWrites=function(t,e){var n=this;return F(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){if(e.isEmpty())return t.Empty;var n=this.writeTree_.setTree(e,Ue.Empty);return new t(n)},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(K.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Yt,(function(e,n){t.push(new xt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new xt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Ue(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return nn(K.Empty,this.writeTree_,t)},t.Empty=new t(new Ue(null)),t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function nn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){\".priority\"===e?(a.assert(null!==i.value,\"Priority writes must always be leaf nodes\"),r=i.value):n=nn(t.child(e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(\".priority\"),r)),n}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var rn=function(){function t(){this.visibleWrites_=en.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new on(t,this)},t.prototype.addOverwrite=function(t,e,n,r){a.assert(n>this.lastWriteId_,\"Stacking an older write on top of newer ones\"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,\"Stacking an older merge on top of newer ones\"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));a.assert(n>=0,\"removeWrite called with nonexistent writeId.\");var r=this.allWrites_[n];this.allWrites_.splice(n,1);var i=r.visible,o=!1,s=this.allWrites_.length-1;while(i&&s>=0){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var c=r.children;F(c,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}))}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(K.Empty)){var s=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},a=t.layerTree_(this.allWrites_,s,e);h=n||ae.EMPTY_NODE;return a.apply(h)}return null}var u=this.visibleWrites_.getCompleteNode(e);if(null!=u)return u;var c=this.visibleWrites_.childCompoundWrite(e);if(c.isEmpty())return n;if(null!=n||c.hasCompleteWrite(K.Empty)){var h=n||ae.EMPTY_NODE;return c.apply(h)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=ae.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Yt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Yt,(function(t,e){var r=i.childCompoundWrite(new K(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}var o=this.visibleWrites_.childCompoundWrite(t);return o.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){a.assert(n||r,\"Either existingEventSnap or existingServerSnap must exist\");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(e)){var o=this.visibleWrites_.childCompoundWrite(r);return o.apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(K.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if(s=s.withIndex(o),s.isEmpty()||s.isLeafNode())return[];var c=[],h=o.getCompare(),l=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=l.getNext();while(f&&c.length<r)0!==h(f,n)&&c.push(f),f=l.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,K.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=en.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,u=void 0;if(o.snap)n.contains(s)?(u=K.relativePath(n,s),r=r.addWrite(u,o.snap)):s.contains(n)&&(u=K.relativePath(s,n),r=r.addWrite(K.Empty,o.snap.getChild(u)));else{if(!o.children)throw a.assertionError(\"WriteRecord should have .snap or .children\");if(n.contains(s))u=K.relativePath(n,s),r=r.addWrites(u,o.children);else if(s.contains(n))if(u=K.relativePath(s,n),u.isEmpty())r=r.addWrites(K.Empty,o.children);else{var c=a.safeGet(o.children,u.getFront());if(c){var h=c.getChild(u.popFront());r=r.addWrite(K.Empty,h)}}}}}return r},t}(),on=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),sn=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Ue.Empty,this.pendingWriteTree_=new rn,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Ve(Le.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Ue.fromObject(e);return this.applyOperationToSyncPoints_(new qe(Le.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t),r=this.pendingWriteTree_.removeWrite(t);if(r){var i=Ue.Empty;return null!=n.snap?i=i.set(K.Empty,!0):F(n.children,(function(t,e){i=i.set(new K(t),e)})),this.applyOperationToSyncPoints_(new Me(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Ve(Le.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Ue.fromObject(e);return this.applyOperationToSyncPoints_(new qe(Le.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new je(Le.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=K.relativePath(s,e),c=new Ve(Le.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=K.relativePath(s,e),c=Ue.fromObject(n),h=new qe(Le.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,h)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=K.relativePath(o,e),u=new je(Le.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=K.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);if(u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(K.Empty)):(u=new tn,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)s=!0;else{s=!1,i=ae.EMPTY_NODE;var c=this.syncPointTree_.subtree(r);c.foreachChild((function(t,e){var n=e.getCompleteServerCache(K.Empty);n&&(i=i.updateImmediateChild(t,n))}))}var h=u.viewExistsForQuery(e);if(!h&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(l),\"View does not exist, but we have a tag\");var f=t.getNextQueryTag_();this.queryToTagMap.set(l,f),this.tagToQueryMap.set(f,l)}var p=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,p,i,s);if(!h&&!o){var v=u.viewForQuery(e);d=d.concat(this.setupListener_(e,v))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&(\"default\"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var h=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),l=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(h&&!l){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}if(!l&&c.length>0&&!r)if(h){var y=null;this.listenProvider_.stopListening(t.queryForListening_(e),y)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=!0,r=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,(function(e,n){var r=K.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return r.calcCompleteEventCache(t,i,e,n)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView()){var r=e.getCompleteView();return[r]}var i=[];return e&&(i=e.getQueryViews()),F(n,(function(t,e){i=i.concat(e)})),i}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)a.assert(!u.value.hasCompleteView(),\"If we're adding a query, it shouldn't be shadowed\");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),F(n,(function(t,e){r=r.concat(e)})),r})),h=0;h<c.length;++h){var l=c[h];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){var e=t.getServerCache()||ae.EMPTY_NODE;return e.hash()},onComplete:function(t){if(\"ok\"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=q(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+\"$\"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf(\"$\");return a.assert(-1!==e&&e<t.length-1,\"Bad queryKey.\"),{queryId:t.substr(e+1),path:new K(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,\"Missing sync point for query tag that we're tracking\");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(K.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(K.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(K.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,h=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,h))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(K.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(K.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),an=function(){function t(){this.rootNode_=ae.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),un=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&\"auth/token-not-initialized\"===t.code?(E(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named \"'+this.app_.name+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.app_.options?t+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.app_.options?t+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':t+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(t)},t}(),cn=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),hn=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new cn),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),ln=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=s.__assign({},t);return this.last_&&F(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),fn=1e4,pn=3e4,dn=3e5,vn=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ln(t);var n=fn+(pn-fn)*Math.random();H(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;F(e,(function(e,i){i>0&&a.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),H(this.reportStats_.bind(this),Math.floor(2*Math.random()*dn))},t}(),gn=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new mn(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){var i=r.getPath();t(i)?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),mn=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();w&&E(\"event: \"+e.toString()),z(n)}}},t.prototype.getPath=function(){return this.path_},t}(),yn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,\"Requires a non-empty array\")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=s.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find((function(e){return e===t})),\"Unknown event: \"+t)},t}(),wn=function(t){function e(){var e,n,r=t.call(this,[\"visible\"])||this;return\"undefined\"!==typeof document&&\"undefined\"!==typeof document.addEventListener&&(\"undefined\"!==typeof document[\"hidden\"]?(n=\"visibilitychange\",e=\"hidden\"):\"undefined\"!==typeof document[\"mozHidden\"]?(n=\"mozvisibilitychange\",e=\"mozHidden\"):\"undefined\"!==typeof document[\"msHidden\"]?(n=\"msvisibilitychange\",e=\"msHidden\"):\"undefined\"!==typeof document[\"webkitHidden\"]&&(n=\"webkitvisibilitychange\",e=\"webkitHidden\")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger(\"visible\",t))}),!1),r}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert(\"visible\"===t,\"Unknown event type: \"+t),[this.visible_]},e}(yn),bn=function(t){function e(){var e=t.call(this,[\"online\"])||this;return e.online_=!0,\"undefined\"===typeof window||\"undefined\"===typeof window.addEventListener||a.isMobileCordova()||(window.addEventListener(\"online\",(function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))}),!1),window.addEventListener(\"offline\",(function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))}),!1)),e}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert(\"online\"===t,\"Unknown event type: \"+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(yn),_n=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&z((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),\"break\";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if(\"break\"===o)break}},t}(),En=\"start\",In=\"close\",Tn=\"pLPCommand\",Cn=\"pRTLPCB\",Sn=\"id\",Nn=\"pw\",kn=\"ser\",An=\"cb\",On=\"seg\",Rn=\"ts\",Pn=\"d\",xn=\"dframe\",Dn=1870,Ln=30,Mn=Dn-Ln,Fn=25e3,Un=3e4,jn=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(t),this.stats_=hn.getCollection(e),this.urlFn=function(t){return e.connectionURL(rt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new _n(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_(\"Timed out trying to connect.\"),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Un)),A((function(){if(!n.isClosed_){n.scriptTagHolder=new Vn((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=s.__read(t,5),i=r[0],o=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===En)n.id=o,n.password=a;else{if(i!==In)throw new Error(\"Unrecognized command received: \"+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=s.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={};t[En]=\"t\",t[kn]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t[An]=n.scriptTagHolder.uniqueCallbackIdentifier),t[$]=Y,n.transportSessionId&&(t[J]=n.transportSessionId),n.lastSessionId&&(t[et]=n.lastSessionId),\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(tt)&&(t[X]=Z);var e=n.urlFn(t);n.log_(\"Connecting via long-poll to \"+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!a.isNodeSdk()&&(!!t.forceAllow_||!t.forceDisallow_&&\"undefined\"!==typeof document&&null!=document.createElement&&!j()&&!V())},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);for(var n=a.base64Encode(e),r=M(n,Mn),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement(\"iframe\");var n={};n[xn]=\"t\",n[Sn]=t,n[Nn]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter(\"bytes_received\",e)},t}(),Vn=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[Tn+this.uniqueCallbackIdentifier]=e,window[Cn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o=\"\";if(this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length)){var s=document.domain;o='<script>document.domain=\"'+s+'\";<\\/script>'}var u=\"<html><body>\"+o+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){E(\"frame writing exception\"),c.stack&&E(c.stack),E(c)}}}return t.createIFrame_=function(){var t=document.createElement(\"iframe\");if(t.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(t);try{var e=t.contentWindow.document;e||E(\"No IE domain setting required\")}catch(r){var n=document.domain;t.src=\"javascript:void((function(){document.open();document.domain='\"+n+\"';document.close();})())\"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){this.myID=t,this.myPW=e,this.alive=!0;while(this.newRequest_());},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[Sn]=this.myID,t[Nn]=this.myPW,t[kn]=this.currentSerial;var e=this.urlFn(t),n=\"\",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Ln+n.length<=Dn))break;var o=this.pendingSegs.shift();n=n+\"&\"+On+r+\"=\"+o.seg+\"&\"+Rn+r+\"=\"+o.ts+\"&\"+Pn+r+\"=\"+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(Fn)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement(\"script\");r.type=\"text/javascript\",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&\"loaded\"!==t&&\"complete\"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){E(\"Long-poll script failed to load: \"+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),qn=\"\";function Bn(t){qn=t}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Wn=16384,zn=45e3,Gn=null;\"undefined\"!==typeof MozWebSocket?Gn=MozWebSocket:\"undefined\"!==typeof WebSocket&&(Gn=WebSocket);var Hn=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=hn.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={};return r[$]=Y,!a.isNodeSdk()&&\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(tt)&&(r[X]=Z),e&&(r[J]=e),n&&(r[et]=n),t.connectionURL(nt,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,p.set(\"previous_websocket_failure\",!0);try{if(a.isNodeSdk()){var i=a.CONSTANTS.NODE_ADMIN?\"AdminNode\":\"Node\",o={headers:{\"User-Agent\":\"Firebase/\"+Y+\"/\"+qn+\"/\"+r.platform+\"/\"+i}},s=Object({NODE_ENV:\"production\",VUE_APP_I18N_LOCALE:\"en\",VUE_APP_I18N_FALLBACK_LOCALE:\"en\",BASE_URL:\"/\"}),u=0===this.connURL.indexOf(\"wss://\")?s[\"HTTPS_PROXY\"]||s[\"https_proxy\"]:s[\"HTTP_PROXY\"]||s[\"http_proxy\"];u&&(o[\"proxy\"]={origin:u}),this.mySock=new Gn(this.connURL,[],o)}else this.mySock=new Gn(this.connURL)}catch(h){this.log_(\"Error instantiating WebSocket.\");var c=h.message||h.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_(\"Websocket connected.\"),n.everConnected_=!0},this.mySock.onclose=function(){n.log_(\"Websocket connection was disconnected.\"),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_(\"WebSocket error.  Closing connection.\");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(\"undefined\"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Gn&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get(\"previous_websocket_failure\")},t.prototype.markConnectionHealthy=function(){p.remove(\"previous_websocket_failure\")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join(\"\");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,\"We already have a frame buffer\"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t[\"data\"];if(this.bytesReceived+=e.length,this.stats_.incrementCounter(\"bytes_received\",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);var n=M(e,Wn);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_(\"0\"),t.resetKeepAlive()}),Math.floor(zn))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_(\"Exception thrown from WebSocket.send():\",e.message||e.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Kn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,\"ALL_TRANSPORTS\",{get:function(){return[jn,Hn]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Hn&&Hn[\"isAvailable\"](),o=i&&!Hn.previouslyFailed();if(e.webSocketOnly&&(i||S(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),o=!0),o)this.transports_=[Hn];else{var a=this.transports_=[];try{for(var u=s.__values(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var h=c.value;h&&h[\"isAvailable\"]()&&a.push(h)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error(\"No transports available\")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Qn=6e4,Yn=5e3,$n=10240,Jn=102400,Xn=\"t\",Zn=\"d\",tr=\"s\",er=\"r\",nr=\"e\",rr=\"o\",ir=\"a\",or=\"n\",sr=\"p\",ar=\"h\",ur=function(){function t(t,e,n,r,i,o,s){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I(\"c:\"+this.id+\":\"),this.transportManager_=new Kn(e),this.log_(\"Connection created\"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e[\"responsesRequiredToBeHealthy\"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e[\"healthyTimeout\"]||0;i>0&&(this.healthyTimeout_=H((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>Jn?(t.log_(\"Connection exceeded healthy timeout but has received \"+t.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>$n?t.log_(\"Connection exceeded healthy timeout but has sent \"+t.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(t.log_(\"Closing unhealthy connection after timeout.\"),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return\"c:\"+this.id+\":\"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_(\"Secondary connection lost.\"),e.onSecondaryConnectionLost_()):e.log_(\"closing an old connection\")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_(\"message on old connection\"))}},t.prototype.sendRequest=function(t){var e={t:\"d\",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(Xn in t){var e=t[Xn];e===ir?this.upgradeIfSecondaryHealthy_():e===er?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===rr&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D(\"t\",t),n=D(\"d\",t);if(\"c\"===e)this.onSecondaryControl_(n);else{if(\"d\"!==e)throw new Error(\"Unknown protocol layer: \"+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:sr,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:ir,d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:or,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D(\"t\",t),n=D(\"d\",t);\"c\"===e?this.onControl_(n):\"d\"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D(Xn,t);if(Zn in t){var n=t[Zn];if(e===ar)this.onHandshake_(n);else if(e===or){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===tr?this.onConnectionShutdown_(n):e===er?this.onReset_(n):e===nr?T(\"Server Error: \"+n):e===rr?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T(\"Unknown control packet command: \"+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Y!==n&&S(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t[\"responsesRequiredToBeHealthy\"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),H((function(){e.secondaryConn_&&(e.log_(\"Timed out trying to upgrade.\"),e.secondaryConn_.close())}),Math.floor(Qn))},t.prototype.onReset_=function(t){this.log_(\"Reset packet received.  New host: \"+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):H((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(Yn))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:sr,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(p.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),cr=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),hr=1e3,lr=3e5,fr=3e4,pr=1.3,dr=3e4,vr=\"server_kill\",gr=3,mr=function(t){function e(n,r,i,o,s,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=I(\"p:\"+c.id+\":\"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=hr,c.maxReconnectDelay_=lr,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!a.isNodeSdk())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return c.scheduleConnect_(0),wn.getInstance().on(\"visible\",c.onVisible_,c),-1===n.host.indexOf(\"fblocal\")&&bn.getInstance().on(\"online\",c.onOnline_,c),c}return s.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(a.stringify(i)),a.assert(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_(\"Listen called for \"+o+\" \"+i),this.listens.has(o)||this.listens.set(o,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"listen() called for non-default but complete query\"),a.assert(!this.listens.get(o).has(i),\"listen() called twice for same path/queryId.\");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_(\"Listen on \"+i+\" for \"+o);var s={p:i},a=\"q\";t.tag&&(s[\"q\"]=r.queryObject(),s[\"t\"]=t.tag),s[\"h\"]=t.hashFn(),this.sendRequest(a,s,(function(s){var a=s[\"d\"],u=s[\"s\"];e.warnOnListenWarnings_(a,r);var c=n.listens.get(i)&&n.listens.get(i).get(o);c===t&&(n.log_(\"listen response\",s),\"ok\"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&\"object\"===typeof t&&a.contains(t,\"w\")){var n=a.safeGet(t,\"w\");if(Array.isArray(n)&&~n.indexOf(\"no_index\")){var r='\".indexOn\": \"'+e.getQueryParams().getIndex().toString()+'\"',i=e.path.toString();S(\"Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding \"+r+\" at \"+i+\" to your security rules for better performance.\")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e=t&&40===t.length;(e||a.isAdmin(t))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=fr)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?\"auth\":\"gauth\",r={cred:e};null===this.authOverride_?r[\"noauth\"]=!0:\"object\"===typeof this.authOverride_&&(r[\"authvar\"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n[\"s\"],i=n[\"d\"]||\"error\";t.authToken_===e&&(\"ok\"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_(\"Unlisten called for \"+n+\" \"+r),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"unlisten() called for non-default but complete query\");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_(\"Unlisten on \"+t+\" for \"+e);var i={p:t},o=\"n\";r&&(i[\"q\"]=n,i[\"t\"]=r),this.sendRequest(o,i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"o\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"o\",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"om\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"om\",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_(\"oc\",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:\"oc\",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_(\"onDisconnect \"+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t[\"s\"],t[\"d\"])}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal(\"p\",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal(\"m\",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o[\"h\"]=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_(\"Buffering put: \"+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+\" response\",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r[\"s\"],r[\"d\"])}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_(\"reportStats\",n),this.sendRequest(\"s\",n,(function(t){var n=t[\"s\"];if(\"ok\"!==n){var r=t[\"d\"];e.log_(\"reportStats\",\"Error sending stats: \"+r)}}))}},e.prototype.onDataMessage_=function(t){if(\"r\"in t){this.log_(\"from server: \"+a.stringify(t));var e=t[\"r\"],n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t[\"b\"]))}else{if(\"error\"in t)throw\"A server-side error has occurred: \"+t[\"error\"];\"a\"in t&&this.onDataPush_(t[\"a\"],t[\"b\"])}},e.prototype.onDataPush_=function(t,e){this.log_(\"handleServerMessage\",t,e),\"d\"===t?this.onDataUpdate_(e[\"p\"],e[\"d\"],!1,e[\"t\"]):\"m\"===t?this.onDataUpdate_(e[\"p\"],e[\"d\"],!0,e[\"t\"]):\"c\"===t?this.onListenRevoked_(e[\"p\"],e[\"q\"]):\"ac\"===t?this.onAuthRevoked_(e[\"s\"],e[\"d\"]):\"sd\"===t?this.onSecurityDebugPacket_(e):T(\"Unrecognized action received from server: \"+a.stringify(t)+\"\\nAre you using the latest client?\")},e.prototype.onReady_=function(t,e){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_(\"Browser went online.\"),this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>dr&&(this.reconnectDelay_=hr),this.lastConnectionEstablishedTime_=null}}else this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_(\"Trying to reconnect in \"+n+\"ms\"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pr)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+\":\"+e.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,c=null,h=function(){c?c.close():(u=!0,r())},l=function(t){a.assert(c,\"sendRequest call when we're not connected not allowed.\"),c.sendRequest(t)};this.realtime_={close:h,sendRequest:l};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){u?E(\"getToken() completed but was canceled\"):(E(\"getToken() completed. Creating connection.\"),o.authToken_=e&&e.accessToken,c=new ur(i,o.repoInfo_,t,n,r,(function(t){S(t+\" (\"+o.repoInfo_.toString()+\")\"),o.interrupt(vr)}),s))})).then(null,(function(t){o.log_(\"Failed to get token: \"+t),u||(a.CONSTANTS.NODE_ADMIN&&S(t),h())}))}},e.prototype.interrupt=function(t){E(\"Interrupting connection for reason: \"+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){E(\"Resuming connection for reason: \"+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&\"h\"in e.request&&e.queued&&(e.onComplete&&e.onComplete(\"disconnect\"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return L(t)})).join(\"$\"):\"default\";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete(\"permission_denied\")},e.prototype.removeListen_=function(t,e){var n,r=new K(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){E(\"Auth token revoked: \"+t+\"/\"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==t&&\"permission_denied\"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gr&&(this.reconnectDelay_=fr,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):\"msg\"in t&&console.log(\"FIREBASE: \"+t[\"msg\"].replace(\"\\n\",\"\\nFIREBASE: \"))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=s.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(a.values())),c=u.next();!c.done;c=u.next()){var h=c.value;this.sendListen_(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);while(this.onDisconnectRequestQueue_.length){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e=\"js\";a.CONSTANTS.NODE_ADMIN?e=\"admin_node\":a.CONSTANTS.NODE_CLIENT&&(e=\"node\"),t[\"sdk.\"+e+\".\"+qn.replace(/\\./g,\"-\")]=1,a.isMobileCordova()?t[\"framework.cordova\"]=1:a.isReactNative()&&(t[\"framework.reactnative\"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=bn.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(cr),yr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=I(\"p:rest:\"),i.listens_={},i}return s.__extends(e,t),e.prototype.reportStats=function(t){throw new Error(\"Method not implemented.\")},e.getListenId_=function(t,e){return void 0!==e?\"tag$\"+e:(a.assert(t.getQueryParams().isDefault(),\"should have a tag if it's not a default query.\"),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_(\"Listen called for \"+s+\" \"+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var h=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+\".json\",h,(function(t,e){var n,h=e;(404===t&&(h=null,t=null),null===t&&o.onDataUpdate_(s,h,!1,r),a.safeGet(o.listens_,u)===c)&&(n=t?401===t?\"permission_denied\":\"rest_error:\"+t:\"ok\",i(n,null))}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e[\"format\"]=\"export\",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e[\"auth\"]=o);var s=(r.repoInfo_.secure?\"https://\":\"http://\")+r.repoInfo_.host+t+\"?ns=\"+r.repoInfo_.namespace+a.querystring(e);r.log_(\"Sending REST request for \"+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_(\"REST Response for \"+s+\" received. status:\",u.status,\"response:\",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=a.jsonEval(u.responseText)}catch(e){S(\"Failed to parse JSON response for \"+s+\": \"+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&S(\"Got unsuccessful REST response for \"+s+\" Status: \"+u.status),n(u.status);n=null}},u.open(\"GET\",s,!0),u.send()}))},e}(cr),wr=\"repo_interrupt\",br=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Pe,this.persistentConnection_=null;var o=new un(n,r);if(this.stats_=hn.getCollection(t),e||G())this.server_=new yr(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options[\"databaseAuthVariableOverride\"];if(\"undefined\"!==typeof s&&null!==s){if(\"object\"!==typeof s)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{a.stringify(s)}catch(u){throw new Error(\"Invalid authOverride provided: \"+u)}}this.persistentConnection_=new mr(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=hn.getOrCreateReporter(t,(function(){return new vn(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new an,this.infoSyncTree_=new sn({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r(\"ok\")}),0)),o},stopListening:function(){}}),this.updateInfo_(\"connected\",!1),this.serverSyncTree_=new sn({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new K(\".info/serverTimeOffset\")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return Te({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new K(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=a.map(e,(function(t){return le(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=le(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=a.map(e,(function(t){return le(t)}));o=this.serverSyncTree_.applyServerMerge(i,c)}else{var h=le(e);o=this.serverSyncTree_.applyServerOverwrite(i,h)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_(\"connected\",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;F(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new K(\"/.info/\"+t),r=le(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_(\"set\",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=le(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=Ae(s,a,o),c=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(h),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o=\"ok\"===e;o||S(\"set at \"+t+\" failed: \"+e);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_(\"update\",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(F(e,(function(e,n){i=!1,s[e]=ke(t.child(e),le(n),r.serverSyncTree_,o)})),i)E(\"update() called with empty data.  Don't do anything.\"),this.callOnCompleteCallback(n,\"ok\");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o=\"ok\"===e;o||S(\"update at \"+t+\" failed: \"+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,i)})),F(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_(\"onDisconnectEvents\");var e=this.generateServerValues(),n=new Pe;this.onDisconnect_.forEachTree(K.Empty,(function(r,i){var o=ke(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(K.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new Pe,this.eventQueue_.raiseEventsForChangedPath(K.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){\"ok\"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=le(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){\"ok\"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=le(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){\"ok\"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(a.isEmpty(e))return E(\"onDisconnect().update() called with empty data.  Don't do anything.\"),void this.callOnCompleteCallback(n,\"ok\");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){\"ok\"===i&&F(e,(function(e,n){var i=le(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(wr)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(wr)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),\"undefined\"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new ln(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);F(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=\" \";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"\";this.persistentConnection_&&(n=this.persistentConnection_.id+\":\"),E.apply(void 0,s.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&z((function(){if(\"ok\"===e)t(null);else{var r=(e||\"error\").toUpperCase(),i=r;n&&(i+=\": \"+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,\"database\",{get:function(){return this.__database||(this.__database=new Pr(this))},enumerable:!0,configurable:!0}),t}(),_r=function(){function t(e){this.indexedFilter_=new Ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new xt(e,n))||(n=ae.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ae.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ae.EMPTY_NODE);var i=this;return e.forEachChild(Yt,(function(t,e){i.matches(new xt(t,e))||(r=r.updateImmediateChild(t,ae.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Er=function(){function t(t){this.rangedFilter_=new _r(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new xt(e,n))||(n=ae.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ae.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ae.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var s=i.getNext(),a=void 0;if(a=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,!a)break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(ae.EMPTY_NODE);var u=void 0,c=void 0,h=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();h=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();o=0;var f=!1;while(i.hasNext()){s=i.getNext();!f&&h(u,s)<=0&&(f=!0);a=f&&o<this.limit_&&h(s,c)<=0;a?o++:r=r.updateImmediateChild(s.name,ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var u=t;a.assert(u.numChildren()===this.limit_,\"\");var c=new xt(e,n),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(c);if(u.hasChild(e)){var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,h,this.reverse_);while(null!=p&&(p.name===e||u.hasChild(p.name)))p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,c),v=l&&!n.isEmpty()&&d>=0;if(v)return null!=i&&i.trackChildChange(ze.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ze.childRemovedChange(e,f));var g=u.updateImmediateChild(e,ae.EMPTY_NODE),m=null!=p&&this.rangedFilter_.matches(p);return m?(null!=i&&i.trackChildChange(ze.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:l&&o(h,c)>=0?(null!=i&&(i.trackChildChange(ze.childRemovedChange(h.name,h.node)),i.trackChildChange(ze.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(h.name,ae.EMPTY_NODE)):t},t}(),Ir=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=Yt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return\"\"===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:O},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:R},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&\"\"!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,\"Only valid if limit has been set\"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=\"\",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=\"\"),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=\"\"),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;\"\"===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Yt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Yt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ge(this.getIndex()):this.hasLimit()?new Er(this):new _r(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Yt?e=n.PRIORITY_INDEX:this.index_===de?e=n.VALUE_INDEX:this.index_===Mt?e=n.KEY_INDEX:(a.assert(this.index_ instanceof ve,\"Unrecognized index type!\"),e=this.index_.toString()),r[n.ORDER_BY]=a.stringify(e),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=\",\"+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=\",\"+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:\"sp\",INDEX_START_NAME:\"sn\",INDEX_END_VALUE:\"ep\",INDEX_END_NAME:\"en\",LIMIT:\"l\",VIEW_FROM:\"vf\",VIEW_FROM_LEFT:\"l\",VIEW_FROM_RIGHT:\"r\",INDEX:\"i\"},t.REST_QUERY_CONSTANTS_={ORDER_BY:\"orderBy\",PRIORITY_INDEX:\"$priority\",VALUE_INDEX:\"$value\",KEY_INDEX:\"$key\",START_AT:\"startAt\",END_AT:\"endAt\",LIMIT_TO_FIRST:\"limitToFirst\",LIMIT_TO_LAST:\"limitToLast\"},t.DEFAULT=new t,t}(),Tr=function(t){function e(e,n){var r=this;if(!(e instanceof br))throw new Error(\"new Reference() no longer supported - use app.database().\");return r=t.call(this,e,n,Ir.DEFAULT,!1)||this,r}return s.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount(\"Reference.key\",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount(\"Reference.child\",1,1,arguments.length),\"number\"===typeof t?t=String(t):t instanceof K||(null===this.path.getFront()?St(\"Reference.child\",1,t,!1):Ct(\"Reference.child\",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount(\"Reference.parent\",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount(\"Reference.root\",0,0,arguments.length);var t=this;while(null!==t.getParent())t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount(\"Reference.set\",1,2,arguments.length),Nt(\"Reference.set\",this.path),yt(\"Reference.set\",1,t,this.path,!1),a.validateCallback(\"Reference.set\",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount(\"Reference.update\",1,2,arguments.length),Nt(\"Reference.update\",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,S(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}_t(\"Reference.update\",1,t,this.path,!1),a.validateCallback(\"Reference.update\",2,e,!0);var i=new a.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount(\"Reference.setWithPriority\",2,3,arguments.length),Nt(\"Reference.setWithPriority\",this.path),yt(\"Reference.setWithPriority\",1,t,this.path,!1),Et(\"Reference.setWithPriority\",2,e,!1),a.validateCallback(\"Reference.setWithPriority\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var r=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return a.validateArgCount(\"Reference.remove\",0,1,arguments.length),Nt(\"Reference.remove\",this.path),a.validateCallback(\"Reference.remove\",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount(\"Reference.transaction\",1,3,arguments.length),Nt(\"Reference.transaction\",this.path),a.validateCallback(\"Reference.transaction\",1,t,!1),a.validateCallback(\"Reference.transaction\",2,e,!0),At(\"Reference.transaction\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.transaction failed: \"+this.getKey()+\" is a read-only object.\";void 0===n&&(n=!0);var r=new a.Deferred;\"function\"===typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new Rt(n,i)),\"function\"===typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){a.validateArgCount(\"Reference.setPriority\",1,2,arguments.length),Nt(\"Reference.setPriority\",this.path),Et(\"Reference.setPriority\",1,t,!1),a.validateCallback(\"Reference.setPriority\",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(\".priority\"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount(\"Reference.push\",0,2,arguments.length),Nt(\"Reference.push\",this.path),yt(\"Reference.push\",1,t,this.path,!0),a.validateCallback(\"Reference.push\",2,e,!0);var n,r=this.repo.serverTime(),i=Pt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),\"function\"===typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return Nt(\"Reference.onDisconnect\",this.path),new Ot(this.repo,this.path)},Object.defineProperty(e.prototype,\"database\",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"key\",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(_e);\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */_e.__referenceConstructor=Tr,tn.__referenceConstructor=Tr;\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Cr,Sr=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),Nr=function(){function t(t,e,n){void 0===t&&(t=\"\"),void 0===e&&(e=null),void 0===n&&(n=new Sr),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){var n=e instanceof K?e:new K(e),r=this,i=n.getFront();while(null!==i){var o=a.safeGet(r.node_.children,i)||new Sr;r=new t(i,r,o),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(\"undefined\"!==typeof t,\"Cannot set value to undefined\"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;F(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){var n=e?this:this.parent();while(null!==n){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new K(null===this.parent_?this.name_:this.parent_.path()+\"/\"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=a.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();(function(t){t[t[\"RUN\"]=0]=\"RUN\",t[t[\"SENT\"]=1]=\"SENT\",t[t[\"COMPLETED\"]=2]=\"COMPLETED\",t[t[\"SENT_NEEDS_ABORT\"]=3]=\"SENT_NEEDS_ABORT\",t[t[\"NEEDS_ABORT\"]=4]=\"NEEDS_ABORT\"})(Cr||(Cr={})),br.MAX_TRANSACTION_RETRIES_=25,br.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Nr},br.prototype.startTransaction=function(t,e,n,r){this.log_(\"transaction on \"+t);var i=function(){},o=new Tr(this,t);o.on(\"value\",i);var s=function(){o.off(\"value\",i)},u={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);u.currentInputSnapshot=c;var h=u.update(c.val());if(void 0===h){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var l=new ge(u.currentInputSnapshot,new Tr(this,u.path),Yt);u.onComplete(null,!1,l)}}else{wt(\"transaction failed: Data returned \",h,u.path),u.status=Cr.RUN;var f=this.transactionQueueTree_.subTree(t),p=f.getValue()||[];p.push(u),f.setValue(p);var d=void 0;if(\"object\"===typeof h&&null!==h&&a.contains(h,\".priority\"))d=a.safeGet(h,\".priority\"),a.assert(mt(d),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\");else{var v=this.serverSyncTree_.calcCompleteEventCache(t)||ae.EMPTY_NODE;d=v.getPriority().val()}d=d;var m=this.generateServerValues(),y=le(h,d),w=Ae(y,c,m);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=w,u.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(t,w,u.currentWriteId,u.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,b),this.sendReadyTransactions_()}},br.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||ae.EMPTY_NODE},br.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,\"Sending zero length transaction queue\");var r=n.every((function(t){return t.status===Cr.RUN}));r&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},br.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];a.assert(c.status===Cr.RUN,\"tryToSendTransactionQueue_: items in queue should all be run.\"),c.status=Cr.SENT,c.retryCount++;var h=K.relativePath(t,c.path);o=o.updateChild(h,c.currentOutputSnapshotRaw)}var l=o.val(!0),f=t;this.server_.put(f.toString(),l,(function(r){n.log_(\"transaction put response\",{path:f.toString(),status:r});var i=[];if(\"ok\"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=Cr.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new Tr(n,e[s].path),c=new ge(a,u,Yt);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)z(o[s])}else{if(\"datastale\"===r)for(s=0;s<e.length;s++)e[s].status===Cr.SENT_NEEDS_ABORT?e[s].status=Cr.NEEDS_ABORT:e[s].status=Cr.RUN;else{S(\"transaction at \"+f.toString()+\" failed: \"+r);for(s=0;s<e.length;s++)e[s].status=Cr.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),s)},br.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},br.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===Cr.RUN})),o=i.map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=K.relativePath(e,u.path),h=!1,l=void 0;if(a.assert(null!==c,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),u.status===Cr.NEEDS_ABORT)h=!0,l=u.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===Cr.RUN)if(u.retryCount>=br.MAX_TRANSACTION_RETRIES_)h=!0,l=\"maxretry\",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,o);u.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){wt(\"transaction failed: Data returned \",p,u.path);var d=le(p),v=\"object\"===typeof p&&null!=p&&a.contains(p,\".priority\");v||(d=d.updatePriority(f.getPriority()));var g=u.currentWriteId,m=this.generateServerValues(),y=Ae(d,f,m);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=y,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(g),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(u.path,y,u.currentWriteId,u.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(g,!0))}else h=!0,l=\"nodata\",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[s].status=Cr.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[s].unwatcher),t[s].onComplete))if(\"nodata\"===l){var w=new Tr(this,t[s].path),b=t[s].currentInputSnapshot,_=new ge(b,w,Yt);n.push(t[s].onComplete.bind(null,null,!1,_))}else n.push(t[s].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<n.length;s++)z(n[s]);this.sendReadyTransactions_()}},br.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;e=t.getFront();while(null!==e&&null===n.getValue())n=n.subTree(e),t=t.popFront(),e=t.getFront();return n},br.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},br.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},br.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Cr.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},br.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},br.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===Cr.SENT_NEEDS_ABORT);else if(e[o].status===Cr.SENT)a.assert(i===o-1,\"All SENT items should be at beginning of queue.\"),i=o,e[o].status=Cr.SENT_NEEDS_ABORT,e[o].abortReason=\"set\";else if(a.assert(e[o].status===Cr.RUN,\"Unexpected transaction status in abort\"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){var s=null;n.push(e[o].onComplete.bind(null,new Error(\"set\"),!1,s))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)z(n[o])}};\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar kr,Ar=\"databaseURL\",Or=\"FIREBASE_DATABASE_EMULATOR_HOST\",Rr=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return kr||(kr=new t),kr},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=s.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next()){var h=c.value;this.repos_[a][h].interrupt()}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=s.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next()){var h=c.value;this.repos_[a][h].resume()}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options[Ar];void 0===i&&C(\"Can't determine Firebase Database URL.  Be sure to include \"+Ar+\" option when calling firebase.initializeApp().\");var o=ct(i),s=o.repoInfo,a=void 0;\"undefined\"!==typeof r&&(a=Object({NODE_ENV:\"production\",VUE_APP_I18N_LOCALE:\"en\",VUE_APP_I18N_FALLBACK_LOCALE:\"en\",BASE_URL:\"/\"})[Or]),a&&(i=\"http://\"+a+\"?ns=\"+s.namespace,o=ct(i),s=o.repoInfo),kt(\"Invalid Firebase Database URL\",1,o),o.path.isEmpty()||C(\"Database URL must point to the root of a Firebase Database (not including a child path).\");var u=this.createRepo(s,t,e);return u.database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||C(\"Database \"+t.app.name+\"(\"+t.repoInfo_+\") has already been deleted.\"),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=a.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=a.safeGet(r,t.toURLString());return i&&C(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\"),i=new br(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Pr=function(){function t(t){this.repo_=t,t instanceof br||C(\"Don't call new Database() directly - please use firebase.database().\"),this.root_=new Tr(t,K.Empty),this.INTERNAL=new xr(this)}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_(\"ref\"),a.validateArgCount(\"database.ref\",0,1,arguments.length),t instanceof Tr?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e=\"database.refFromURL\";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=ct(t);kt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&C(e+\": Host name does not match the current database: (found \"+r.host+\" but expected \"+this.repo_.repoInfo_.host+\")\"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&C(\"Cannot call \"+t+\" on a deleted database.\")},t.prototype.goOffline=function(){a.validateArgCount(\"database.goOffline\",0,0,arguments.length),this.checkDeleted_(\"goOffline\"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount(\"database.goOnline\",0,0,arguments.length),this.checkDeleted_(\"goOnline\"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{\".sv\":\"timestamp\"},_increment:function(t){return{\".sv\":{increment:t}}}},t}(),xr=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.database.checkDeleted_(\"delete\"),Rr.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),Dr=function(){Hn.forceDisallow(),jn.forceAllow()},Lr=function(){jn.forceDisallow()},Mr=function(){return Hn[\"isAvailable\"]()},Fr=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},Ur=function(t,e){t.repo.stats(e)},jr=function(t,e){t.repo.statsIncrementCounter(e)},Vr=function(t){return t.repo.dataUpdateCount},qr=function(t,e){return t.repo.interceptServerData_(e)},Br=Object.freeze({__proto__:null,forceLongPolling:Dr,forceWebSockets:Lr,isWebSocketsAvailable:Mr,setSecurityDebugCallback:Fr,stats:Ur,statsIncrementCounter:jr,dataUpdateCount:Vr,interceptServerData:qr}),Wr=mr;mr.prototype.simpleListen=function(t,e){this.sendRequest(\"q\",{p:t},e)},mr.prototype.echo=function(t,e){this.sendRequest(\"echo\",{d:t},e)};var zr=ur,Gr=function(t){var e=mr.prototype.put;return mr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){mr.prototype.put=e}},Hr=it,Kr=function(t){return t.queryIdentifier()},Qr=function(t){Rr.getInstance().forceRestClient(t)},Yr=Object.freeze({__proto__:null,DataConnection:Wr,RealTimeConnection:zr,hijackHash:Gr,ConnectionTarget:Hr,queryIdentifier:Kr,forceRestClient:Qr}),$r=\"@firebase/database\",Jr=\"0.5.25\",Xr=Pr.ServerValue;function Zr(e){Bn(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new c.Component(\"database\",(function(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\");return Rr.getInstance().databaseFromApp(n,r,e)}),\"PUBLIC\").setServiceProps({Reference:Tr,Query:_e,Database:Pr,DataSnapshot:ge,enableLogging:_,INTERNAL:Br,ServerValue:Xr,TEST_ACCESS:Yr}).setMultipleInstances(!0));e.registerVersion($r,Jr),a.isNodeSdk()&&(t.exports=n)}Zr(o),e.DataSnapshot=ge,e.Database=Pr,e.OnDisconnect=Ot,e.Query=_e,e.Reference=Tr,e.ServerValue=Xr,e.enableLogging=_,e.registerDatabase=Zr}).call(this,n(\"4362\"))},\"38cb\":function(t,e,n){\"use strict\";n(\"fb6a\"),n(\"a9e3\");var r=n(\"53ca\"),i=n(\"a9ad\"),o=n(\"7560\"),s=n(\"3206\"),a=n(\"80d2\"),u=n(\"d9bd\"),c=n(\"58df\");e[\"a\"]=Object(c[\"a\"])(i[\"a\"],Object(s[\"a\"])(\"form\"),o[\"a\"]).extend({name:\"validatable\",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:function(){return[]}},messages:{type:[String,Array],default:function(){return[]}},readonly:Boolean,rules:{type:Array,default:function(){return[]}},success:Boolean,successMessages:{type:[String,Array],default:function(){return[]}},validateOnBlur:Boolean,value:{required:!1}},data:function(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor:function(){if(!this.disabled)return this.color?this.color:this.isDark&&!this.appIsDark?\"white\":\"primary\"},hasError:function(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess:function(){return this.internalSuccessMessages.length>0||this.success},externalError:function(){return this.internalErrorMessages.length>0||this.error},hasMessages:function(){return this.validationTarget.length>0},hasState:function(){return!this.disabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages:function(){return this.genInternalMessages(this.errorMessages)},internalMessages:function(){return this.genInternalMessages(this.messages)},internalSuccessMessages:function(){return this.genInternalMessages(this.successMessages)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit(\"input\",t)}},shouldValidate:function(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations:function(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState:function(){if(!this.disabled)return this.hasError&&this.shouldValidate?\"error\":this.hasSuccess?\"success\":this.hasColor?this.computedColor:void 0},validationTarget:function(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages.length>0?this.internalSuccessMessages:this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler:function(t,e){Object(a[\"f\"])(t,e)||this.validate()},deep:!0},internalValue:function(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused:function(t){t||this.disabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting:function(){var t=this;setTimeout((function(){t.hasInput=!1,t.hasFocused=!1,t.isResetting=!1,t.validate()}),0)},hasError:function(t){this.shouldValidate&&this.$emit(\"update:error\",t)},value:function(t){this.lazyValue=t}},beforeMount:function(){this.validate()},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{genInternalMessages:function(t){return t?Array.isArray(t)?t:[t]:[]},reset:function(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:void 0},resetValidation:function(){this.isResetting=!0},validate:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(var i=0;i<this.rules.length;i++){var o=this.rules[i],s=\"function\"===typeof o?o(e):o;!1===s||\"string\"===typeof s?n.push(s||\"\"):\"boolean\"!==typeof s&&Object(u[\"b\"])(\"Rules should return a string or boolean, received '\".concat(Object(r[\"a\"])(s),\"' instead\"),this)}return this.errorBucket=n,this.valid=0===n.length,this.valid}}})},\"3b59\":function(t,e,n){\"use strict\";function r(t){return t&&\"object\"===typeof t&&\"default\"in t?t[\"default\"]:t}Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(n(\"c23d\"));n(\"7d28\");var o,s=n(\"9ab4\"),a=n(\"cd51\"),u=n(\"abfd\"),c=n(\"4be4\"),h=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug(\"Config fetch cache check. Cache unpopulated.\"),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug(\"Config fetch cache check. Cache age millis: \"+n+\". Cache max age millis (minimumFetchIntervalMillis setting): \"+t+\". Is cache hit: \"+r+\".\"),r},t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],r=e[1],r&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),l=(o={},o[\"registration-window\"]=\"Undefined window object. This SDK only supports usage in a browser environment.\",o[\"registration-project-id\"]=\"Undefined project identifier. Check Firebase app initialization.\",o[\"registration-api-key\"]=\"Undefined API key. Check Firebase app initialization.\",o[\"registration-app-id\"]=\"Undefined app identifier. Check Firebase app initialization.\",o[\"storage-open\"]=\"Error thrown when opening storage. Original error: {$originalErrorMessage}.\",o[\"storage-get\"]=\"Error thrown when reading from storage. Original error: {$originalErrorMessage}.\",o[\"storage-set\"]=\"Error thrown when writing to storage. Original error: {$originalErrorMessage}.\",o[\"storage-delete\"]=\"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.\",o[\"fetch-client-network\"]=\"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.\",o[\"fetch-timeout\"]='The config fetch request timed out.  Configure timeout using \"fetchTimeoutMillis\" SDK setting.',o[\"fetch-throttle\"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using \"fetchTimeoutMillis\" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',o[\"fetch-client-parse\"]=\"Fetch client could not parse response. Original error: {$originalErrorMessage}.\",o[\"fetch-status\"]=\"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.\",o),f=new a.ErrorFactory(\"remoteconfig\",\"Remote Config\",l);function p(t,e){return t instanceof a.FirebaseError&&-1!==t.code.indexOf(e)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function d(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var v=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,a,u,c,h,l,p,v,g,m,y,w,b,_,E;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=s.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||\"https://firebaseremoteconfig.googleapis.com\",o=i+\"/v1/projects/\"+this.projectId+\"/namespaces/\"+this.namespace+\":fetch?key=\"+this.apiKey,a={\"Content-Type\":\"application/json\",\"Content-Encoding\":\"gzip\",\"If-None-Match\":t.eTag||\"*\"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:d()},c={method:\"POST\",headers:a,body:JSON.stringify(u)},h=fetch(o,c),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error(\"The operation was aborted.\");t.name=\"AbortError\",n(t)}))})),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,Promise.race([h,l])];case 3:return s.sent(),[4,h];case 4:return p=s.sent(),[3,6];case 5:throw v=s.sent(),g=\"fetch-client-network\",\"AbortError\"===v.name&&(g=\"fetch-timeout\"),f.create(g,{originalErrorMessage:v.message});case 6:if(m=p.status,y=p.headers.get(\"ETag\")||void 0,200!==p.status)return[3,11];_=void 0,s.label=7;case 7:return s.trys.push([7,9,,10]),[4,p.json()];case 8:return _=s.sent(),[3,10];case 9:throw E=s.sent(),f.create(\"fetch-client-parse\",{originalErrorMessage:E.message});case 10:w=_[\"entries\"],b=_[\"state\"],s.label=11;case 11:if(\"INSTANCE_STATE_UNSPECIFIED\"===b?m=500:\"NO_CHANGE\"===b?m=304:\"NO_TEMPLATE\"!==b&&\"EMPTY_CONFIG\"!==b||(w={}),304!==m&&200!==m)throw f.create(\"fetch-status\",{httpStatus:m});return[2,{status:m,eTag:y,config:w}]}}))}))},t}(),g=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),m=!1,y=\"\",w=0,b=[\"1\",\"true\",\"t\",\"yes\",\"y\",\"on\"],_=function(){function t(t,e){void 0===e&&(e=y),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return\"static\"===this._source?m:b.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(\"static\"===this._source)return w;var t=Number(this._value);return isNaN(t)&&(t=w),t},t.prototype.getSource=function(){return this._source},t}(),E=6e4,I=432e5,T=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:E,minimumFetchIntervalMillis:I},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case\"debug\":this._logger.logLevel=u.LogLevel.DEBUG;break;case\"silent\":this._logger.logLevel=u.LogLevel.SILENT;break;default:this._logger.logLevel=u.LogLevel.ERROR}},Object.defineProperty(t.prototype,\"fetchTimeMillis\",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"lastFetchStatus\",{get:function(){return this._storageCache.getLastFetchStatus()||\"no-fetch-yet\"},enumerable:!0,configurable:!0}),t.prototype.activate=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:t=new g,setTimeout((function(){return s.__awaiter(r,void 0,void 0,(function(){return s.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus(\"success\")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=p(e,\"fetch-throttle\")?\"throttle\":\"failure\",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return C(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key \"'+t+'\" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new _(\"remote\",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new _(\"default\",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key \"'+t+'\". Define a default or remote value if this is unintentional.'),new _(\"static\"))},t}();\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function C(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(s.__assign(s.__assign({},t),e))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function S(t,e){var n=t.target.error||void 0;return f.create(e,{originalErrorMessage:n&&n.message})}var N=\"app_namespace_store\",k=\"firebase_remote_config\",A=1;function O(){return new Promise((function(t,e){var n=indexedDB.open(k,A);n.onerror=function(t){e(S(t,\"storage-open\"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(N,{keyPath:\"compositeKey\"})}}}))}var R=function(){function t(t,e,n,r){void 0===r&&(r=O()),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get(\"last_fetch_status\")},t.prototype.setLastFetchStatus=function(t){return this.set(\"last_fetch_status\",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get(\"last_successful_fetch_timestamp_millis\")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set(\"last_successful_fetch_timestamp_millis\",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get(\"last_successful_fetch_response\")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set(\"last_successful_fetch_response\",t)},t.prototype.getActiveConfig=function(){return this.get(\"active_config\")},t.prototype.setActiveConfig=function(t){return this.set(\"active_config\",t)},t.prototype.getActiveConfigEtag=function(){return this.get(\"active_config_etag\")},t.prototype.setActiveConfigEtag=function(t){return this.set(\"active_config_etag\",t)},t.prototype.getThrottleMetadata=function(){return this.get(\"throttle_metadata\")},t.prototype.setThrottleMetadata=function(t){return this.set(\"throttle_metadata\",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete(\"throttle_metadata\")},t.prototype.get=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([N],\"readonly\"),s=o.objectStore(N),a=n.createCompositeKey(t);try{var u=s.get(a);u.onerror=function(t){i(S(t,\"storage-get\"))},u.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(c){i(f.create(\"storage-get\",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.set=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction([N],\"readwrite\"),a=s.objectStore(N),u=r.createCompositeKey(t);try{var c=a.put({compositeKey:u,value:e});c.onerror=function(t){o(S(t,\"storage-set\"))},c.onsuccess=function(){i()}}catch(h){o(f.create(\"storage-set\",{originalErrorMessage:h&&h.message}))}}))]}}))}))},t.prototype.delete=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([N],\"readwrite\"),s=o.objectStore(N),a=n.createCompositeKey(t);try{var u=s.delete(a);u.onerror=function(t){i(S(t,\"storage-delete\"))},u.onsuccess=function(){r()}}catch(c){i(f.create(\"storage-delete\",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),P=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return r=s.sent(),r&&(this.lastFetchStatus=r),[4,e];case 2:return i=s.sent(),i&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return o=s.sent(),o&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}(),x=1e3,D=2,L=144e5,M=.5;\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function F(t){var e=x*Math.pow(D,t),n=Math.round(M*e*(Math.random()-.5)*2);return Math.min(L,e+n)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function U(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(f.create(\"fetch-throttle\",{throttleEndTimeMillis:e}))}))}))}function j(t){if(!(t instanceof a.FirebaseError))return!1;var e=Number(t[\"httpStatus\"]);return 429===e||500===e||503===e||504===e}var V=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e;return s.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return s.__awaiter(this,void 0,void 0,(function(){var e,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,U(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(i=s.sent(),!j(i))throw i;return o={throttleEndTimeMillis:Date.now()+F(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),q=\"@firebase/remote-config\",B=\"0.1.18\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction W(t){function e(e,n){var r=e.getProvider(\"app\").getImmediate(),i=e.getProvider(\"installations\").getImmediate();if(\"undefined\"===typeof window)throw f.create(\"registration-window\");var o=r.options,s=o.projectId,a=o.apiKey,c=o.appId;if(!s)throw f.create(\"registration-project-id\");if(!a)throw f.create(\"registration-api-key\");if(!c)throw f.create(\"registration-app-id\");n=n||\"firebase\";var l=new R(c,r.name,n),p=new P(l),d=new u.Logger(q);d.logLevel=u.LogLevel.ERROR;var g=new v(i,t.SDK_VERSION,n,s,a,c),m=new V(g,l),y=new h(m,l,p,d),w=new T(r,y,p,l,d);return w.ensureInitialized(),w}t.INTERNAL.registerComponent(new c.Component(\"remoteConfig\",e,\"PUBLIC\").setMultipleInstances(!0)),t.registerVersion(q,B)}W(i),e.registerRemoteConfig=W},\"3d20\":function(t,e,n){\n/*!\n* sweetalert2 v8.19.0\n* Released under the MIT License.\n*/\n(function(e,n){t.exports=n()})(0,(function(){\"use strict\";function t(e){return t=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}function o(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function u(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&a(o,n.prototype),o},c.apply(null,arguments)}function h(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function l(t,e){return!e||\"object\"!==typeof e&&\"function\"!==typeof e?h(t):e}function f(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=s(t),null===t)break;return t}function p(t,e,n){return p=\"undefined\"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=f(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},p(t,e,n||t)}var d=\"SweetAlert2:\",v=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},g=function(t){return Object.keys(t).map((function(e){return t[e]}))},m=function(t){return Array.prototype.slice.call(t)},y=function(t){console.warn(\"\".concat(d,\" \").concat(t))},w=function(t){console.error(\"\".concat(d,\" \").concat(t))},b=[],_=function(t){-1===b.indexOf(t)&&(b.push(t),y(t))},E=function(t,e){_('\"'.concat(t,'\" is deprecated and will be removed in the next major release. Please use \"').concat(e,'\" instead.'))},I=function(t){return\"function\"===typeof t?t():t},T=function(t){return t&&Promise.resolve(t)===t},C=Object.freeze({cancel:\"cancel\",backdrop:\"backdrop\",close:\"close\",esc:\"esc\",timer:\"timer\"}),S=function(e){var n={};switch(t(e[0])){case\"object\":i(n,e[0]);break;default:[\"title\",\"html\",\"type\"].forEach((function(r,i){switch(t(e[i])){case\"string\":n[r]=e[i];break;case\"undefined\":break;default:w(\"Unexpected type of \".concat(r,'! Expected \"string\", got ').concat(t(e[i])))}}))}return n},N=\"swal2-\",k=function(t){var e={};for(var n in t)e[t[n]]=N+t[n];return e},A=k([\"container\",\"shown\",\"height-auto\",\"iosfix\",\"popup\",\"modal\",\"no-backdrop\",\"toast\",\"toast-shown\",\"toast-column\",\"show\",\"hide\",\"noanimation\",\"close\",\"title\",\"header\",\"content\",\"actions\",\"confirm\",\"cancel\",\"footer\",\"icon\",\"image\",\"input\",\"file\",\"range\",\"select\",\"radio\",\"checkbox\",\"label\",\"textarea\",\"inputerror\",\"validation-message\",\"progress-steps\",\"active-progress-step\",\"progress-step\",\"progress-step-line\",\"loading\",\"styled\",\"top\",\"top-start\",\"top-end\",\"top-left\",\"top-right\",\"center\",\"center-start\",\"center-end\",\"center-left\",\"center-right\",\"bottom\",\"bottom-start\",\"bottom-end\",\"bottom-left\",\"bottom-right\",\"grow-row\",\"grow-column\",\"grow-fullscreen\",\"rtl\"]),O=k([\"success\",\"warning\",\"info\",\"question\",\"error\"]),R={previousBodyPadding:null},P=function(t,e){return t.classList.contains(e)},x=function(t){m(t.classList).forEach((function(e){-1===g(A).indexOf(e)&&-1===g(O).indexOf(e)&&t.classList.remove(e)}))},D=function(e,n,r){if(x(e),n&&n[r]){if(\"string\"!==typeof n[r]&&!n[r].forEach)return y(\"Invalid type of customClass.\".concat(r,'! Expected string or iterable object, got \"').concat(t(n[r]),'\"'));j(e,n[r])}};function L(t,e){if(!e)return null;switch(e){case\"select\":case\"textarea\":case\"file\":return q(t,A[e]);case\"checkbox\":return t.querySelector(\".\".concat(A.checkbox,\" input\"));case\"radio\":return t.querySelector(\".\".concat(A.radio,\" input:checked\"))||t.querySelector(\".\".concat(A.radio,\" input:first-child\"));case\"range\":return t.querySelector(\".\".concat(A.range,\" input\"));default:return q(t,A.input)}}var M,F=function(t){if(t.focus(),\"file\"!==t.type){var e=t.value;t.value=\"\",t.value=e}},U=function(t,e,n){t&&e&&(\"string\"===typeof e&&(e=e.split(/\\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},j=function(t,e){U(t,e,!0)},V=function(t,e){U(t,e,!1)},q=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(P(t.childNodes[n],e))return t.childNodes[n]},B=function(t,e,n){n||0===parseInt(n)?t.style[e]=\"number\"===typeof n?n+\"px\":n:t.style.removeProperty(e)},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"flex\";t.style.opacity=\"\",t.style.display=e},z=function(t){t.style.opacity=\"\",t.style.display=\"none\"},G=function(t,e,n){e?W(t,n):z(t)},H=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},K=function(t){return!!(t.scrollHeight>t.clientHeight)},Q=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue(\"animation-duration\")||\"0\"),r=parseFloat(e.getPropertyValue(\"transition-duration\")||\"0\");return n>0||r>0},Y=function(t,e){if(\"function\"===typeof t.contains)return t.contains(e)},$=function(){return document.body.querySelector(\".\"+A.container)},J=function(t){var e=$();return e?e.querySelector(t):null},X=function(t){return J(\".\"+t)},Z=function(){return X(A.popup)},tt=function(){var t=Z();return m(t.querySelectorAll(\".\"+A.icon))},et=function(){var t=tt().filter((function(t){return H(t)}));return t.length?t[0]:null},nt=function(){return X(A.title)},rt=function(){return X(A.content)},it=function(){return X(A.image)},ot=function(){return X(A[\"progress-steps\"])},st=function(){return X(A[\"validation-message\"])},at=function(){return J(\".\"+A.actions+\" .\"+A.confirm)},ut=function(){return J(\".\"+A.actions+\" .\"+A.cancel)},ct=function(){return X(A.actions)},ht=function(){return X(A.header)},lt=function(){return X(A.footer)},ft=function(){return X(A.close)},pt='\\n  a[href],\\n  area[href],\\n  input:not([disabled]),\\n  select:not([disabled]),\\n  textarea:not([disabled]),\\n  button:not([disabled]),\\n  iframe,\\n  object,\\n  embed,\\n  [tabindex=\"0\"],\\n  [contenteditable],\\n  audio[controls],\\n  video[controls],\\n  summary\\n',dt=function(){var t=m(Z().querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])')).sort((function(t,e){return t=parseInt(t.getAttribute(\"tabindex\")),e=parseInt(e.getAttribute(\"tabindex\")),t>e?1:t<e?-1:0})),e=m(Z().querySelectorAll(pt)).filter((function(t){return\"-1\"!==t.getAttribute(\"tabindex\")}));return v(t.concat(e)).filter((function(t){return H(t)}))},vt=function(){return!gt()&&!document.body.classList.contains(A[\"no-backdrop\"])},gt=function(){return document.body.classList.contains(A[\"toast-shown\"])},mt=function(){return Z().hasAttribute(\"data-loading\")},yt=function(){return\"undefined\"===typeof window||\"undefined\"===typeof document},wt='\\n <div aria-labelledby=\"'.concat(A.title,'\" aria-describedby=\"').concat(A.content,'\" class=\"').concat(A.popup,'\" tabindex=\"-1\">\\n   <div class=\"').concat(A.header,'\">\\n     <ul class=\"').concat(A[\"progress-steps\"],'\"></ul>\\n     <div class=\"').concat(A.icon,\" \").concat(O.error,'\">\\n       <span class=\"swal2-x-mark\"><span class=\"swal2-x-mark-line-left\"></span><span class=\"swal2-x-mark-line-right\"></span></span>\\n     </div>\\n     <div class=\"').concat(A.icon,\" \").concat(O.question,'\"></div>\\n     <div class=\"').concat(A.icon,\" \").concat(O.warning,'\"></div>\\n     <div class=\"').concat(A.icon,\" \").concat(O.info,'\"></div>\\n     <div class=\"').concat(A.icon,\" \").concat(O.success,'\">\\n       <div class=\"swal2-success-circular-line-left\"></div>\\n       <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\\n       <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\\n       <div class=\"swal2-success-circular-line-right\"></div>\\n     </div>\\n     <img class=\"').concat(A.image,'\" />\\n     <h2 class=\"').concat(A.title,'\" id=\"').concat(A.title,'\"></h2>\\n     <button type=\"button\" class=\"').concat(A.close,'\"></button>\\n   </div>\\n   <div class=\"').concat(A.content,'\">\\n     <div id=\"').concat(A.content,'\"></div>\\n     <input class=\"').concat(A.input,'\" />\\n     <input type=\"file\" class=\"').concat(A.file,'\" />\\n     <div class=\"').concat(A.range,'\">\\n       <input type=\"range\" />\\n       <output></output>\\n     </div>\\n     <select class=\"').concat(A.select,'\"></select>\\n     <div class=\"').concat(A.radio,'\"></div>\\n     <label for=\"').concat(A.checkbox,'\" class=\"').concat(A.checkbox,'\">\\n       <input type=\"checkbox\" />\\n       <span class=\"').concat(A.label,'\"></span>\\n     </label>\\n     <textarea class=\"').concat(A.textarea,'\"></textarea>\\n     <div class=\"').concat(A[\"validation-message\"],'\" id=\"').concat(A[\"validation-message\"],'\"></div>\\n   </div>\\n   <div class=\"').concat(A.actions,'\">\\n     <button type=\"button\" class=\"').concat(A.confirm,'\">OK</button>\\n     <button type=\"button\" class=\"').concat(A.cancel,'\">Cancel</button>\\n   </div>\\n   <div class=\"').concat(A.footer,'\">\\n   </div>\\n </div>\\n').replace(/(^|\\n)\\s*/g,\"\"),bt=function(){var t=$();t&&(t.parentNode.removeChild(t),V([document.documentElement,document.body],[A[\"no-backdrop\"],A[\"toast-shown\"],A[\"has-column\"]]))},_t=function(t){wr.isVisible()&&M!==t.target.value&&wr.resetValidationMessage(),M=t.target.value},Et=function(){var t=rt(),e=q(t,A.input),n=q(t,A.file),r=t.querySelector(\".\".concat(A.range,\" input\")),i=t.querySelector(\".\".concat(A.range,\" output\")),o=q(t,A.select),s=t.querySelector(\".\".concat(A.checkbox,\" input\")),a=q(t,A.textarea);e.oninput=_t,n.onchange=_t,o.onchange=_t,s.onchange=_t,a.oninput=_t,r.oninput=function(t){_t(t),i.value=r.value},r.onchange=function(t){_t(t),r.nextSibling.value=r.value}},It=function(t){return\"string\"===typeof t?document.querySelector(t):t},Tt=function(t){var e=Z();e.setAttribute(\"role\",t.toast?\"alert\":\"dialog\"),e.setAttribute(\"aria-live\",t.toast?\"polite\":\"assertive\"),t.toast||e.setAttribute(\"aria-modal\",\"true\")},Ct=function(t){\"rtl\"===window.getComputedStyle(t).direction&&j($(),A.rtl)},St=function(t){if(bt(),yt())w(\"SweetAlert2 requires document to initialize\");else{var e=document.createElement(\"div\");e.className=A.container,e.innerHTML=wt;var n=It(t.target);n.appendChild(e),Tt(t),Ct(n),Et()}},Nt=function(e,n){e instanceof HTMLElement?n.appendChild(e):\"object\"===t(e)?kt(n,e):e&&(n.innerHTML=e)},kt=function(t,e){if(t.innerHTML=\"\",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},At=function(){if(yt())return!1;var t=document.createElement(\"div\"),e={WebkitAnimation:\"webkitAnimationEnd\",OAnimation:\"oAnimationEnd oanimationend\",animation:\"animationend\"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&\"undefined\"!==typeof t.style[n])return e[n];return!1}(),Ot=function(){var t=\"ontouchstart\"in window||navigator.msMaxTouchPoints;if(t)return 0;var e=document.createElement(\"div\");e.style.width=\"50px\",e.style.height=\"50px\",e.style.overflow=\"scroll\",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n},Rt=function(t,e){var n=ct(),r=at(),i=ut();e.showConfirmButton||e.showCancelButton||z(n),D(n,e.customClass,\"actions\"),xt(r,\"confirm\",e),xt(i,\"cancel\",e),e.buttonsStyling?Pt(r,i,e):(V([r,i],A.styled),r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor=\"\",i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor=\"\"),e.reverseButtons&&r.parentNode.insertBefore(i,r)};function Pt(t,e,n){j([t,e],A.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor);var r=window.getComputedStyle(t).getPropertyValue(\"background-color\");t.style.borderLeftColor=r,t.style.borderRightColor=r}function xt(t,e,n){G(t,n[\"showC\"+e.substring(1)+\"Button\"],\"inline-block\"),t.innerHTML=n[e+\"ButtonText\"],t.setAttribute(\"aria-label\",n[e+\"ButtonAriaLabel\"]),t.className=A[e],D(t,n.customClass,e+\"Button\"),j(t,n[e+\"ButtonClass\"])}function Dt(t,e){\"string\"===typeof e?t.style.background=e:e||j([document.documentElement,document.body],A[\"no-backdrop\"])}function Lt(t,e){e in A?j(t,A[e]):(y('The \"position\" parameter is not valid, defaulting to \"center\"'),j(t,A.center))}function Mt(t,e){if(e&&\"string\"===typeof e){var n=\"grow-\"+e;n in A&&j(t,A[n])}}var Ft=function(t,e){var n=$();n&&(Dt(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&y('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`'),Lt(n,e.position),Mt(n,e.grow),D(n,e.customClass,\"container\"),e.customContainerClass&&j(n,e.customContainerClass))},Ut={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},jt=[\"input\",\"file\",\"range\",\"select\",\"radio\",\"checkbox\",\"textarea\"],Vt=function(t,e){var n=rt(),r=Ut.innerParams.get(t),i=!r||e.input!==r.input;jt.forEach((function(t){var r=A[t],o=q(n,r);Wt(t,e.inputAttributes),o.className=r,i&&z(o)})),e.input&&(i&&qt(e),zt(e))},qt=function(t){if(!Kt[t.input])return w('Unexpected type of input! Expected \"text\", \"email\", \"password\", \"number\", \"tel\", \"select\", \"radio\", \"checkbox\", \"textarea\", \"file\" or \"url\", got \"'.concat(t.input,'\"'));var e=Ht(t.input),n=Kt[t.input](e,t);W(n),setTimeout((function(){F(n)}))},Bt=function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===[\"type\",\"value\",\"style\"].indexOf(n)&&t.removeAttribute(n)}},Wt=function(t,e){var n=L(rt(),t);if(n)for(var r in Bt(n),e)\"range\"===t&&\"placeholder\"===r||n.setAttribute(r,e[r])},zt=function(t){var e=Ht(t.input);t.inputClass&&j(e,t.inputClass),t.customClass&&j(e,t.customClass.input)},Gt=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},Ht=function(t){var e=A[t]?A[t]:A.input;return q(rt(),e)},Kt={};Kt.text=Kt.email=Kt.password=Kt.number=Kt.tel=Kt.url=function(e,n){return\"string\"===typeof n.inputValue||\"number\"===typeof n.inputValue?e.value=n.inputValue:T(n.inputValue)||y('Unexpected type of inputValue! Expected \"string\", \"number\" or \"Promise\", got \"'.concat(t(n.inputValue),'\"')),Gt(e,n),e.type=n.input,e},Kt.file=function(t,e){return Gt(t,e),t},Kt.range=function(t,e){var n=t.querySelector(\"input\"),r=t.querySelector(\"output\");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,t},Kt.select=function(t,e){if(t.innerHTML=\"\",e.inputPlaceholder){var n=document.createElement(\"option\");n.innerHTML=e.inputPlaceholder,n.value=\"\",n.disabled=!0,n.selected=!0,t.appendChild(n)}return t},Kt.radio=function(t){return t.innerHTML=\"\",t},Kt.checkbox=function(t,e){var n=L(rt(),\"checkbox\");n.value=1,n.id=A.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector(\"span\");return r.innerHTML=e.inputPlaceholder,t},Kt.textarea=function(t,e){if(t.value=e.inputValue,Gt(t,e),\"MutationObserver\"in window){var n=parseInt(window.getComputedStyle(Z()).width),r=parseInt(window.getComputedStyle(Z()).paddingLeft)+parseInt(window.getComputedStyle(Z()).paddingRight),i=function(){var e=t.offsetWidth+r;Z().style.width=e>n?e+\"px\":null};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:[\"style\"]})}return t};var Qt=function(t,e){var n=rt().querySelector(\"#\"+A.content);e.html?(Nt(e.html,n),W(n,\"block\")):e.text?(n.textContent=e.text,W(n,\"block\")):z(n),Vt(t,e),D(rt(),e.customClass,\"content\")},Yt=function(t,e){var n=lt();G(n,e.footer),e.footer&&Nt(e.footer,n),D(n,e.customClass,\"footer\")},$t=function(t,e){var n=ft();n.innerHTML=e.closeButtonHtml,D(n,e.customClass,\"closeButton\"),G(n,e.showCloseButton),n.setAttribute(\"aria-label\",e.closeButtonAriaLabel)},Jt=function(t,e){var n=Ut.innerParams.get(t);if(n&&e.type===n.type&&et())D(et(),e.customClass,\"icon\");else if(Xt(),e.type)if(Zt(),-1!==Object.keys(O).indexOf(e.type)){var r=J(\".\".concat(A.icon,\".\").concat(O[e.type]));W(r),D(r,e.customClass,\"icon\"),U(r,\"swal2-animate-\".concat(e.type,\"-icon\"),e.animation)}else w('Unknown type! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"'.concat(e.type,'\"'))},Xt=function(){for(var t=tt(),e=0;e<t.length;e++)z(t[e])},Zt=function(){for(var t=Z(),e=window.getComputedStyle(t).getPropertyValue(\"background-color\"),n=t.querySelectorAll(\"[class^=swal2-success-circular-line], .swal2-success-fix\"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},te=function(t,e){var n=it();if(!e.imageUrl)return z(n);W(n),n.setAttribute(\"src\",e.imageUrl),n.setAttribute(\"alt\",e.imageAlt),B(n,\"width\",e.imageWidth),B(n,\"height\",e.imageHeight),n.className=A.image,D(n,e.customClass,\"image\"),e.imageClass&&j(n,e.imageClass)},ee=function(t){var e=document.createElement(\"li\");return j(e,A[\"progress-step\"]),e.innerHTML=t,e},ne=function(t){var e=document.createElement(\"li\");return j(e,A[\"progress-step-line\"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e},re=function(t,e){var n=ot();if(!e.progressSteps||0===e.progressSteps.length)return z(n);W(n),n.innerHTML=\"\";var r=parseInt(null===e.currentProgressStep?wr.getQueueStep():e.currentProgressStep);r>=e.progressSteps.length&&y(\"Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)\"),e.progressSteps.forEach((function(t,i){var o=ee(t);if(n.appendChild(o),i===r&&j(o,A[\"active-progress-step\"]),i!==e.progressSteps.length-1){var s=ne(t);n.appendChild(s)}}))},ie=function(t,e){var n=nt();G(n,e.title||e.titleText),e.title&&Nt(e.title,n),e.titleText&&(n.innerText=e.titleText),D(n,e.customClass,\"title\")},oe=function(t,e){var n=ht();D(n,e.customClass,\"header\"),re(t,e),Jt(t,e),te(t,e),ie(t,e),$t(t,e)},se=function(t,e){var n=Z();B(n,\"width\",e.width),B(n,\"padding\",e.padding),e.background&&(n.style.background=e.background),n.className=A.popup,e.toast?(j([document.documentElement,document.body],A[\"toast-shown\"]),j(n,A.toast)):j(n,A.modal),D(n,e.customClass,\"popup\"),\"string\"===typeof e.customClass&&j(n,e.customClass),U(n,A.noanimation,!e.animation)},ae=function(t,e){se(t,e),Ft(t,e),oe(t,e),Qt(t,e),Rt(t,e),Yt(t,e),\"function\"===typeof e.onRender&&e.onRender(Z())},ue=function(){return H(Z())},ce=function(){return at()&&at().click()},he=function(){return ut()&&ut().click()};function le(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}function fe(t){var n=function(n){function a(){return e(this,a),l(this,s(a).apply(this,arguments))}return o(a,n),r(a,[{key:\"_main\",value:function(e){return p(s(a.prototype),\"_main\",this).call(this,i({},t,e))}}]),a}(this);return n}var pe=[],de=function(t){var e=this;pe=t;var n=function(t,e){pe=[],document.body.removeAttribute(\"data-swal2-queue-step\"),t(e)},r=[];return new Promise((function(t){(function i(o,s){o<pe.length?(document.body.setAttribute(\"data-swal2-queue-step\",o),e.fire(pe[o]).then((function(e){\"undefined\"!==typeof e.value?(r.push(e.value),i(o+1,s)):n(t,{dismiss:e.dismiss})}))):n(t,{value:r})})(0)}))},ve=function(){return document.body.getAttribute(\"data-swal2-queue-step\")},ge=function(t,e){return e&&e<pe.length?pe.splice(e,0,t):pe.push(t)},me=function(t){\"undefined\"!==typeof pe[t]&&pe.splice(t,1)},ye=function(){var t=Z();t||wr.fire(\"\"),t=Z();var e=ct(),n=at(),r=ut();W(e),W(n),j([t,e],A.loading),n.disabled=!0,r.disabled=!0,t.setAttribute(\"data-loading\",!0),t.setAttribute(\"aria-busy\",!0),t.focus()},we=100,be={},_e=function(){be.previousActiveElement&&be.previousActiveElement.focus?(be.previousActiveElement.focus(),be.previousActiveElement=null):document.body&&document.body.focus()},Ee=function(){return new Promise((function(t){var e=window.scrollX,n=window.scrollY;be.restoreFocusTimeout=setTimeout((function(){_e(),t()}),we),\"undefined\"!==typeof e&&\"undefined\"!==typeof n&&window.scrollTo(e,n)}))},Ie=function(){return be.timeout&&be.timeout.getTimerLeft()},Te=function(){return be.timeout&&be.timeout.stop()},Ce=function(){return be.timeout&&be.timeout.start()},Se=function(){var t=be.timeout;return t&&(t.running?t.stop():t.start())},Ne=function(t){return be.timeout&&be.timeout.increase(t)},ke=function(){return be.timeout&&be.timeout.isRunning()},Ae={title:\"\",titleText:\"\",text:\"\",html:\"\",footer:\"\",type:null,toast:!1,customClass:\"\",customContainerClass:\"\",target:\"body\",backdrop:!0,animation:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:\"OK\",confirmButtonAriaLabel:\"\",confirmButtonColor:null,confirmButtonClass:\"\",cancelButtonText:\"Cancel\",cancelButtonAriaLabel:\"\",cancelButtonColor:null,cancelButtonClass:\"\",buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:\"&times;\",closeButtonAriaLabel:\"Close this dialog\",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:\"\",imageClass:\"\",timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:\"\",inputValue:\"\",inputOptions:{},inputAutoTrim:!0,inputClass:\"\",inputAttributes:{},inputValidator:null,validationMessage:null,grow:!1,position:\"center\",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onOpen:null,onRender:null,onClose:null,onAfterClose:null,scrollbarPadding:!0},Oe=[\"title\",\"titleText\",\"text\",\"html\",\"type\",\"customClass\",\"showConfirmButton\",\"showCancelButton\",\"confirmButtonText\",\"confirmButtonAriaLabel\",\"confirmButtonColor\",\"confirmButtonClass\",\"cancelButtonText\",\"cancelButtonAriaLabel\",\"cancelButtonColor\",\"cancelButtonClass\",\"buttonsStyling\",\"reverseButtons\",\"imageUrl\",\"imageWidth\",\"imageHeigth\",\"imageAlt\",\"imageClass\",\"progressSteps\",\"currentProgressStep\"],Re={customContainerClass:\"customClass\",confirmButtonClass:\"customClass\",cancelButtonClass:\"customClass\",imageClass:\"customClass\",inputClass:\"customClass\"},Pe=[\"allowOutsideClick\",\"allowEnterKey\",\"backdrop\",\"focusConfirm\",\"focusCancel\",\"heightAuto\",\"keydownListenerCapture\"],xe=function(t){return Object.prototype.hasOwnProperty.call(Ae,t)},De=function(t){return-1!==Oe.indexOf(t)},Le=function(t){return Re[t]},Me=function(t){xe(t)||y('Unknown parameter \"'.concat(t,'\"'))},Fe=function(t){-1!==Pe.indexOf(t)&&y('The parameter \"'.concat(t,'\" is incompatible with toasts'))},Ue=function(t){Le(t)&&E(t,Le(t))},je=function(t){for(var e in t)Me(e),t.toast&&Fe(e),Ue()},Ve=Object.freeze({isValidParameter:xe,isUpdatableParameter:De,isDeprecatedParameter:Le,argsToParams:S,isVisible:ue,clickConfirm:ce,clickCancel:he,getContainer:$,getPopup:Z,getTitle:nt,getContent:rt,getImage:it,getIcon:et,getIcons:tt,getCloseButton:ft,getActions:ct,getConfirmButton:at,getCancelButton:ut,getHeader:ht,getFooter:lt,getFocusableElements:dt,getValidationMessage:st,isLoading:mt,fire:le,mixin:fe,queue:de,getQueueStep:ve,insertQueueStep:ge,deleteQueueStep:me,showLoading:ye,enableLoading:ye,getTimerLeft:Ie,stopTimer:Te,resumeTimer:Ce,toggleTimer:Se,increaseTimer:Ne,isTimerRunning:ke});function qe(){var t=Ut.innerParams.get(this),e=Ut.domCache.get(this);t.showConfirmButton||(z(e.confirmButton),t.showCancelButton||z(e.actions)),V([e.popup,e.actions],A.loading),e.popup.removeAttribute(\"aria-busy\"),e.popup.removeAttribute(\"data-loading\"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}function Be(t){var e=Ut.innerParams.get(t||this),n=Ut.domCache.get(t||this);return n?L(n.content,e.input):null}var We=function(){null===R.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(R.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue(\"padding-right\")),document.body.style.paddingRight=R.previousBodyPadding+Ot()+\"px\")},ze=function(){null!==R.previousBodyPadding&&(document.body.style.paddingRight=R.previousBodyPadding+\"px\",R.previousBodyPadding=null)},Ge=function(){var t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||\"MacIntel\"===navigator.platform&&navigator.maxTouchPoints>1;if(t&&!P(document.body,A.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+\"px\",j(document.body,A.iosfix),He()}},He=function(){var t,e=$();e.ontouchstart=function(n){t=n.target===e||!K(e)&&\"INPUT\"!==n.target.tagName},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}},Ke=function(){if(P(document.body,A.iosfix)){var t=parseInt(document.body.style.top,10);V(document.body,A.iosfix),document.body.style.top=\"\",document.body.scrollTop=-1*t}},Qe=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Ye=function(){var t=$(),e=Z();t.style.removeProperty(\"align-items\"),e.offsetTop<0&&(t.style.alignItems=\"flex-start\")},$e=function(){\"undefined\"!==typeof window&&Qe()&&(Ye(),window.addEventListener(\"resize\",Ye))},Je=function(){\"undefined\"!==typeof window&&Qe()&&window.removeEventListener(\"resize\",Ye)},Xe=function(){var t=m(document.body.children);t.forEach((function(t){t===$()||Y(t,$())||(t.hasAttribute(\"aria-hidden\")&&t.setAttribute(\"data-previous-aria-hidden\",t.getAttribute(\"aria-hidden\")),t.setAttribute(\"aria-hidden\",\"true\"))}))},Ze=function(){var t=m(document.body.children);t.forEach((function(t){t.hasAttribute(\"data-previous-aria-hidden\")?(t.setAttribute(\"aria-hidden\",t.getAttribute(\"data-previous-aria-hidden\")),t.removeAttribute(\"data-previous-aria-hidden\")):t.removeAttribute(\"aria-hidden\")}))},tn={swalPromiseResolve:new WeakMap};function en(t,e,n,r){n?cn(t,r):(Ee().then((function(){return cn(t,r)})),be.keydownTarget.removeEventListener(\"keydown\",be.keydownHandler,{capture:be.keydownListenerCapture}),be.keydownHandlerAdded=!1),e.parentNode&&e.parentNode.removeChild(e),vt()&&(ze(),Ke(),Je(),Ze()),nn()}function nn(){V([document.documentElement,document.body],[A.shown,A[\"height-auto\"],A[\"no-backdrop\"],A[\"toast-shown\"],A[\"toast-column\"]])}function rn(t){delete t.params,delete be.keydownHandler,delete be.keydownTarget,un(Ut),un(tn)}function on(t){var e=Z();if(e&&!P(e,A.hide)){var n=Ut.innerParams.get(this);if(n){var r=tn.swalPromiseResolve.get(this);V(e,A.show),j(e,A.hide),sn(this,e,n),r(t||{})}}}var sn=function(t,e,n){var r=$(),i=At&&Q(e),o=n.onClose,s=n.onAfterClose;null!==o&&\"function\"===typeof o&&o(e),i?an(t,e,r,s):en(t,r,gt(),s)},an=function(t,e,n,r){be.swalCloseEventFinishedCallback=en.bind(null,t,n,gt(),r),e.addEventListener(At,(function(t){t.target===e&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback)}))},un=function(t){for(var e in t)t[e]=new WeakMap},cn=function(t,e){setTimeout((function(){null!==e&&\"function\"===typeof e&&e(),Z()||rn(t)}))};function hn(t,e,n){var r=Ut.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function ln(t,e){if(!t)return!1;if(\"radio\"===t.type)for(var n=t.parentNode.parentNode,r=n.querySelectorAll(\"input\"),i=0;i<r.length;i++)r[i].disabled=e;else t.disabled=e}function fn(){hn(this,[\"confirmButton\",\"cancelButton\"],!1)}function pn(){hn(this,[\"confirmButton\",\"cancelButton\"],!0)}function dn(){E(\"Swal.enableConfirmButton()\",\"Swal.getConfirmButton().removeAttribute('disabled')\"),hn(this,[\"confirmButton\"],!1)}function vn(){E(\"Swal.disableConfirmButton()\",\"Swal.getConfirmButton().setAttribute('disabled', '')\"),hn(this,[\"confirmButton\"],!0)}function gn(){return ln(this.getInput(),!1)}function mn(){return ln(this.getInput(),!0)}function yn(t){var e=Ut.domCache.get(this);e.validationMessage.innerHTML=t;var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft=\"-\".concat(n.getPropertyValue(\"padding-left\")),e.validationMessage.style.marginRight=\"-\".concat(n.getPropertyValue(\"padding-right\")),W(e.validationMessage);var r=this.getInput();r&&(r.setAttribute(\"aria-invalid\",!0),r.setAttribute(\"aria-describedBy\",A[\"validation-message\"]),F(r),j(r,A.inputerror))}function wn(){var t=Ut.domCache.get(this);t.validationMessage&&z(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute(\"aria-invalid\"),e.removeAttribute(\"aria-describedBy\"),V(e,A.inputerror))}function bn(){E(\"Swal.getProgressSteps()\",\"const swalInstance = Swal.fire({progressSteps: ['1', '2', '3']}); const progressSteps = swalInstance.params.progressSteps\");var t=Ut.innerParams.get(this);return t.progressSteps}function _n(t){E(\"Swal.setProgressSteps()\",\"Swal.update()\");var e=Ut.innerParams.get(this),n=i({},e,{progressSteps:t});re(this,n),Ut.innerParams.set(this,n)}function En(){var t=Ut.domCache.get(this);W(t.progressSteps)}function In(){var t=Ut.domCache.get(this);z(t.progressSteps)}var Tn=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:\"start\",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:\"stop\",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:\"increase\",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:\"getTimerLeft\",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:\"isRunning\",value:function(){return this.running}}]),t}(),Cn={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||\"Invalid email address\")},url:function(t,e){return/^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||\"Invalid URL\")}};function Sn(t){t.inputValidator||Object.keys(Cn).forEach((function(e){t.input===e&&(t.inputValidator=Cn[e])}))}function Nn(t){(!t.target||\"string\"===typeof t.target&&!document.querySelector(t.target)||\"string\"!==typeof t.target&&!t.target.appendChild)&&(y('Target parameter is not valid, defaulting to \"body\"'),t.target=\"body\")}function kn(t){Sn(t),t.showLoaderOnConfirm&&!t.preConfirm&&y(\"showLoaderOnConfirm is set to true, but preConfirm is not defined.\\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\\nhttps://sweetalert2.github.io/#ajax-request\"),t.animation=I(t.animation),Nn(t),\"string\"===typeof t.title&&(t.title=t.title.split(\"\\n\").join(\"<br />\")),St(t)}function An(t,e){t.removeEventListener(At,An),e.style.overflowY=\"auto\"}var On=function(t){var e=$(),n=Z();\"function\"===typeof t.onBeforeOpen&&t.onBeforeOpen(n),xn(e,n,t),Rn(e,n),vt()&&Pn(e,t.scrollbarPadding),gt()||be.previousActiveElement||(be.previousActiveElement=document.activeElement),\"function\"===typeof t.onOpen&&setTimeout((function(){return t.onOpen(n)}))},Rn=function(t,e){At&&Q(e)?(t.style.overflowY=\"hidden\",e.addEventListener(At,An.bind(null,e,t))):t.style.overflowY=\"auto\"},Pn=function(t,e){Ge(),$e(),Xe(),e&&We(),setTimeout((function(){t.scrollTop=0}))},xn=function(t,e,n){n.animation&&j(e,A.show),W(e),j([document.documentElement,document.body,t],A.shown),n.heightAuto&&n.backdrop&&!n.toast&&j([document.documentElement,document.body],A[\"height-auto\"])},Dn=function(t,e){\"select\"===e.input||\"radio\"===e.input?jn(t,e):-1!==[\"text\",\"email\",\"number\",\"tel\",\"textarea\"].indexOf(e.input)&&T(e.inputValue)&&Vn(t,e)},Ln=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case\"checkbox\":return Mn(n);case\"radio\":return Fn(n);case\"file\":return Un(n);default:return e.inputAutoTrim?n.value.trim():n.value}},Mn=function(t){return t.checked?1:0},Fn=function(t){return t.checked?t.value:null},Un=function(t){return t.files.length?null!==t.getAttribute(\"multiple\")?t.files:t.files[0]:null},jn=function(e,n){var r=rt(),i=function(t){return qn[n.input](r,Bn(t),n)};T(n.inputOptions)?(ye(),n.inputOptions.then((function(t){e.hideLoading(),i(t)}))):\"object\"===t(n.inputOptions)?i(n.inputOptions):w(\"Unexpected type of inputOptions! Expected object, Map or Promise, got \".concat(t(n.inputOptions)))},Vn=function(t,e){var n=t.getInput();z(n),e.inputValue.then((function(r){n.value=\"number\"===e.input?parseFloat(r)||0:r+\"\",W(n),n.focus(),t.hideLoading()}))[\"catch\"]((function(e){w(\"Error in inputValue promise: \"+e),n.value=\"\",W(n),n.focus(),t.hideLoading()}))},qn={select:function(t,e,n){var r=q(t,A.select);e.forEach((function(t){var e=t[0],i=t[1],o=document.createElement(\"option\");o.value=e,o.innerHTML=i,n.inputValue.toString()===e.toString()&&(o.selected=!0),r.appendChild(o)})),r.focus()},radio:function(t,e,n){var r=q(t,A.radio);e.forEach((function(t){var e=t[0],i=t[1],o=document.createElement(\"input\"),s=document.createElement(\"label\");o.type=\"radio\",o.name=A.radio,o.value=e,n.inputValue.toString()===e.toString()&&(o.checked=!0);var a=document.createElement(\"span\");a.innerHTML=i,a.className=A.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)}));var i=r.querySelectorAll(\"input\");i.length&&i[0].focus()}},Bn=function(t){var e=[];return\"undefined\"!==typeof Map&&t instanceof Map?t.forEach((function(t,n){e.push([n,t])})):Object.keys(t).forEach((function(n){e.push([n,t[n]])})),e},Wn=function(t,e){t.disableButtons(),e.input?Gn(t,e):Kn(t,e,!0)},zn=function(t,e){t.disableButtons(),e(C.cancel)},Gn=function(t,e){var n=Ln(t,e);if(e.inputValidator){t.disableInput();var r=Promise.resolve().then((function(){return e.inputValidator(n,e.validationMessage)}));r.then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):Kn(t,e,n)}))}else t.getInput().checkValidity()?Kn(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},Hn=function(t,e){t.closePopup({value:e})},Kn=function(t,e,n){if(e.showLoaderOnConfirm&&ye(),e.preConfirm){t.resetValidationMessage();var r=Promise.resolve().then((function(){return e.preConfirm(n,e.validationMessage)}));r.then((function(e){H(st())||!1===e?t.hideLoading():Hn(t,\"undefined\"===typeof e?n:e)}))}else Hn(t,n)},Qn=function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener(\"keydown\",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return Xn(t,e,n,r)},e.keydownTarget=n.keydownListenerCapture?window:Z(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener(\"keydown\",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Yn=function(t,e,n){for(var r=dt(),i=0;i<r.length;i++)return e+=n,e===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();Z().focus()},$n=[\"ArrowLeft\",\"ArrowRight\",\"ArrowUp\",\"ArrowDown\",\"Left\",\"Right\",\"Up\",\"Down\"],Jn=[\"Escape\",\"Esc\"],Xn=function(t,e,n,r){n.stopKeydownPropagation&&e.stopPropagation(),\"Enter\"===e.key?Zn(t,e,n):\"Tab\"===e.key?tr(e,n):-1!==$n.indexOf(e.key)?er():-1!==Jn.indexOf(e.key)&&nr(e,n,r)},Zn=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==[\"textarea\",\"file\"].indexOf(n.input))return;ce(),e.preventDefault()}},tr=function(t,e){for(var n=t.target,r=dt(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}t.shiftKey?Yn(e,i,-1):Yn(e,i,1),t.stopPropagation(),t.preventDefault()},er=function(){var t=at(),e=ut();document.activeElement===t&&H(e)?e.focus():document.activeElement===e&&H(t)&&t.focus()},nr=function(t,e,n){I(e.allowEscapeKey)&&(t.preventDefault(),n(C.esc))},rr=function(t,e,n){e.toast?ir(t,e,n):(sr(t),ar(t),ur(t,e,n))},ir=function(t,e,n){t.popup.onclick=function(){e.showConfirmButton||e.showCancelButton||e.showCloseButton||e.input||n(C.close)}},or=!1,sr=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(or=!0)}}},ar=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(or=!0)}}},ur=function(t,e,n){t.container.onclick=function(r){or?or=!1:r.target===t.container&&I(e.allowOutsideClick)&&n(C.backdrop)}};function cr(t){je(t),Z()&&be.swalCloseEventFinishedCallback&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback),be.deferDisposalTimer&&(clearTimeout(be.deferDisposalTimer),delete be.deferDisposalTimer);var e=i({},Ae,t);kn(e),Object.freeze(e),be.timeout&&(be.timeout.stop(),delete be.timeout),clearTimeout(be.restoreFocusTimeout);var n=lr(this);return ae(this,e),Ut.innerParams.set(this,e),hr(this,n,e)}var hr=function(t,e,n){return new Promise((function(r){var i=function(e){t.closePopup({dismiss:e})};tn.swalPromiseResolve.set(t,r),fr(be,n,i),e.confirmButton.onclick=function(){return Wn(t,n)},e.cancelButton.onclick=function(){return zn(t,i)},e.closeButton.onclick=function(){return i(C.close)},rr(e,n,i),Qn(t,be,n,i),n.toast&&(n.input||n.footer||n.showCloseButton)?j(document.body,A[\"toast-column\"]):V(document.body,A[\"toast-column\"]),Dn(t,n),On(n),pr(e,n),e.container.scrollTop=0}))},lr=function(t){var e={popup:Z(),container:$(),content:rt(),actions:ct(),confirmButton:at(),cancelButton:ut(),closeButton:ft(),validationMessage:st(),progressSteps:ot()};return Ut.domCache.set(t,e),e},fr=function(t,e,n){e.timer&&(t.timeout=new Tn((function(){n(\"timer\"),delete t.timeout}),e.timer))},pr=function(t,e){if(!e.toast)return I(e.allowEnterKey)?e.focusCancel&&H(t.cancelButton)?t.cancelButton.focus():e.focusConfirm&&H(t.confirmButton)?t.confirmButton.focus():void Yn(e,-1,1):dr()},dr=function(){document.activeElement&&\"function\"===typeof document.activeElement.blur&&document.activeElement.blur()};function vr(t){var e=Z();if(!e||P(e,A.hide))return y(\"You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.\");var n={};Object.keys(t).forEach((function(e){wr.isUpdatableParameter(e)?n[e]=t[e]:y('Invalid parameter to update: \"'.concat(e,'\". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var r=Ut.innerParams.get(this),o=i({},r,n);ae(this,o),Ut.innerParams.set(this,o),Object.defineProperties(this,{params:{value:i({},this.params,t),writable:!1,enumerable:!0}})}var gr,mr=Object.freeze({hideLoading:qe,disableLoading:qe,getInput:Be,close:on,closePopup:on,closeModal:on,closeToast:on,enableButtons:fn,disableButtons:pn,enableConfirmButton:dn,disableConfirmButton:vn,enableInput:gn,disableInput:mn,showValidationMessage:yn,resetValidationMessage:wn,getProgressSteps:bn,setProgressSteps:_n,showProgressSteps:En,hideProgressSteps:In,_main:cr,update:vr});function yr(){if(\"undefined\"!==typeof window){\"undefined\"===typeof Promise&&w(\"This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)\"),gr=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});var i=this._main(this.params);Ut.promise.set(this,i)}}yr.prototype.then=function(t){var e=Ut.promise.get(this);return e.then(t)},yr.prototype[\"finally\"]=function(t){var e=Ut.promise.get(this);return e[\"finally\"](t)},i(yr.prototype,mr),i(yr,Ve),Object.keys(mr).forEach((function(t){yr[t]=function(){var e;if(gr)return(e=gr)[t].apply(e,arguments)}})),yr.DismissReason=C,yr.version=\"8.19.0\";var wr=yr;return wr[\"default\"]=wr,wr})),\"undefined\"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),\"undefined\"!=typeof document&&function(t,e){var n=t.createElement(\"style\");if(t.getElementsByTagName(\"head\")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'@charset \"UTF-8\";.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon::before{display:flex;align-items:center;font-size:2em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon::before{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;background-color:transparent;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:\"\";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:inherit}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:inherit;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:\"!\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon::before{display:flex;align-items:center;height:92%;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning::before{content:\"!\"}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info::before{content:\"i\"}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question::before{content:\"?\"}.swal2-icon.swal2-question.swal2-arabic-question-mark::before{content:\"\"}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-progress-steps{align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title=\"browser\",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error(\"No such module. (Possibly not yet loaded)\")},function(){var t,r=\"/\";e.cwd=function(){return r},e.chdir=function(e){t||(t=n(\"df7c\")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},\"4be4\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(\"9ab4\"),i=n(\"cd51\"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=\"LAZY\"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=\"[DEFAULT]\",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:s,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error(\"Service \"+this.name+\" is not available\")}return a}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error(\"Mismatching Component \"+t.name+\" for Provider \"+this.name+\".\");if(this.component)throw Error(\"Component for \"+this.name+\" has already been provided\");if(this.component=t,c(t))try{this.getOrInitializeService(s)}catch(p){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),u=a[0],h=a[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService(l);h.resolve(f)}catch(p){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return\"INTERNAL\"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,u(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}();function u(t){return t===s?void 0:t}function c(t){return\"EAGER\"===t.instantiationMode}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var h=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(\"Component \"+t.name+\" has already been registered with \"+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=h,e.Provider=a},\"4ff9\":function(t,e,n){},5706:function(t,e,n){\"use strict\";var r=n(\"8aa50\"),i=n.n(r),o=(n(\"e89a\"),{apiKey:\"AIzaSyBy_LB6VNWh88XqbvYCetuTbGLq6iyx7MA\",authDomain:\"svd-attendance.firebaseapp.com\",databaseURL:\"https://svd-attendance.firebaseio.com\",projectId:\"svd-attendance\",storageBucket:\"svd-attendance.appspot.com\",messagingSenderId:\"524605073293\",appId:\"1:524605073293:web:760e178faf352d58e27fc4\",measurementId:\"G-H3JCSJNB5Q\"}),s=i.a.initializeApp(o);e[\"a\"]=s.firestore()},\"683f\":function(t,e,n){\"use strict\";var r=n(\"3d20\"),i=n.n(r),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},s=function(){function t(){}return t.alert=function(e,n,r,s){return new Promise((function(a){var u=o(o({},t.globalOptions),s);u.title=n||u.title,u.text=e||u.text,u.type=r||u.type,i.a.fire(u).then((function(){a(!0)})).catch((function(){a(!0)}))}))},t.confirm=function(e,n,r,s){return new Promise((function(a,u){var c=o(o({},t.globalOptions),s);c.title=n||c.title,c.text=e||c.text,c.type=r||c.type,c.showCancelButton=!0,i.a.fire(c).then((function(t){!0===t.value?a(!0):u()})).catch((function(){return u()}))}))},t.prompt=function(e,n,r,s,a){return new Promise((function(u,c){var h=o(o({},t.globalOptions),a);h.title=r||h.title,h.inputValue=n,h.text=e||h.text,h.type=s||h.type,h.showCancelButton=!0,h.input=h.input||\"text\",i.a.fire(h).then((function(t){t.value?u(t.value):c()})).catch((function(){return c()}))}))},t.fire=function(t){return i.a.fire(t)},t.install=function(e,n){t.globalOptions=n,e.alert=t.alert,e.confirm=t.confirm,e.prompt=t.prompt,e.fire=t.fire,e.prototype.hasOwnProperty(\"$alert\")||(e.prototype.$alert=t.alert),e.prototype.hasOwnProperty(\"$confirm\")||(e.prototype.$confirm=t.confirm),e.prototype.hasOwnProperty(\"$prompt\")||(e.prototype.$prompt=t.prompt),e.prototype.hasOwnProperty(\"$fire\")||(e.prototype.$fire=t.fire)},t}();e[\"a\"]=s},\"6d09\":function(t,e,n){\"use strict\";function r(t){return t&&\"object\"===typeof t&&\"default\"in t?t[\"default\"]:t}Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(n(\"c23d\"));n(\"7d28\");var o,s,a,u,c=n(\"9ab4\"),h=n(\"cd51\"),l=n(\"abfd\"),f=n(\"4be4\"),p=\"@firebase/performance\",d=\"0.2.37\",v=d,g=\"FB-PERF-TRACE-START\",m=\"FB-PERF-TRACE-STOP\",y=\"FB-PERF-TRACE-MEASURE\",w=\"_wt_\",b=\"_fp\",_=\"_fcp\",E=\"_fid\",I=\"@firebase/performance/config\",T=\"@firebase/performance/configexpire\",C=\"performance\",S=\"Performance\",N=(o={},o[\"trace started\"]=\"Trace {$traceName} was started before.\",o[\"trace stopped\"]=\"Trace {$traceName} is not running.\",o[\"no window\"]=\"Window is not available.\",o[\"no app id\"]=\"App id is not available.\",o[\"no project id\"]=\"Project id is not available.\",o[\"no api key\"]=\"Api key is not available.\",o[\"invalid cc log\"]=\"Attempted to queue invalid cc event\",o[\"FB not default\"]=\"Performance can only start when Firebase app instance is the default one.\",o[\"RC response not ok\"]=\"RC response is not ok\",o[\"invalid attribute name\"]=\"Attribute name {$attributeName} is invalid.\",o[\"invalid attribute value\"]=\"Attribute value {$attributeValue} is invalid.\",o[\"invalide custom metric name\"]=\"Custom metric name {$customMetricName} is invalid\",o),k=new h.ErrorFactory(C,S,N),A=function(){function t(t){if(this.window=t,!t)throw k.create(\"no window\");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split(\"?\")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}));n.observe({entryTypes:[t]})}},t.getInstance=function(){return void 0===s&&(s=new t(a)),s},t}();function O(t){a=t}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var R,P,x=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl=\"https://firebaselogging.googleapis.com/v0cc/log?format=json_proto\",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw k.create(\"no app id\");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw k.create(\"no project id\");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw k.create(\"no api key\");return t},t.getInstance=function(){return void 0===u&&(u=new t),u},t}();\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function D(){var t=x.getInstance().installationsService.getId();return t.then((function(t){R=t})),t}function L(){return R}function M(){var t=x.getInstance().installationsService.getToken();return t.then((function(t){})),t}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(function(t){t[t[\"UNKNOWN\"]=0]=\"UNKNOWN\",t[t[\"VISIBLE\"]=1]=\"VISIBLE\",t[t[\"HIDDEN\"]=2]=\"HIDDEN\"})(P||(P={}));var F=[\"firebase_\",\"google_\",\"ga_\"],U=new RegExp(\"^[a-zA-Z]\\\\w*$\"),j=40,V=100;function q(){var t=A.getInstance().navigator;return\"serviceWorker\"in t?t.serviceWorker.controller?2:3:1}function B(){var t=A.getInstance().document,e=t.visibilityState;switch(e){case\"visible\":return P.VISIBLE;case\"hidden\":return P.HIDDEN;default:return P.UNKNOWN}}function W(){var t=A.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case\"slow-2g\":return 1;case\"2g\":return 2;case\"3g\":return 3;case\"4g\":return 4;default:return 0}}function z(t){if(0===t.length||t.length>j)return!1;var e=F.some((function(e){return t.startsWith(e)}));return!e&&!!t.match(U)}function G(t){return 0!==t.length&&t.length<=V}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var H=new l.Logger(S);H.logLevel=l.LogLevel.INFO;\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar K=\"0.0.1\",Q={loggingEnabled:!0},Y=\"FIREBASE_INSTALLATIONS_AUTH\";function $(t){var e=J();return e?(et(e),Promise.resolve()):tt(t).then((function(t){return et(t)})).then((function(t){return X(t)}),(function(){}))}function J(){var t=A.getInstance().localStorage;if(t){var e=t.getItem(T);if(e&&nt(e)){var n=t.getItem(I);if(n)try{var r=JSON.parse(n);return r}catch(o){return}}}}function X(t){var e=A.getInstance().localStorage;t&&e&&(e.setItem(I,JSON.stringify(t)),e.setItem(T,String(Date.now()+60*x.getInstance().configTimeToLive*60*1e3)))}var Z=\"Could not fetch config, will use default configs\";function tt(t){return M().then((function(e){var n=x.getInstance().getProjectId(),r=\"https://firebaseremoteconfig.googleapis.com/v1/projects/\"+n+\"/namespaces/fireperf:fetch?key=\"+x.getInstance().getApiKey(),i=new Request(r,{method:\"POST\",headers:{Authorization:Y+\" \"+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:x.getInstance().getAppId(),app_version:v,sdk_version:K})});return fetch(i).then((function(t){if(t.ok)return t.json();throw k.create(\"RC response not ok\")}))})).catch((function(){H.info(Z)}))}function et(t){if(!t)return t;var e=x.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled=\"true\"===String(n.fpr_enabled):e.loggingEnabled=Q.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=rt(e.tracesSamplingRate),e.logNetworkAfterSampling=rt(e.networkRequestsSamplingRate),t}function nt(t){return Number(t)>Date.now()}function rt(t){return Math.random()<=t}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var it,ot=1;function st(){return ot=2,it=it||ut(),it}function at(){return 3===ot}function ut(){return ct().then((function(){return D()})).then((function(t){return $(t)})).then((function(){return ht()}),(function(){return ht()}))}function ct(){var t=A.getInstance().document;return new Promise((function(e){if(t&&\"complete\"!==t.readyState){var n=function(){\"complete\"===t.readyState&&(t.removeEventListener(\"readystatechange\",n),e())};t.addEventListener(\"readystatechange\",n)}else e()}))}function ht(){ot=3}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var lt,ft=1e4,pt=5500,dt=3,vt=dt,gt=[],mt=!1;function yt(){mt||(wt(pt),mt=!0)}function wt(t){setTimeout((function(){if(0!==vt){if(!gt.length)return wt(ft);var t=c.__spreadArrays(gt);gt=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:x.getInstance().logSource,log_event:e};fetch(x.getInstance().logEndPointUrl,{method:\"POST\",body:JSON.stringify(n)}).then((function(t){return t.ok||H.info(\"Call to Firebase backend failed.\"),t.json()})).then((function(t){var e=Number(t.next_request_wait_millis),n=isNaN(e)?ft:Math.max(ft,e);vt=dt,wt(n)})).catch((function(){gt=c.__spreadArrays(t,gt),vt--,H.info(\"Tries left: \"+vt+\".\"),wt(ft)}))}}),t)}function bt(t){if(!t.eventTime||!t.message)throw k.create(\"invalid cc log\");gt=c.__spreadArrays(gt,[t])}function _t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);bt({message:r,eventTime:Date.now()})}}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Et(t,e){lt||(lt=_t(St)),lt(t,e)}function It(t){var e=x.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&A.getInstance().requiredApisAvailable()&&(t.isAuto&&B()!==P.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(at()?Tt(t):st().then((function(){return Tt(t)}),(function(){return Tt(t)}))))}function Tt(t){L()&&setTimeout((function(){return Et(t,1)}),0)}function Ct(t){var e=x.getInstance();e.instrumentationEnabled&&t.url!==e.logEndPointUrl.split(\"?\")[0]&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Et(t,0)}),0)}function St(t,e){return 0===e?Nt(t):kt(t)}function Nt(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:At(),network_request_metric:e};return JSON.stringify(n)}function kt(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:At(),trace_metric:e};return JSON.stringify(r)}function At(){return{google_app_id:x.getInstance().getAppId(),app_instance_id:L(),web_app_info:{sdk_version:v,page_url:A.getInstance().getUrl(),service_worker_status:q(),visibility_state:B(),effective_connection_type:W()},application_process_state:0}}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Ot=100,Rt=\"_\",Pt=[b,_,E];function xt(t,e){return!(0===t.length||t.length>Ot)&&(e&&e.startsWith(w)&&Pt.indexOf(t)>-1||!t.startsWith(Rt))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Dt=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=A.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=g+\"-\"+this.randomId+\"-\"+this.name,this.traceStopMark=m+\"-\"+this.randomId+\"-\"+this.name,this.traceMeasure=n||y+\"-\"+this.randomId+\"-\"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw k.create(\"trace started\",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw k.create(\"trace stopped\",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),It(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=c.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}It(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!xt(t,this.name))throw k.create(\"invalide custom metric name\",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=z(t),r=G(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw k.create(\"invalid attribute name\",{attributeName:t});if(!r)throw k.create(\"invalid attribute value\",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return c.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=A.getInstance().getUrl();if(i){var o=new t(w+i,!0),s=Math.floor(1e3*A.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric(\"domInteractive\",Math.floor(1e3*e[0].domInteractive)),o.putMetric(\"domContentLoadedEventEnd\",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric(\"loadEventEnd\",Math.floor(1e3*e[0].loadEventEnd)));var a=\"first-paint\",u=\"first-contentful-paint\";if(n){var c=n.find((function(t){return t.name===a}));c&&c.startTime&&o.putMetric(b,Math.floor(1e3*c.startTime));var h=n.find((function(t){return t.name===u}));h&&h.startTime&&o.putMetric(_,Math.floor(1e3*h.startTime)),r&&o.putMetric(E,Math.floor(1e3*r))}It(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);It(n)},t}();\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Lt(t){var e=t;if(e&&void 0!==e.responseStart){var n=A.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime)),s=e.name&&e.name.split(\"?\")[0],a={url:s,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};Ct(a)}}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Mt=5e3;function Ft(){L()&&(setTimeout((function(){return jt()}),0),setTimeout((function(){return Ut()}),0),setTimeout((function(){return Vt()}),0))}function Ut(){for(var t=A.getInstance(),e=t.getEntriesByType(\"resource\"),n=0,r=e;n<r.length;n++){var i=r[n];Lt(i)}t.setupObserver(\"resource\",Lt)}function jt(){var t=A.getInstance(),e=t.getEntriesByType(\"navigation\"),n=t.getEntriesByType(\"paint\");if(t.onFirstInputDelay){var r=setTimeout((function(){Dt.createOobTrace(e,n),r=void 0}),Mt);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Dt.createOobTrace(e,n,t))}))}else Dt.createOobTrace(e,n)}function Vt(){for(var t=A.getInstance(),e=t.getEntriesByType(\"measure\"),n=0,r=e;n<r.length;n++){var i=r[n];qt(i)}t.setupObserver(\"measure\",qt)}function qt(t){var e=t.name;e.substring(0,y.length)!==y&&Dt.createUserTimingTrace(e)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Bt=function(){function t(t){this.app=t,A.getInstance().requiredApisAvailable()?(yt(),st().then(Ft,Ft)):H.info(\"Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.\")}return t.prototype.trace=function(t){return new Dt(t)},Object.defineProperty(t.prototype,\"instrumentationEnabled\",{get:function(){return x.getInstance().instrumentationEnabled},set:function(t){x.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dataCollectionEnabled\",{get:function(){return x.getInstance().dataCollectionEnabled},set:function(t){x.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}(),Wt=\"[DEFAULT]\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function zt(t){var e=function(t,e){if(t.name!==Wt)throw k.create(\"FB not default\");if(\"undefined\"===typeof window)throw k.create(\"no window\");return O(window),x.getInstance().firebaseAppInstance=t,x.getInstance().installationsService=e,new Bt(t)};t.INTERNAL.registerComponent(new f.Component(\"performance\",(function(t){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"installations\").getImmediate();return e(n,r)}),\"PUBLIC\")),t.registerVersion(p,d)}zt(i),e.registerPerformance=zt},\"7d28\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"registerInstallations\",(function(){return At}));var r,i=n(\"c23d\"),o=n.n(i),s=n(\"4be4\"),a=n(\"9ab4\"),u=n(\"cd51\"),c=n(\"9dbb\"),h=\"@firebase/installations\",l=\"0.4.7\",f=1e4,p=\"w:\"+l,d=\"FIS_v2\",v=\"https://firebaseinstallations.googleapis.com/v1\",g=36e5,m=\"installations\",y=\"Installations\",w=(r={},r[\"missing-app-config-values\"]='Missing App configuration value: \"{$valueName}\"',r[\"not-registered\"]=\"Firebase Installation is not registered.\",r[\"installation-not-found\"]=\"Firebase Installation not found.\",r[\"request-failed\"]='{$requestName} request failed with error \"{$serverCode} {$serverStatus}: {$serverMessage}\"',r[\"app-offline\"]=\"Could not process request. Application offline.\",r[\"delete-pending-registration\"]=\"Can't delete installation while there is a pending registration request.\",r),b=new u[\"ErrorFactory\"](m,y,w);function _(t){return t instanceof u[\"FirebaseError\"]&&t.code.includes(\"request-failed\")}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function E(t){var e=t.projectId;return v+\"/projects/\"+e+\"/installations\"}function I(t){return{token:t.token,requestStatus:2,expiresIn:k(t.expiresIn),creationTime:Date.now()}}function T(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,b.create(\"request-failed\",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function C(t){var e=t.apiKey;return new Headers({\"Content-Type\":\"application/json\",Accept:\"application/json\",\"x-goog-api-key\":e})}function S(t,e){var n=e.refreshToken,r=C(t);return r.append(\"Authorization\",A(n)),r}function N(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e;return Object(a[\"__generator\"])(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function k(t){return Number(t.replace(\"s\",\"000\"))}function A(t){return d+\" \"+t}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function O(t,e){var n=e.fid;return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,r,i,o,s,u,c;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return e=E(t),r=C(t),i={fid:n,authVersion:d,appId:t.appId,sdkVersion:p},o={method:\"POST\",headers:r,body:JSON.stringify(i)},[4,N((function(){return fetch(e,o)}))];case 1:return s=a.sent(),s.ok?[4,s.json()]:[3,3];case 2:return u=a.sent(),c={fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:I(u.authToken)},[2,c];case 3:return[4,T(\"Create Installation\",s)];case 4:throw a.sent()}}))}))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function R(t){return new Promise((function(e){setTimeout(e,t)}))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function P(t){var e=btoa(String.fromCharCode.apply(String,Object(a[\"__spread\"])(t)));return e.replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var x=/^[cdef][\\w-]{21}$/,D=\"\";function L(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=M(t);return x.test(n)?n:D}catch(r){return D}}function M(t){var e=P(t);return e.substr(0,22)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function F(t){return t.appName+\"!\"+t.appId}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var U=new Map;function j(t,e){var n=F(t);B(n,e),W(n,e)}function V(t,e){G();var n=F(t),r=U.get(n);r||(r=new Set,U.set(n,r)),r.add(e)}function q(t,e){var n=F(t),r=U.get(n);r&&(r.delete(e),0===r.size&&U.delete(n),H())}function B(t,e){var n,r,i=U.get(t);if(i)try{for(var o=Object(a[\"__values\"])(i),s=o.next();!s.done;s=o.next()){var u=s.value;u(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function W(t,e){var n=G();n&&n.postMessage({key:t,fid:e}),H()}var z=null;function G(){return!z&&\"BroadcastChannel\"in self&&(z=new BroadcastChannel(\"[Firebase] FID Change\"),z.onmessage=function(t){B(t.data.key,t.data.fid)}),z}function H(){0===U.size&&z&&(z.close(),z=null)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var K=\"firebase-installations-database\",Q=1,Y=\"firebase-installations-store\",$=null;function J(){return $||($=Object(c[\"openDb\"])(K,Q,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Y)}}))),$}function X(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return n=F(t),[4,J()];case 1:return r=a.sent(),i=r.transaction(Y,\"readwrite\"),o=i.objectStore(Y),[4,o.get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||j(t,e.fid),[2,e]}}))}))}function Z(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return e=F(t),[4,J()];case 1:return n=i.sent(),r=n.transaction(Y,\"readwrite\"),[4,r.objectStore(Y).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function tt(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return n=F(t),[4,J()];case 1:return r=a.sent(),i=r.transaction(Y,\"readwrite\"),o=i.objectStore(Y),[4,o.get(n)];case 2:return s=a.sent(),u=e(s),void 0!==u?[3,4]:[4,o.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:a.sent(),a.label=6;case 6:return[4,i.complete];case 7:return a.sent(),!u||s&&s.fid===u.fid||j(t,u.fid),[2,u]}}))}))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function et(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return[4,tt(t,(function(n){var r=nt(n),i=rt(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return n=i.sent(),n.fid!==D?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function nt(t){var e=t||{fid:L(),registrationStatus:0};return at(e)}function rt(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(b.create(\"app-offline\"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=it(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ot(t)}:{installationEntry:e}}function it(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,O(t,e)];case 1:return n=i.sent(),[2,X(t,n)];case 2:return r=i.sent(),_(r)&&409===r.serverCode?[4,Z(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,X(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function ot(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r,i;return Object(a[\"__generator\"])(this,(function(o){switch(o.label){case 0:return[4,st(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,R(100)];case 3:return o.sent(),[4,st(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,et(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}}))}))}function st(t){return tt(t,(function(t){if(!t)throw b.create(\"installation-not-found\");return at(t)}))}function at(t){return ut(t)?{fid:t.fid,registrationStatus:0}:t}function ut(t){return 1===t.registrationStatus&&t.registrationTime+f<Date.now()}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function ct(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var t,i,o,s,u,c,h,l;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return t=ht(n,e),i=S(n,e),o=r.getImmediate({optional:!0}),o&&i.append(\"x-firebase-client\",o.getPlatformInfoString()),s={installation:{sdkVersion:p}},u={method:\"POST\",headers:i,body:JSON.stringify(s)},[4,N((function(){return fetch(t,u)}))];case 1:return c=a.sent(),c.ok?[4,c.json()]:[3,3];case 2:return h=a.sent(),l=I(h),[2,l];case 3:return[4,T(\"Generate Auth Token\",c)];case 4:throw a.sent()}}))}))}function ht(t,e){var n=e.fid;return E(t)+\"/\"+n+\"/authTokens:generate\"}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function lt(t,e){return void 0===e&&(e=!1),Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o;return Object(a[\"__generator\"])(this,(function(s){switch(s.label){case 0:return[4,tt(t.appConfig,(function(r){if(!vt(r))throw b.create(\"not-registered\");var i=r.authToken;if(!e&&gt(i))return r;if(1===i.requestStatus)return n=ft(t,e),r;if(!navigator.onLine)throw b.create(\"app-offline\");var o=yt(r);return n=dt(t,o),o}))];case 1:return r=s.sent(),n?[4,n]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r.authToken,s.label=4;case 4:return i=o,[2,i]}}))}))}function ft(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return[4,pt(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,R(100)];case 3:return i.sent(),[4,pt(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,lt(t,e)]:[2,r]}}))}))}function pt(t){return tt(t,(function(t){if(!vt(t))throw b.create(\"not-registered\");var e=t.authToken;return wt(e)?Object(a[\"__assign\"])(Object(a[\"__assign\"])({},t),{authToken:{requestStatus:0}}):t}))}function dt(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i;return Object(a[\"__generator\"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ct(t,e)];case 1:return n=o.sent(),i=Object(a[\"__assign\"])(Object(a[\"__assign\"])({},e),{authToken:n}),[4,X(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),!_(r)||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,Z(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(a[\"__assign\"])(Object(a[\"__assign\"])({},e),{authToken:{requestStatus:0}}),[4,X(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}function vt(t){return void 0!==t&&2===t.registrationStatus}function gt(t){return 2===t.requestStatus&&!mt(t)}function mt(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+g}function yt(t){var e={requestStatus:1,requestTime:Date.now()};return Object(a[\"__assign\"])(Object(a[\"__assign\"])({},t),{authToken:e})}function wt(t){return 1===t.requestStatus&&t.requestTime+f<Date.now()}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function bt(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return[4,et(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):lt(t).catch(console.error),[2,n.fid]}}))}))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function _t(t,e){return void 0===e&&(e=!1),Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n;return Object(a[\"__generator\"])(this,(function(r){switch(r.label){case 0:return[4,Et(t.appConfig)];case 1:return r.sent(),[4,lt(t,e)];case 2:return n=r.sent(),[2,n.token]}}))}))}function Et(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e;return Object(a[\"__generator\"])(this,(function(n){switch(n.label){case 0:return[4,et(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function It(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o;return Object(a[\"__generator\"])(this,(function(s){switch(s.label){case 0:return n=Tt(t,e),r=S(t,e),i={method:\"DELETE\",headers:r},[4,N((function(){return fetch(n,i)}))];case 1:return o=s.sent(),o.ok?[3,3]:[4,T(\"Delete Installation\",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function Tt(t,e){var n=e.fid;return E(t)+\"/\"+n}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Ct(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n;return Object(a[\"__generator\"])(this,(function(r){switch(r.label){case 0:return e=t.appConfig,[4,tt(e,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(n=r.sent(),!n)return[3,6];if(1!==n.registrationStatus)return[3,2];throw b.create(\"delete-pending-registration\");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw b.create(\"app-offline\");case 3:return[4,It(e,n)];case 4:return r.sent(),[4,Z(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function St(t,e){var n=t.appConfig;return V(n,e),function(){q(n,e)}}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Nt(t){var e,n;if(!t||!t.options)throw kt(\"App Configuration\");if(!t.name)throw kt(\"App Name\");var r=[\"projectId\",\"apiKey\",\"appId\"];try{for(var i=Object(a[\"__values\"])(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!t.options[s])throw kt(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function kt(t){return b.create(\"missing-app-config-values\",{valueName:t})}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function At(t){var e=\"installations\";t.INTERNAL.registerComponent(new s[\"Component\"](e,(function(t){var e=t.getProvider(\"app\").getImmediate(),n=Nt(e),r=t.getProvider(\"platform-logger\"),i={appConfig:n,platformLoggerProvider:r},o={app:e,getId:function(){return bt(i)},getToken:function(t){return _t(i,t)},delete:function(){return Ct(i)},onIdChange:function(t){return St(i,t)}};return o}),\"PUBLIC\")),t.registerVersion(h,l)}At(o.a)},8071:function(t,e,n){\"use strict\";n.r(e);var r,i=n(\"c23d\"),o=n.n(i),s=(n(\"7d28\"),n(\"4be4\")),a=n(\"9ab4\"),u=n(\"cd51\"),c=n(\"9dbb\"),h=(r={},r[\"missing-app-config-values\"]='Missing App configuration value: \"{$valueName}\"',r[\"only-available-in-window\"]=\"This method is available in a Window context.\",r[\"only-available-in-sw\"]=\"This method is available in a service worker context.\",r[\"permission-default\"]=\"The notification permission was not granted and dismissed instead.\",r[\"permission-blocked\"]=\"The notification permission was not granted and blocked instead.\",r[\"unsupported-browser\"]=\"This browser doesn't support the API's required to use the firebase SDK.\",r[\"failed-service-worker-registration\"]=\"We are unable to register the default service worker. {$browserErrorMessage}\",r[\"token-subscribe-failed\"]=\"A problem occured while subscribing the user to FCM: {$errorInfo}\",r[\"token-subscribe-no-token\"]=\"FCM returned no token when subscribing the user to push.\",r[\"token-unsubscribe-failed\"]=\"A problem occured while unsubscribing the user from FCM: {$errorInfo}\",r[\"token-update-failed\"]=\"A problem occured while updating the user from FCM: {$errorInfo}\",r[\"token-update-no-token\"]=\"FCM returned no token when updating the user to push.\",r[\"use-sw-after-get-token\"]=\"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.\",r[\"invalid-sw-registration\"]=\"The input to useServiceWorker() must be a ServiceWorkerRegistration.\",r[\"invalid-bg-handler\"]=\"The input to setBackgroundMessageHandler() must be a function.\",r[\"invalid-vapid-key\"]=\"The public VAPID key must be a string.\",r[\"use-vapid-key-after-get-token\"]=\"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.\",r),l=new u[\"ErrorFactory\"](\"messaging\",\"Messaging\",h);\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction f(t){var e,n;if(!t||!t.options)throw p(\"App Configuration Object\");if(!t.name)throw p(\"App Name\");var r=[\"projectId\",\"apiKey\",\"appId\",\"messagingSenderId\"],i=t.options;try{for(var o=Object(a[\"__values\"])(r),s=o.next();!s.done;s=o.next()){var u=s.value;if(!i[u])throw p(u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function p(t){return l.create(\"missing-app-config-values\",{valueName:t})}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function d(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Object(a[\"__spread\"])(e)));return n.replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function v(t){for(var e=\"=\".repeat((4-t.length%4)%4),n=(t+e).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var g=\"fcm_token_details_db\",m=5,y=\"fcm_token_object_Store\";function w(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r,i,o=this;return Object(a[\"__generator\"])(this,(function(s){switch(s.label){case 0:return\"databases\"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=s.sent(),n=e.map((function(t){return t.name})),!n.includes(g))return[2,null];s.label=2;case 2:return r=null,[4,Object(c[\"openDb\"])(g,m,(function(e){return Object(a[\"__awaiter\"])(o,void 0,void 0,(function(){var n,i,o,s;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(y)?(n=e.transaction.objectStore(y),[4,n.index(\"fcmSenderId\").get(t)]):[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(o=i,!o.auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:\"string\"===typeof o.vapidKey?o.vapidKey:d(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(o=i,r={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:d(o.auth),p256dh:d(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:d(o.vapidKey)}});return[2]}}))}))}))];case 3:return i=s.sent(),i.close(),[4,Object(c[\"deleteDb\"])(g)];case 4:return s.sent(),[4,Object(c[\"deleteDb\"])(\"fcm_vapid_details_db\")];case 5:return s.sent(),[4,Object(c[\"deleteDb\"])(\"undefined\")];case 6:return s.sent(),[2,b(r)?r:null]}}))}))}function b(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return\"number\"===typeof t.createTime&&t.createTime>0&&\"string\"===typeof t.token&&t.token.length>0&&\"string\"===typeof e.auth&&e.auth.length>0&&\"string\"===typeof e.p256dh&&e.p256dh.length>0&&\"string\"===typeof e.endpoint&&e.endpoint.length>0&&\"string\"===typeof e.swScope&&e.swScope.length>0&&\"string\"===typeof e.vapidKey&&e.vapidKey.length>0}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var _=\"firebase-messaging-database\",E=1,I=\"firebase-messaging-store\",T=null;function C(){return T||(T=Object(c[\"openDb\"])(_,E,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(I)}}))),T}function S(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r,i;return Object(a[\"__generator\"])(this,(function(o){switch(o.label){case 0:return e=A(t),[4,C()];case 1:return n=o.sent(),[4,n.transaction(I).objectStore(I).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,w(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,N(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}}))}))}function N(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i;return Object(a[\"__generator\"])(this,(function(o){switch(o.label){case 0:return n=A(t),[4,C()];case 1:return r=o.sent(),i=r.transaction(I,\"readwrite\"),[4,i.objectStore(I).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function k(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return e=A(t),[4,C()];case 1:return n=i.sent(),r=n.transaction(I,\"readwrite\"),[4,r.objectStore(I).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function A(t){var e=t.appConfig;return e.appId}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var O=\"/firebase-messaging-sw.js\",R=\"/firebase-cloud-messaging-push-scope\",P=\"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4\",x=\"https://fcmregistrations.googleapis.com/v1\",D=\"FCM_MSG\",L=\"google.c.a.c_id\",M=\"google.c.a.c_l\",F=\"google.c.a.ts\",U=\"google.c.a.e\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction j(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return[4,W(t)];case 1:n=a.sent(),r=z(e),i={method:\"POST\",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(B(t.appConfig),i)];case 3:return s=a.sent(),[4,s.json()];case 4:return o=a.sent(),[3,6];case 5:throw u=a.sent(),l.create(\"token-subscribe-failed\",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,l.create(\"token-subscribe-failed\",{errorInfo:c});if(!o.token)throw l.create(\"token-subscribe-no-token\");return[2,o.token]}}))}))}function V(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return[4,W(t)];case 1:n=a.sent(),r=z(e.subscriptionOptions),i={method:\"PATCH\",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(B(t.appConfig)+\"/\"+e.token,i)];case 3:return s=a.sent(),[4,s.json()];case 4:return o=a.sent(),[3,6];case 5:throw u=a.sent(),l.create(\"token-update-failed\",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,l.create(\"token-update-failed\",{errorInfo:c});if(!o.token)throw l.create(\"token-update-no-token\");return[2,o.token]}}))}))}function q(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return[4,W(t)];case 1:n=a.sent(),r={method:\"DELETE\",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(B(t.appConfig)+\"/\"+e,r)];case 3:return i=a.sent(),[4,i.json()];case 4:if(o=a.sent(),o.error)throw s=o.error.message,l.create(\"token-unsubscribe-failed\",{errorInfo:s});return[3,6];case 5:throw u=a.sent(),l.create(\"token-unsubscribe-failed\",{errorInfo:u});case 6:return[2]}}))}))}function B(t){var e=t.projectId;return x+\"/projects/\"+e+\"/registrations\"}function W(t){var e=t.appConfig,n=t.installations;return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var t;return Object(a[\"__generator\"])(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({\"Content-Type\":\"application/json\",Accept:\"application/json\",\"x-goog-api-key\":e.apiKey,\"x-goog-firebase-installations-auth\":\"FIS \"+t})]}}))}))}function z(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==P&&(o.web.applicationPubKey=i),o}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var G,H=6048e5;function K(t,e,n){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var r,i,o,s;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:if(\"granted\"!==Notification.permission)throw l.create(\"permission-blocked\");return[4,J(e,n)];case 1:return r=a.sent(),[4,S(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:d(r.getKey(\"auth\")),p256dh:d(r.getKey(\"p256dh\"))},i?[3,3]:[2,$(t,o)];case 3:if(X(i.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,q(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,$(t,o)];case 8:return Date.now()>=i.createTime+H?[2,Y({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}}))}))}function Q(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return[4,S(t)];case 1:return n=i.sent(),n?[4,q(t,n.token)]:[3,4];case 2:return i.sent(),[4,k(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}}))}))}function Y(t,e,n){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var r,i,o;return Object(a[\"__generator\"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,V(e,t)];case 1:return r=s.sent(),i=Object(a[\"__assign\"])({token:r,createTime:Date.now()},t),[4,N(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,Q(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function $(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return[4,j(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,N(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function J(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n;return Object(a[\"__generator\"])(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:v(e)})]}}))}))}function X(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction Z(t){return\"object\"===typeof t&&!!t&&L in t}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(function(t){t[\"PUSH_RECEIVED\"]=\"push-received\",t[\"NOTIFICATION_CLICKED\"]=\"notification-clicked\"})(G||(G={}));var tt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener(\"message\",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.getToken=function(){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var t;return Object(a[\"__generator\"])(this,(function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=P),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),\"default\"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if(\"granted\"!==Notification.permission)throw l.create(\"permission-blocked\");return[2,K(this.firebaseDependencies,t,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var t;return Object(a[\"__generator\"])(this,(function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,Q(this.firebaseDependencies,t)]}}))}))},t.prototype.requestPermission=function(){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var t;return Object(a[\"__generator\"])(this,(function(e){switch(e.label){case 0:return\"granted\"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if(t=e.sent(),\"granted\"===t)return[2];throw\"denied\"===t?l.create(\"permission-blocked\"):l.create(\"permission-default\")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw l.create(\"use-vapid-key-after-get-token\");if(\"string\"!==typeof t||0===t.length)throw l.create(\"invalid-vapid-key\");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw l.create(\"invalid-sw-registration\");if(this.swRegistration)throw l.create(\"use-sw-after-get-token\");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=\"function\"===typeof t?t:t.next,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw l.create(\"only-available-in-sw\")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var t,e;return Object(a[\"__generator\"])(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register(O,{scope:R})];case 2:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw e=n.sent(),l.create(\"failed-service-worker-registration\",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}}))}))},t.prototype.messageEventListener=function(t){var e;return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r,i,o;return Object(a[\"__generator\"])(this,(function(s){switch(s.label){case 0:return(null===(e=t.data)||void 0===e?void 0:e.firebaseMessaging)?(n=t.data.firebaseMessaging,r=n.type,i=n.payload,this.onMessageCallback&&r===G.PUSH_RECEIVED&&this.onMessageCallback(i),o=i.data,Z(o)&&\"1\"===o[U]?[4,this.logEvent(r,o)]:[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))},t.prototype.logEvent=function(t,e){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return n=et(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:e[L],message_name:e[M],message_time:e[F],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function et(t){switch(t){case G.NOTIFICATION_CLICKED:return\"notification_open\";case G.PUSH_RECEIVED:return\"notification_foreground\";default:throw new Error}}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function nt(t){return new Promise((function(e){setTimeout(e,t)}))}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var rt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener(\"push\",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener(\"pushsubscriptionchange\",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener(\"notificationclick\",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||\"function\"!==typeof t)throw l.create(\"invalid-bg-handler\");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,e;return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var n;return Object(a[\"__generator\"])(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,S(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:P,r.label=2;case 2:return[2,K(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Q(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw l.create(\"only-available-in-window\")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw l.create(\"use-vapid-key-after-get-token\");if(\"string\"!==typeof t||0===t.length)throw l.create(\"invalid-vapid-key\");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw l.create(\"only-available-in-window\")},t.prototype.onMessage=function(){throw l.create(\"only-available-in-window\")},t.prototype.onTokenRefresh=function(){throw l.create(\"only-available-in-window\")},t.prototype.onPush=function(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r;return Object(a[\"__generator\"])(this,(function(i){switch(i.label){case 0:return e=it(t),e?[4,ct()]:[2];case 1:return n=i.sent(),at(n)?[2,ut(n,e)]:(r=ot(e),r?[4,lt(r)]:[3,3]);case 2:return i.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var r,i;return Object(a[\"__generator\"])(this,(function(o){switch(o.label){case 0:return r=t.newSubscription,r?[3,2]:[4,Q(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,S(this.firebaseDependencies)];case 3:return i=o.sent(),[4,Q(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,K(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:P)];case 5:return o.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var r,i,o,s;return Object(a[\"__generator\"])(this,(function(a){switch(a.label){case 0:return r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[D],r?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),i=ft(r),i?[4,st(i)]:[2]):[2];case 1:return o=a.sent(),o?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=a.sent(),[4,nt(3e3)];case 3:return a.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=a.sent(),a.label=6;case 6:return o?(s=ht(G.NOTIFICATION_CLICKED,r),[2,o.postMessage(s)]):[2]}}))}))},t}();function it(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}function ot(t){var e;if(t&&\"object\"===typeof t.notification){var n=Object(a[\"__assign\"])({},t.notification);return n.data=Object(a[\"__assign\"])(Object(a[\"__assign\"])({},t.notification.data),(e={},e[D]=t,e)),n}}function st(t){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var e,n,r,i,o,s,u,c;return Object(a[\"__generator\"])(this,(function(h){switch(h.label){case 0:return e=new URL(t,self.location.href).href,[4,ct()];case 1:n=h.sent();try{for(r=Object(a[\"__values\"])(n),i=r.next();!i.done;i=r.next())if(o=i.value,s=new URL(o.url,self.location.href).href,s===e)return[2,o]}catch(l){u={error:l}}finally{try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}}return[2,null]}}))}))}function at(t){return t.some((function(t){return\"visible\"===t.visibilityState&&!t.url.startsWith(\"chrome-extension://\")}))}function ut(t,e){var n,r,i=ht(G.PUSH_RECEIVED,e);try{for(var o=Object(a[\"__values\"])(t),s=o.next();!s.done;s=o.next()){var u=s.value;u.postMessage(i)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function ct(){return self.clients.matchAll({type:\"window\",includeUncontrolled:!0})}function ht(t,e){return{firebaseMessaging:{type:t,payload:e}}}function lt(t){var e,n=null!==(e=t.title)&&void 0!==e?e:\"\",r=t.actions,i=Notification.maxActions;return r&&i&&r.length>i&&console.warn(\"This browser only supports \"+i+\" actions. The remaining actions will not be displayed.\"),self.registration.showNotification(n,t)}function ft(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(Z(t.data)?self.location.origin:null)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var pt=\"messaging\";function dt(t){var e=t.getProvider(\"app\").getImmediate(),n=f(e),r=t.getProvider(\"installations\").getImmediate(),i=t.getProvider(\"analytics-internal\"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!gt())throw l.create(\"unsupported-browser\");return self&&\"ServiceWorkerGlobalScope\"in self?new rt(o):new tt(o)}var vt={isSupported:gt};function gt(){return self&&\"ServiceWorkerGlobalScope\"in self?yt():mt()}function mt(){return\"indexedDB\"in window&&null!==indexedDB&&navigator.cookieEnabled&&\"serviceWorker\"in navigator&&\"PushManager\"in window&&\"Notification\"in window&&\"fetch\"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\")}function yt(){return\"indexedDB\"in self&&null!==indexedDB&&\"PushManager\"in self&&\"Notification\"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\")}o.a.INTERNAL.registerComponent(new s[\"Component\"](pt,dt,\"PUBLIC\").setServiceProps(vt))},8654:function(t,e,n){\"use strict\";n(\"0481\"),n(\"caad\"),n(\"4069\"),n(\"a9e3\"),n(\"d3b7\"),n(\"25f0\");var r=n(\"5530\"),i=(n(\"4ff9\"),n(\"c37a\")),o=(n(\"99af\"),n(\"e9b1\"),n(\"7560\")),s=n(\"58df\"),a=Object(s[\"a\"])(o[\"a\"]).extend({name:\"v-counter\",functional:!0,props:{value:{type:[Number,String],default:\"\"},max:[Number,String]},render:function(t,e){var n=e.props,i=parseInt(n.max,10),s=parseInt(n.value,10),a=i?\"\".concat(s,\" / \").concat(i):String(n.value),u=i&&s>i;return t(\"div\",{staticClass:\"v-counter\",class:Object(r[\"a\"])({\"error--text\":u},Object(o[\"b\"])(e))},a)}}),u=a,c=n(\"ba87\"),h=n(\"90a2\"),l=n(\"d9bd\"),f=n(\"2b0e\");function p(t){return\"undefined\"!==typeof window&&\"IntersectionObserver\"in window?f[\"a\"].extend({name:\"intersectable\",mounted:function(){h[\"a\"].inserted(this.$el,{name:\"intersect\",value:{handler:this.onObserve}})},destroyed:function(){h[\"a\"].unbind(this.$el)},methods:{onObserve:function(e,n,r){if(r)for(var i=0,o=t.onVisible.length;i<o;i++){var s=this[t.onVisible[i]];\"function\"!==typeof s?Object(l[\"c\"])(t.onVisible[i]+\" method is not available on the instance but referenced in intersectable mixin options\"):s()}}}}):f[\"a\"].extend({name:\"intersectable\"})}var d=n(\"297c\"),v=n(\"38cb\"),g=n(\"5607\"),m=n(\"80d2\"),y=Object(s[\"a\"])(i[\"a\"],p({onVisible:[\"setLabelWidth\",\"setPrefixWidth\",\"setPrependWidth\",\"tryAutofocus\"]}),d[\"a\"]),w=[\"color\",\"file\",\"time\",\"date\",\"datetime-local\",\"week\",\"month\"];e[\"a\"]=y.extend().extend({name:\"v-text-field\",directives:{ripple:g[\"a\"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:\"$clear\"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:\"text\"}},data:function(){return{badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}},computed:{classes:function(){return Object(r[\"a\"])({},i[\"a\"].options.computed.classes.call(this),{\"v-text-field\":!0,\"v-text-field--full-width\":this.fullWidth,\"v-text-field--prefix\":this.prefix,\"v-text-field--single-line\":this.isSingle,\"v-text-field--solo\":this.isSolo,\"v-text-field--solo-inverted\":this.soloInverted,\"v-text-field--solo-flat\":this.flat,\"v-text-field--filled\":this.filled,\"v-text-field--is-booted\":this.isBooted,\"v-text-field--enclosed\":this.isEnclosed,\"v-text-field--reverse\":this.reverse,\"v-text-field--outlined\":this.outlined,\"v-text-field--placeholder\":this.placeholder,\"v-text-field--rounded\":this.rounded,\"v-text-field--shaped\":this.shaped})},computedColor:function(){var t=v[\"a\"].options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||\"primary\":t},computedCounterValue:function(){return\"function\"===typeof this.counterValue?this.counterValue(this.internalValue):(this.internalValue||\"\").toString().length},hasCounter:function(){return!1!==this.counter&&null!=this.counter},hasDetails:function(){return i[\"a\"].options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit(\"input\",this.lazyValue)}},isDirty:function(){return null!=this.lazyValue&&this.lazyValue.toString().length>0||this.badInput},isEnclosed:function(){return this.filled||this.isSolo||this.outlined},isLabelActive:function(){return this.isDirty||w.includes(this.type)},isSingle:function(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo:function(){return this.solo||this.soloInverted},labelPosition:function(){var t=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(t-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:t,right:\"auto\"}:{left:\"auto\",right:t}},showLabel:function(){return this.hasLabel&&(!this.isSingle||!this.isLabelActive&&!this.placeholder)},labelValue:function(){return!this.isSingle&&Boolean(this.isFocused||this.isLabelActive||this.placeholder)}},watch:{labelValue:\"setLabelWidth\",outlined:\"setLabelWidth\",label:function(){this.$nextTick(this.setLabelWidth)},prefix:function(){this.$nextTick(this.setPrefixWidth)},isFocused:\"updateValue\",value:function(t){this.lazyValue=t}},created:function(){this.$attrs.hasOwnProperty(\"box\")&&Object(l[\"a\"])(\"box\",\"filled\",this),this.$attrs.hasOwnProperty(\"browser-autocomplete\")&&Object(l[\"a\"])(\"browser-autocomplete\",\"autocomplete\",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(l[\"c\"])(\"shaped should be used with either filled or outlined\",this)},mounted:function(){var t=this;this.autofocus&&this.tryAutofocus(),this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth(),requestAnimationFrame((function(){return t.isBooted=!0}))},methods:{focus:function(){this.onFocus()},blur:function(t){var e=this;window.requestAnimationFrame((function(){e.$refs.input&&e.$refs.input.blur()}))},clearableCallback:function(){var t=this;this.$refs.input&&this.$refs.input.focus(),this.$nextTick((function(){return t.internalValue=null}))},genAppendSlot:function(){var t=[];return this.$slots[\"append-outer\"]?t.push(this.$slots[\"append-outer\"]):this.appendOuterIcon&&t.push(this.genIcon(\"appendOuter\")),this.genSlot(\"append\",\"outer\",t)},genPrependInnerSlot:function(){var t=[];return this.$slots[\"prepend-inner\"]?t.push(this.$slots[\"prepend-inner\"]):this.prependInnerIcon&&t.push(this.genIcon(\"prependInner\")),this.genSlot(\"prepend\",\"inner\",t)},genIconSlot:function(){var t=[];return this.$slots[\"append\"]?t.push(this.$slots[\"append\"]):this.appendIcon&&t.push(this.genIcon(\"append\")),this.genSlot(\"append\",\"inner\",t)},genInputSlot:function(){var t=i[\"a\"].options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&(t.children=t.children||[],t.children.unshift(e)),t},genClearIcon:function(){if(!this.clearable)return null;var t=this.isDirty?void 0:{attrs:{disabled:!0}};return this.genSlot(\"append\",\"inner\",[this.genIcon(\"clear\",this.clearableCallback,t)])},genCounter:function(){if(!this.hasCounter)return null;var t=!0===this.counter?this.attrs$.maxlength:this.counter;return this.$createElement(u,{props:{dark:this.dark,light:this.light,max:t,value:this.computedCounterValue}})},genDefaultSlot:function(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset:function(){return this.outlined?this.$createElement(\"fieldset\",{attrs:{\"aria-hidden\":!0}},[this.genLegend()]):null},genLabel:function(){if(!this.showLabel)return null;var t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.disabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(c[\"a\"],t,this.$slots.label||this.label)},genLegend:function(){var t=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,e=this.$createElement(\"span\",{domProps:{innerHTML:\"&#8203;\"}});return this.$createElement(\"legend\",{style:{width:this.isSingle?void 0:Object(m[\"d\"])(t)}},[e])},genInput:function(){var t=Object.assign({},this.listeners$);return delete t[\"change\"],this.$createElement(\"input\",{style:{},domProps:{value:this.lazyValue},attrs:Object(r[\"a\"])({},this.attrs$,{autofocus:this.autofocus,disabled:this.disabled,id:this.computedId,placeholder:this.placeholder,readonly:this.readonly,type:this.type}),on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:\"input\"})},genMessages:function(){if(!this.showDetails)return null;var t=i[\"a\"].options.methods.genMessages.call(this),e=this.genCounter();return this.$createElement(\"div\",{staticClass:\"v-text-field__details\"},[t,e])},genTextFieldSlot:function(){return this.$createElement(\"div\",{staticClass:\"v-text-field__slot\"},[this.genLabel(),this.prefix?this.genAffix(\"prefix\"):null,this.genInput(),this.suffix?this.genAffix(\"suffix\"):null])},genAffix:function(t){return this.$createElement(\"div\",{class:\"v-text-field__\".concat(t),ref:t},this[t])},onBlur:function(t){var e=this;this.isFocused=!1,t&&this.$nextTick((function(){return e.$emit(\"blur\",t)}))},onClick:function(){this.isFocused||this.disabled||!this.$refs.input||this.$refs.input.focus()},onFocus:function(t){if(this.$refs.input)return document.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,t&&this.$emit(\"focus\",t)))},onInput:function(t){var e=t.target;this.internalValue=e.value,this.badInput=e.validity&&e.validity.badInput},onKeyDown:function(t){t.keyCode===m[\"o\"].enter&&this.$emit(\"change\",this.internalValue),this.$emit(\"keydown\",t)},onMouseDown:function(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),i[\"a\"].options.methods.onMouseDown.call(this,t)},onMouseUp:function(t){this.hasMouseDown&&this.focus(),i[\"a\"].options.methods.onMouseUp.call(this,t)},setLabelWidth:function(){this.outlined&&this.$refs.label&&(this.labelWidth=Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24))},setPrefixWidth:function(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth:function(){this.outlined&&this.$refs[\"prepend-inner\"]&&(this.prependWidth=this.$refs[\"prepend-inner\"].offsetWidth)},tryAutofocus:function(){return!(!this.autofocus||\"undefined\"===typeof document||!this.$refs.input||document.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue:function(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit(\"change\",this.lazyValue)}}})},\"8aa50\":function(t,e,n){\"use strict\";function r(t){return t&&\"object\"===typeof t&&\"default\"in t?t[\"default\"]:t}var i=r(n(\"c23d\"));n(\"b7aa\"),n(\"3523\"),n(\"e89a\"),n(\"001a\"),n(\"8071\"),n(\"2e66\"),n(\"6d09\"),n(\"dcaa\"),n(\"3b59\");var o=\"firebase\",s=\"7.13.2\";\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\ni.registerVersion(o,s,\"app\");var a=\"firebase\",u=\"7.13.2\";\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconsole.warn(\"\\nIt looks like you're using the development build of the Firebase JS SDK.\\nWhen deploying Firebase apps to production, it is advisable to only import\\nthe individual SDK components you intend to use.\\n\\nFor the module builds, these are available in the following manner\\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\\n\\nCommonJS Modules:\\nconst firebase = require('firebase/app');\\nrequire('firebase/<PACKAGE>');\\n\\nES Modules:\\nimport firebase from 'firebase/app';\\nimport 'firebase/<PACKAGE>';\\n\\nTypescript:\\nimport * as firebase from 'firebase/app';\\nimport 'firebase/<PACKAGE>';\\n\"),i.registerVersion(a,u),t.exports=i},\"8ff2\":function(t,e,n){},\"9ab4\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__extends\",(function(){return i})),n.d(e,\"__assign\",(function(){return o})),n.d(e,\"__rest\",(function(){return s})),n.d(e,\"__decorate\",(function(){return a})),n.d(e,\"__param\",(function(){return u})),n.d(e,\"__metadata\",(function(){return c})),n.d(e,\"__awaiter\",(function(){return h})),n.d(e,\"__generator\",(function(){return l})),n.d(e,\"__exportStar\",(function(){return f})),n.d(e,\"__values\",(function(){return p})),n.d(e,\"__read\",(function(){return d})),n.d(e,\"__spread\",(function(){return v})),n.d(e,\"__spreadArrays\",(function(){return g})),n.d(e,\"__await\",(function(){return m})),n.d(e,\"__asyncGenerator\",(function(){return y})),n.d(e,\"__asyncDelegator\",(function(){return w})),n.d(e,\"__asyncValues\",(function(){return b})),n.d(e,\"__makeTemplateObject\",(function(){return _})),n.d(e,\"__importStar\",(function(){return E})),n.d(e,\"__importDefault\",(function(){return I})),n.d(e,\"__classPrivateFieldGet\",(function(){return T})),n.d(e,\"__classPrivateFieldSet\",(function(){return C}));\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r[\"throw\"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError(\"Generator is already executing.\");while(s)try{if(n=1,r&&(i=2&o[0]?r[\"return\"]:o[0]?r[\"throw\"]||((i=r[\"return\"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e=\"function\"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function d(t,e){var n=\"function\"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o[\"return\"])&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,i=n.apply(t,e||[]),o=[];return r={},s(\"next\"),s(\"throw\"),s(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){a(\"next\",t)}function h(t){a(\"throw\",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r(\"next\"),r(\"throw\",(function(t){throw t})),r(\"return\"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:\"return\"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=\"function\"===typeof p?p(t):t[Symbol.iterator](),e={},r(\"next\"),r(\"throw\"),r(\"return\"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,\"raw\",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return e.get(t)}function C(t,e,n){if(!e.has(t))throw new TypeError(\"attempted to set private field on non-instance\");return e.set(t,n),n}},\"9dbb\":function(t,e,n){(function(t,n){n(e)})(0,(function(t){\"use strict\";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){i=t[e].apply(t,r),n(i).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new h(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function l(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,\"open\",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function g(t){return r(indexedDB,\"deleteDatabase\",[t])}o(c,\"_index\",[\"name\",\"keyPath\",\"multiEntry\",\"unique\"]),s(c,\"_index\",IDBIndex,[\"get\",\"getKey\",\"getAll\",\"getAllKeys\",\"count\"]),u(c,\"_index\",IDBIndex,[\"openCursor\",\"openKeyCursor\"]),o(h,\"_cursor\",[\"direction\",\"key\",\"primaryKey\",\"value\"]),s(h,\"_cursor\",IDBCursor,[\"update\",\"delete\"]),[\"advance\",\"continue\",\"continuePrimaryKey\"].forEach((function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new h(t,e._request)}))}))})})),l.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(l,\"_store\",[\"name\",\"keyPath\",\"indexNames\",\"autoIncrement\"]),s(l,\"_store\",IDBObjectStore,[\"put\",\"add\",\"delete\",\"clear\",\"get\",\"getAll\",\"getKey\",\"getAllKeys\",\"count\"]),u(l,\"_store\",IDBObjectStore,[\"openCursor\",\"openKeyCursor\"]),a(l,\"_store\",IDBObjectStore,[\"deleteIndex\"]),f.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},o(f,\"_tx\",[\"objectStoreNames\",\"mode\"]),a(f,\"_tx\",IDBTransaction,[\"abort\"]),p.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},o(p,\"_db\",[\"name\",\"version\",\"objectStoreNames\"]),a(p,\"_db\",IDBDatabase,[\"deleteObjectStore\",\"close\"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,\"_db\",[\"name\",\"version\",\"objectStoreNames\"]),a(d,\"_db\",IDBDatabase,[\"close\"]),[\"openCursor\",\"openKeyCursor\"].forEach((function(t){[l,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace(\"open\",\"iterate\")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,l].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=g,Object.defineProperty(t,\"__esModule\",{value:!0})}))},abfd:function(t,e,n){\"use strict\";\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nfunction r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var i;n.r(e),n.d(e,\"LogLevel\",(function(){return o})),n.d(e,\"Logger\",(function(){return l})),n.d(e,\"setLogLevel\",(function(){return f})),n.d(e,\"setUserLogHandler\",(function(){return p}));var o,s=[];(function(t){t[t[\"DEBUG\"]=0]=\"DEBUG\",t[t[\"VERBOSE\"]=1]=\"VERBOSE\",t[t[\"INFO\"]=2]=\"INFO\",t[t[\"WARN\"]=3]=\"WARN\",t[t[\"ERROR\"]=4]=\"ERROR\",t[t[\"SILENT\"]=5]=\"SILENT\"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(i={},i[o.DEBUG]=\"log\",i[o.VERBOSE]=\"log\",i[o.INFO]=\"info\",i[o.WARN]=\"warn\",i[o.ERROR]=\"error\",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error(\"Attempted to log a message with an invalid logType (value: \"+e+\")\");console[s].apply(console,r([\"[\"+o+\"]  \"+t.name+\":\"],n))}},l=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=h,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,\"logLevel\",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError(\"Invalid value assigned to `logLevel`\");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"logHandler\",{get:function(){return this._logHandler},set:function(t){if(\"function\"!==typeof t)throw new TypeError(\"Value assigned to `logHandler` must be a function\");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"userLogHandler\",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){var e=\"string\"===typeof t?a[t]:t;s.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if(\"string\"===typeof t)return t;if(\"number\"===typeof t||\"boolean\"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(\" \");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){var u=i[r];n(u)}}},b7aa:function(t,e,n){\"use strict\";n.r(e),function(t){var e=n(\"c23d\"),r=n.n(e);(function(){var e,n=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function i(e){e=[\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}var o=i(this);function s(t,e){if(e){var r=o;t=t.split(\".\");for(var i=0;i<t.length-1;i++){var s=t[i];s in r||(r[s]={}),r=r[s]}t=t[t.length-1],i=r[t],e=e(i),e!=i&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}function a(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function u(t){var e=\"undefined\"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:a(t)}}s(\"Promise\",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError(\"A Promise cannot resolve to itself\"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case\"object\":var n=null!=t;break t;case\"function\":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}\"function\"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error(\"Cannot settle(\"+t+\", \"+e+\"): Promise already settled in state\"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return\"function\"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error(\"Unexpected state: \"+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=u(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=u(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,a--,0==a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var c=c||{},h=this||self,l=/^[\\w+/_-]+[=]{0,2}$/,f=null;function p(){}function d(t){var e=typeof t;if(\"object\"==e){if(!t)return\"null\";if(t instanceof Array)return\"array\";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if(\"[object Window]\"==n)return\"object\";if(\"[object Array]\"==n||\"number\"==typeof t.length&&\"undefined\"!=typeof t.splice&&\"undefined\"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==n||\"undefined\"!=typeof t.call&&\"undefined\"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"call\"))return\"function\"}else if(\"function\"==e&&\"undefined\"==typeof t.call)return\"object\";return e}function v(t){var e=d(t);return\"array\"==e||\"object\"==e&&\"number\"==typeof t.length}function g(t){return\"function\"==d(t)}function m(t){var e=typeof t;return\"object\"==e&&null!=t||\"function\"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,w)&&t[w]||(t[w]=++b)}var w=\"closure_uid_\"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?_:E,I.apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function N(t,e,n){this.code=O+t,this.message=e||R[t]||\"\",this.a=n||null}function k(t){var e=t&&t.code;return e?new N(e.substring(O.length),t.message,t.serverResponse):null}S(N,Error),N.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},N.prototype.toJSON=function(){return this.v()};var A,O=\"auth/\",R={\"admin-restricted-operation\":\"This operation is restricted to administrators only.\",\"argument-error\":\"\",\"app-not-authorized\":\"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.\",\"app-not-installed\":\"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.\",\"captcha-check-failed\":\"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.\",\"code-expired\":\"The SMS code has expired. Please re-send the verification code to try again.\",\"cordova-not-ready\":\"Cordova framework is not ready.\",\"cors-unsupported\":\"This browser is not supported.\",\"credential-already-in-use\":\"This credential is already associated with a different user account.\",\"custom-token-mismatch\":\"The custom token corresponds to a different audience.\",\"requires-recent-login\":\"This operation is sensitive and requires recent authentication. Log in again before retrying this request.\",\"dynamic-link-not-activated\":\"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.\",\"email-change-needs-verification\":\"Multi-factor users must always have a verified email.\",\"email-already-in-use\":\"The email address is already in use by another account.\",\"expired-action-code\":\"The action code has expired. \",\"cancelled-popup-request\":\"This operation has been cancelled due to another conflicting popup being opened.\",\"internal-error\":\"An internal error has occurred.\",\"invalid-app-credential\":\"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.\",\"invalid-app-id\":\"The mobile app identifier is not registed for the current project.\",\"invalid-user-token\":\"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.\",\"invalid-auth-event\":\"An internal error has occurred.\",\"invalid-verification-code\":\"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.\",\"invalid-continue-uri\":\"The continue URL provided in the request is invalid.\",\"invalid-cordova-configuration\":\"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.\",\"invalid-custom-token\":\"The custom token format is incorrect. Please check the documentation.\",\"invalid-dynamic-link-domain\":\"The provided dynamic link domain is not configured or authorized for the current project.\",\"invalid-email\":\"The email address is badly formatted.\",\"invalid-api-key\":\"Your API key is invalid, please check you have copied it correctly.\",\"invalid-cert-hash\":\"The SHA-1 certificate hash provided is invalid.\",\"invalid-credential\":\"The supplied auth credential is malformed or has expired.\",\"invalid-message-payload\":\"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.\",\"invalid-multi-factor-session\":\"The request does not contain a valid proof of first factor successful sign-in.\",\"invalid-oauth-provider\":\"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.\",\"invalid-oauth-client-id\":\"The OAuth client ID provided is either invalid or does not match the specified API key.\",\"unauthorized-domain\":\"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.\",\"invalid-action-code\":\"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.\",\"wrong-password\":\"The password is invalid or the user does not have a password.\",\"invalid-persistence-type\":\"The specified persistence type is invalid. It can only be local, session or none.\",\"invalid-phone-number\":\"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].\",\"invalid-provider-id\":\"The specified provider ID is invalid.\",\"invalid-recipient-email\":\"The email corresponding to this action failed to send as the provided recipient email address is invalid.\",\"invalid-sender\":\"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.\",\"invalid-verification-id\":\"The verification ID used to create the phone auth credential is invalid.\",\"invalid-tenant-id\":\"The Auth instance's tenant ID is invalid.\",\"multi-factor-info-not-found\":\"The user does not have a second factor matching the identifier provided.\",\"multi-factor-auth-required\":\"Proof of ownership of a second factor is required to complete sign-in.\",\"missing-android-pkg-name\":\"An Android Package Name must be provided if the Android App is required to be installed.\",\"auth-domain-config-required\":\"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.\",\"missing-app-credential\":\"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.\",\"missing-verification-code\":\"The phone auth credential was created with an empty SMS verification code.\",\"missing-continue-uri\":\"A continue URL must be provided in the request.\",\"missing-iframe-start\":\"An internal error has occurred.\",\"missing-ios-bundle-id\":\"An iOS Bundle ID must be provided if an App Store ID is provided.\",\"missing-multi-factor-info\":\"No second factor identifier is provided.\",\"missing-multi-factor-session\":\"The request is missing proof of first factor successful sign-in.\",\"missing-or-invalid-nonce\":\"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.\",\"missing-phone-number\":\"To send verification codes, provide a phone number for the recipient.\",\"missing-verification-id\":\"The phone auth credential was created with an empty verification ID.\",\"app-deleted\":\"This instance of FirebaseApp has been deleted.\",\"account-exists-with-different-credential\":\"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.\",\"network-request-failed\":\"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\",\"no-auth-event\":\"An internal error has occurred.\",\"no-such-provider\":\"User was not linked to an account with the given provider.\",\"null-user\":\"A null user object was provided as the argument for an operation which requires a non-null user object.\",\"operation-not-allowed\":\"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.\",\"operation-not-supported-in-this-environment\":'This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.',\"popup-blocked\":\"Unable to establish a connection with the popup. It may have been blocked by the browser.\",\"popup-closed-by-user\":\"The popup has been closed by the user before finalizing the operation.\",\"provider-already-linked\":\"User can only be linked to one identity for the given provider.\",\"quota-exceeded\":\"The project's quota for this operation has been exceeded.\",\"redirect-cancelled-by-user\":\"The redirect operation has been cancelled by the user before finalizing.\",\"redirect-operation-pending\":\"A redirect sign-in operation is already pending.\",\"rejected-credential\":\"The request contains malformed or mismatching credentials.\",\"second-factor-already-in-use\":\"The second factor is already enrolled on this account.\",\"maximum-second-factor-count-exceeded\":\"The maximum allowed number of second factors on a user has been exceeded.\",\"tenant-id-mismatch\":\"The provided tenant ID does not match the Auth instance's tenant ID\",timeout:\"The operation has timed out.\",\"user-token-expired\":\"The user's credential is no longer valid. The user must sign in again.\",\"too-many-requests\":\"We have blocked all requests from this device due to unusual activity. Try again later.\",\"unauthorized-continue-uri\":\"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.\",\"unsupported-first-factor\":\"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.\",\"unsupported-persistence-type\":\"The current environment does not support the specified persistence type.\",\"unsupported-tenant-operation\":\"This operation is not supported in a multi-tenant context.\",\"unverified-email\":\"The operation requires a verified email.\",\"user-cancelled\":\"The user did not grant your application the permissions it requested.\",\"user-not-found\":\"There is no user record corresponding to this identifier. The user may have been deleted.\",\"user-disabled\":\"The user account has been disabled by an administrator.\",\"user-mismatch\":\"The supplied credentials do not correspond to the previously signed in user.\",\"user-signed-out\":\"\",\"weak-password\":\"The password must be 6 characters long or more.\",\"web-storage-unsupported\":\"This browser is not supported or 3rd party cookies and data may be disabled.\"},P={hd:{Ra:\"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/\",Xa:\"https://staging-securetoken.sandbox.googleapis.com/v1/token\",Ua:\"https://staging-identitytoolkit.sandbox.googleapis.com/v2/\",id:\"b\"},pd:{Ra:\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\",Xa:\"https://securetoken.googleapis.com/v1/token\",Ua:\"https://identitytoolkit.googleapis.com/v2/\",id:\"p\"},rd:{Ra:\"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/\",Xa:\"https://staging-securetoken.sandbox.googleapis.com/v1/token\",Ua:\"https://staging-identitytoolkit.sandbox.googleapis.com/v2/\",id:\"s\"},sd:{Ra:\"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/\",Xa:\"https://test-securetoken.sandbox.googleapis.com/v1/token\",Ua:\"https://test-identitytoolkit.sandbox.googleapis.com/v2/\",id:\"t\"}};function x(t){for(var e in P)if(P[e].id===t)return t=P[e],{firebaseEndpoint:t.Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){t=t.split(\"%s\");for(var n=\"\",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:\"%s\");L.call(this,n+t[r])}function F(t,e){throw new M(\"Failure\"+(t?\": \"+t:\"\"),Array.prototype.slice.call(arguments,1))}function U(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}A=x(\"__EID__\")?\"__EID__\":void 0,S(L,Error),L.prototype.name=\"CustomError\",S(M,L),M.prototype.name=\"AssertionError\",U.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var q=new U((function(){return new W}),(function(t){t.reset()}));function B(){var t=Se,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function W(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},W.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(\"string\"===typeof t)return\"string\"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=\"string\"===typeof t?t.split(\"\"):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function H(t,e){for(var n=\"string\"===typeof t?t.split(\"\"):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=\"string\"===typeof t?t.split(\"\"):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},Q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=\"string\"===typeof t?t.split(\"\"):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=\"string\"===typeof t?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t){t:{for(var e=ta,n=t.length,r=\"string\"===typeof t?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:\"string\"===typeof t?t.charAt(e):t[e]}function J(t,e){return 0<=z(t,e)}function X(t,e){var n;return e=z(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function Z(t,e){H(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function tt(t){return Array.prototype.concat.apply([],arguments)}function et(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var nt,rt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(t)[1]},it=/&/g,ot=/</g,st=/>/g,at=/\"/g,ut=/'/g,ct=/\\x00/g,ht=/[\\x00&<>\"']/;function lt(t,e){return-1!=t.indexOf(e)}function ft(t,e){return t<e?-1:t>e?1:0}t:{var pt=h.navigator;if(pt){var dt=pt.userAgent;if(dt){nt=dt;break t}}nt=\"\"}function vt(t){return lt(nt,t)}function gt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function mt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var wt=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function bt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<wt.length;o++)n=wt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _t(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||h,r.Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&\"undefined\"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o=\"<object could not be stringified>\"}else o=void 0===t?\"undefined\":null===t?\"null\":typeof t;F(\"Argument is not a %s (or a non-Element, non-Location mock); got: %s\",e,o)}}function Et(t,e){this.a=t===Ct&&e||\"\",this.b=Tt}function It(t){return t instanceof Et&&t.constructor===Et&&t.b===Tt?t.a:(F(\"expected object of type Const, got '\"+t+\"'\"),\"type_error:Const\")}Et.prototype.ra=!0,Et.prototype.qa=function(){return this.a},Et.prototype.toString=function(){return\"Const{\"+this.a+\"}\"};var Tt={},Ct={},St=new Et(Ct,\"\");function Nt(t,e){this.a=t===xt&&e||\"\",this.b=Pt}function kt(t){return t instanceof Nt&&t.constructor===Nt&&t.b===Pt?t.a:(F(\"expected object of type TrustedResourceUrl, got '\"+t+\"' of type \"+d(t)),\"type_error:TrustedResourceUrl\")}function At(t,e){var n=It(t);if(!Rt.test(n))throw Error(\"Invalid TrustedResourceUrl format: \"+n);return t=n.replace(Ot,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, \"'+r+'\", in format string, \"'+n+'\", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof Et?It(t):encodeURIComponent(String(t))})),new Nt(xt,t)}Nt.prototype.ra=!0,Nt.prototype.qa=function(){return this.a.toString()},Nt.prototype.toString=function(){return\"TrustedResourceUrl{\"+this.a+\"}\"};var Ot=/%{(\\w+)}/g,Rt=/^((https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|\\/[^/\\\\]|[^:/\\\\%]+\\/|[^:/\\\\%]*[?#]|about:blank#)/i,Pt={},xt={};function Dt(t,e){this.a=t===jt&&e||\"\",this.b=Ut}function Lt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Ut?t.a:(F(\"expected object of type SafeUrl, got '\"+t+\"' of type \"+d(t)),\"type_error:SafeUrl\")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return\"SafeUrl{\"+this.a+\"}\"};var Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){return t instanceof Dt?t:(t=\"object\"==typeof t&&t.ra?t.qa():String(t),Mt.test(t)||(t=\"about:invalid#zClosurez\"),new Dt(jt,t))}var Ut={},jt={};function Vt(){this.a=\"\",this.b=Bt}function qt(t){return t instanceof Vt&&t.constructor===Vt&&t.b===Bt?t.a:(F(\"expected object of type SafeHtml, got '\"+t+\"' of type \"+d(t)),\"type_error:SafeHtml\")}Vt.prototype.ra=!0,Vt.prototype.qa=function(){return this.a.toString()},Vt.prototype.toString=function(){return\"SafeHtml{\"+this.a+\"}\"};var Bt={};function Wt(t){var e=new Vt;return e.a=t,e}Wt(\"<!DOCTYPE html>\");var zt=Wt(\"\");function Gt(t){var e=new Nt(xt,It(St));_t(t,\"HTMLIFrameElement\"),t.src=kt(e).toString()}function Ht(t,e){_t(t,\"HTMLScriptElement\"),t.src=kt(e),null===f&&(e=h.document,f=(e=e.querySelector&&e.querySelector(\"script[nonce]\"))&&(e=e.nonce||e.getAttribute(\"nonce\"))&&l.test(e)?e:\"\"),e=f,e&&t.setAttribute(\"nonce\",e)}function Kt(t,e){for(var n=t.split(\"%s\"),r=\"\",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join(\"%s\")}function Qt(t){return ht.test(t)&&(-1!=t.indexOf(\"&\")&&(t=t.replace(it,\"&amp;\")),-1!=t.indexOf(\"<\")&&(t=t.replace(ot,\"&lt;\")),-1!=t.indexOf(\">\")&&(t=t.replace(st,\"&gt;\")),-1!=t.indexOf('\"')&&(t=t.replace(at,\"&quot;\")),-1!=t.indexOf(\"'\")&&(t=t.replace(ut,\"&#39;\")),-1!=t.indexOf(\"\\0\")&&(t=t.replace(ct,\"&#0;\"))),t}function Yt(t){return Yt[\" \"](t),t}function $t(t,e){var n=ce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Wt(\"<br>\"),Yt[\" \"]=p;var Jt,Xt=vt(\"Opera\"),Zt=vt(\"Trident\")||vt(\"MSIE\"),te=vt(\"Edge\"),ee=te||Zt,ne=vt(\"Gecko\")&&!(lt(nt.toLowerCase(),\"webkit\")&&!vt(\"Edge\"))&&!(vt(\"Trident\")||vt(\"MSIE\"))&&!vt(\"Edge\"),re=lt(nt.toLowerCase(),\"webkit\")&&!vt(\"Edge\");function ie(){var t=h.document;return t?t.documentMode:void 0}t:{var oe=\"\",se=function(){var t=nt;return ne?/rv:([^\\);]+)(\\)|;)/.exec(t):te?/Edge\\/([\\d\\.]+)/.exec(t):Zt?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(t):re?/WebKit\\/(\\S+)/.exec(t):Xt?/(?:Version)[ \\/]?(\\S+)/.exec(t):void 0}();if(se&&(oe=se?se[1]:\"\"),Zt){var ae=ie();if(null!=ae&&ae>parseFloat(oe)){Jt=String(ae);break t}}Jt=oe}var ue,ce={};function he(t){return $t(t,(function(){for(var e=0,n=rt(String(Jt)).split(\".\"),r=rt(String(t)).split(\".\"),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||\"\",a=r[o]||\"\";do{if(s=/(\\d*)(\\D*)(.*)/.exec(s)||[\"\",\"\",\"\",\"\"],a=/(\\d*)(\\D*)(.*)/.exec(a)||[\"\",\"\",\"\",\"\"],0==s[0].length&&0==a[0].length)break;e=ft(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ft(0==s[2].length,0==a[2].length)||ft(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ue=h.document&&Zt?ie():void 0;try{new self.OffscreenCanvas(0,0).getContext(\"2d\")}catch(qp){}var le=!Zt||9<=Number(ue);function fe(t){var e=document;return\"string\"===typeof t?e.getElementById(t):t}function pe(t,e){gt(e,(function(e,n){e&&\"object\"==typeof e&&e.ra&&(e=e.qa()),\"style\"==n?t.style.cssText=e:\"class\"==n?t.className=e:\"for\"==n?t.htmlFor=e:ge.hasOwnProperty(n)?t.setAttribute(ge[n],e):0==n.lastIndexOf(\"aria-\",0)||0==n.lastIndexOf(\"data-\",0)?t.setAttribute(n,e):t[n]=e}))}var de,ve,ge={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",nonce:\"nonce\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};function me(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!le&&s&&(s.name||s.type)){if(o=[\"<\",o],s.name&&o.push(' name=\"',Qt(s.name),'\"'),s.type){o.push(' type=\"',Qt(s.type),'\"');var a={};bt(a,s),delete a.type,s=a}o.push(\">\"),o=o.join(\"\")}return o=we(i,o),s&&(\"string\"===typeof s?o.className=s:Array.isArray(s)?o.className=s.join(\" \"):pe(o,s)),2<r.length&&ye(i,o,r),o}function ye(t,e,n){function r(n){n&&e.appendChild(\"string\"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!v(o)||m(o)&&0<o.nodeType?r(o):G(be(o)?et(o):o,r)}}function we(t,e){return e=String(e),\"application/xhtml+xml\"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function be(t){if(t&&\"number\"==typeof t.length){if(m(t))return\"function\"==typeof t.item||\"string\"==typeof t.item;if(g(t))return\"function\"==typeof t.item}return!1}function _e(t){h.setTimeout((function(){throw t}),0)}function Ee(){var t=h.MessageChannel;if(\"undefined\"===typeof t&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!vt(\"Presto\")&&(t=function(){var t=we(document,\"IFRAME\");t.style.display=\"none\",Gt(t),document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(qt(zt)),t.close();var n=\"callImmediate\"+Math.random(),r=\"file:\"==e.location.protocol?\"*\":e.location.protocol+\"//\"+e.location.host;t=I((function(t){\"*\"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener(\"message\",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),\"undefined\"!==typeof t&&!vt(\"Trident\")&&!vt(\"MSIE\")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){h.setTimeout(t,0)}}function Ie(t,e){ve||Te(),Ce||(ve(),Ce=!0),Se.add(t,e)}function Te(){if(h.Promise&&h.Promise.resolve){var t=h.Promise.resolve(void 0);ve=function(){t.then(Ne)}}else ve=function(){var t=Ne;!g(h.setImmediate)||h.Window&&h.Window.prototype&&!vt(\"Edge\")&&h.Window.prototype.setImmediate==h.setImmediate?(de||(de=Ee()),de(t)):h.setImmediate(t)}}var Ce=!1,Se=new V;function Ne(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){_e(e)}j(q,t)}Ce=!1}function ke(t,e){if(this.a=Ae,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=p)try{var n=this;t.call(e,(function(t){We(n,Oe,t)}),(function(t){if(!(t instanceof Xe))try{if(t instanceof Error)throw t;throw Error(\"Promise rejected.\")}catch(e){}We(n,Re,t)}))}catch(r){We(this,Re,r)}}var Ae=0,Oe=2,Re=3;function Pe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Pe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new U((function(){return new Pe}),(function(t){t.reset()}));function De(t,e,n){var r=xe.get();return r.g=t,r.b=e,r.f=n,r}function Le(t){if(t instanceof ke)return t;var e=new ke(p);return We(e,Oe,t),e}function Me(t){return new ke((function(e,n){n(t)}))}function Fe(t,e,n){ze(t,e,n,null)||Ie(T(e,t))}function Ue(t){return new ke((function(e,n){var r=t.length,i=[];if(r)for(var o,s=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Fe(o,T(s,u),a);else e(i)}))}function je(t){return new ke((function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},s=0;s<t.length;s++)i=t[s],Fe(i,T(o,s,!0),T(o,s,!1));else e(r)}))}function Ve(t,e){if(t.a==Ae)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Ae&&1==r?Ve(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Ke(n),Qe(n,i,Re,e)))}t.c=null}else We(t,Re,e)}function qe(t,e){t.b||t.a!=Oe&&t.a!=Re||He(t),t.f?t.f.next=e:t.b=e,t.f=e}function Be(t,e,n,r){var i=De(null,null,null);return i.a=new ke((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Xe?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,qe(t,i),i.a}function We(t,e,n){t.a==Ae&&(t===n&&(e=Re,n=new TypeError(\"Promise cannot resolve to itself\")),t.a=1,ze(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,He(t),e!=Re||n instanceof Xe||$e(t,n)))}function ze(t,e,n,r){if(t instanceof ke)return qe(t,De(e||p,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(g(i))return Ge(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ge(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}function He(t){t.h||(t.h=!0,Ie(t.ec,t))}function Ke(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Qe(t,e,n,r){if(n==Re&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ye(e,n,r);else try{e.c?e.g.call(e.f):Ye(e,n,r)}catch(i){Je.call(null,i)}j(xe,e)}function Ye(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function $e(t,e){t.g=!0,Ie((function(){t.g&&Je.call(null,e)}))}ke.prototype.then=function(t,e,n){return Be(this,g(t)?t:null,g(e)?e:null,n)},ke.prototype.$goog_Thenable=!0,e=ke.prototype,e.ma=function(t,e){return t=De(t,t,e),t.c=!0,qe(this,t),this},e.o=function(t,e){return Be(this,null,t,e)},e.cancel=function(t){if(this.a==Ae){var e=new Xe(t);Ie((function(){Ve(this,e)}),this)}},e.Yc=function(t){this.a=Ae,We(this,Oe,t)},e.Zc=function(t){this.a=Ae,We(this,Re,t)},e.ec=function(){for(var t;t=Ke(this);)Qe(this,t,this.a,this.i);this.h=!1};var Je=_e;function Xe(t){L.call(this,t)}function Ze(){0!=tn&&(en[y(this)]=this),this.wa=this.wa,this.na=this.na}S(Xe,L),Xe.prototype.name=\"cancel\";var tn=0,en={};function nn(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=tn)){var e=y(t);if(0!=tn&&t.na&&0<t.na.length)throw Error(t+\" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.\");delete en[e]}}Ze.prototype.wa=!1,Ze.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var rn=Object.freeze||function(t){return t},on=!Zt||9<=Number(ue),sn=Zt&&!he(\"9\"),an=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});try{h.addEventListener(\"test\",p,e),h.removeEventListener(\"test\",p,e)}catch(n){}return t}();function un(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function cn(t,e){if(un.call(this,t?t.type:\"\"),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=\"\",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType=\"\",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(ne){t:{try{Yt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else\"mouseover\"==n?e=t.fromElement:\"mouseout\"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||\"\",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=\"string\"===typeof t.pointerType?t.pointerType:hn[t.pointerType]||\"\",this.a=t,t.defaultPrevented&&this.preventDefault()}}un.prototype.preventDefault=function(){this.defaultPrevented=!0},S(cn,un);var hn=rn({2:\"touch\",3:\"pen\",4:\"mouse\"});cn.prototype.preventDefault=function(){cn.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,sn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},cn.prototype.f=function(){return this.a};var ln=\"closure_listenable_\"+(1e6*Math.random()|0),fn=0;function pn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++fn,this.ua=this.Na=!1}function dn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function vn(t){this.src=t,this.a={},this.b=0}function gn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(dn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function mn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}vn.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=mn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):(e=new pn(e,this.src,o,!!r,i),e.Na=n,t.push(e)),e};var yn=\"closure_lm_\"+(1e6*Math.random()|0),wn={};function bn(t,e,n,r,i){if(r&&r.once)In(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)bn(t,e[o],n,r,i);else n=Pn(n),t&&t[ln]?Dn(t,e,n,m(r)?!!r.capture:!!r,i):_n(t,e,n,!1,r,i)}function _n(t,e,n,r,i,o){if(!e)throw Error(\"Invalid event type\");var s=m(i)?!!i.capture:!!i,a=On(t);if(a||(t[yn]=a=new vn(t)),n=a.add(e,n,r,s,o),!n.proxy){if(r=En(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)an||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Sn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error(\"addEventListener and attachEvent are unavailable.\");t.addListener(r)}0}}function En(){var t=An,e=on?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function In(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)In(t,e[o],n,r,i);else n=Pn(n),t&&t[ln]?Ln(t,e,n,m(r)?!!r.capture:!!r,i):_n(t,e,n,!0,r,i)}function Tn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Tn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=Pn(n),t&&t[ln]?(t=t.u,e=String(e).toString(),e in t.a&&(o=t.a[e],n=mn(o,n,r,i),-1<n&&(dn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=On(t))&&(e=t.a[e.toString()],t=-1,e&&(t=mn(e,n,r,i)),(n=-1<t?e[t]:null)&&Cn(n))}function Cn(t){if(\"number\"!==typeof t&&t&&!t.ua){var e=t.src;if(e&&e[ln])gn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Sn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=On(e))?(gn(n,t),0==n.b&&(n.src=null,e[yn]=null)):dn(t)}}}function Sn(t){return t in wn?wn[t]:wn[t]=\"on\"+t}function Nn(t,e,n,r){var i=!0;if((t=On(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=kn(o,r),i=i&&!1!==o)}return i}function kn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&Cn(t),n.call(r,e)}function An(t,e){if(t.ua)return!0;if(!on){if(!e)t:{e=[\"window\",\"event\"];for(var n=h,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new cn(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Nn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Nn(r[i],t,!1,e),n=n&&o}return n}return kn(t,new cn(e,this))}function On(t){return t=t[yn],t instanceof vn?t:null}var Rn=\"__closure_events_fn_\"+(1e9*Math.random()>>>0);function Pn(t){return g(t)?t:(t[Rn]||(t[Rn]=function(e){return t.handleEvent(e)}),t[Rn])}function xn(){Ze.call(this),this.u=new vn(this),this.Yb=this,this.eb=null}function Dn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function Ln(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Mn(t,e,n,r){if(e=t.u.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&gn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Fn(t,e,n){if(g(t))n&&(t=I(t,n));else{if(!t||\"function\"!=typeof t.handleEvent)throw Error(\"Invalid listener argument\");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function Un(t){var e=null;return new ke((function(n,r){e=Fn((function(){n(void 0)}),t),-1==e&&r(Error(\"Failed to schedule timer.\"))})).o((function(t){throw h.clearTimeout(e),t}))}function jn(t){if(t.V&&\"function\"==typeof t.V)return t.V();if(\"string\"===typeof t)return t.split(\"\");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Vn(t){if(t.X&&\"function\"==typeof t.X)return t.X();if(!t.V||\"function\"!=typeof t.V){if(v(t)||\"string\"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function qn(t,e){if(t.forEach&&\"function\"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||\"string\"===typeof t)G(t,e,void 0);else for(var n=Vn(t),r=jn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function Bn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error(\"Uneven number of arguments\");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Wn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];zn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],zn(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(xn,Ze),xn.prototype[ln]=!0,xn.prototype.addEventListener=function(t,e,n,r){bn(this,t,e,n,r)},xn.prototype.removeEventListener=function(t,e,n,r){Tn(this,t,e,n,r)},xn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if(\"string\"===typeof t)t=new un(t,n);else if(t instanceof un)t.target=t.target||n;else{var i=t;t=new un(r,n),bt(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Mn(s,r,!0,t)&&i}if(s=t.b=n,i=Mn(s,r,!0,t)&&i,i=Mn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.b=e[o],i=Mn(s,r,!1,t)&&i;return i},xn.prototype.Ba=function(){if(xn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)dn(n[r]);delete e.a[t],e.b--}}this.eb=null},e=Bn.prototype,e.V=function(){Wn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return Wn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return zn(this.b,t)?this.b[t]:e},e.set=function(t,e){zn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Gn=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\\\#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function Hn(t,e){if(t){t=t.split(\"&\");for(var n=0;n<t.length;n++){var r=t[n].indexOf(\"=\"),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\\+/g,\" \")):\"\")}}}function Kn(t,e){var n;this.b=this.i=this.f=\"\",this.l=null,this.g=this.c=\"\",this.h=!1,t instanceof Kn?(this.h=void 0!==e?e:t.h,Qn(this,t.f),this.i=t.i,this.b=t.b,Yn(this,t.l),this.c=t.c,$n(this,vr(t.a)),this.g=t.g):t&&(n=String(t).match(Gn))?(this.h=!!e,Qn(this,n[1]||\"\",!0),this.i=er(n[2]||\"\"),this.b=er(n[3]||\"\",!0),Yn(this,n[4]),this.c=er(n[5]||\"\",!0),$n(this,n[6]||\"\",!0),this.g=er(n[7]||\"\")):(this.h=!!e,this.a=new cr(null,this.h))}function Qn(t,e,n){t.f=n?er(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,\"\"))}function Yn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error(\"Bad port number \"+e);t.l=e}else t.l=null}function $n(t,e,n){e instanceof cr?(t.a=e,mr(t.a,t.h)):(n||(e=nr(e,ar)),t.a=new cr(e,t.h))}function Jn(t,e,n){t.a.set(e,n)}function Xn(t,e){return t.a.get(e)}function Zn(t){return t instanceof Kn?new Kn(t):new Kn(t,void 0)}function tr(t,e){var n=new Kn(null,void 0);return Qn(n,\"https\"),t&&(n.b=t),e&&(n.c=e),n}function er(t,e){return t?e?decodeURI(t.replace(/%25/g,\"%2525\")):decodeURIComponent(t):\"\"}function nr(t,e,n){return\"string\"===typeof t?(t=encodeURI(t).replace(e,rr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),t):null}function rr(t){return t=t.charCodeAt(0),\"%\"+(t>>4&15).toString(16)+(15&t).toString(16)}Kn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nr(e,ir,!0),\":\");var n=this.b;return(n||\"file\"==e)&&(t.push(\"//\"),(e=this.i)&&t.push(nr(e,ir,!0),\"@\"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),n=this.l,null!=n&&t.push(\":\",String(n))),(n=this.c)&&(this.b&&\"/\"!=n.charAt(0)&&t.push(\"/\"),t.push(nr(n,\"/\"==n.charAt(0)?sr:or,!0))),(n=this.a.toString())&&t.push(\"?\",n),(n=this.g)&&t.push(\"#\",nr(n,ur)),t.join(\"\")},Kn.prototype.resolve=function(t){var e=new Kn(this),n=!!t.f;n?Qn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Yn(e,t.l);else if(n=!!t.c){if(\"/\"!=r.charAt(0))if(this.b&&!this.c)r=\"/\"+r;else{var i=e.c.lastIndexOf(\"/\");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(i=r,\"..\"==i||\".\"==i)r=\"\";else if(lt(i,\"./\")||lt(i,\"/.\")){r=0==i.lastIndexOf(\"/\",0),i=i.split(\"/\");for(var o=[],s=0;s<i.length;){var a=i[s++];\".\"==a?r&&s==i.length&&o.push(\"\"):\"..\"==a?((1<o.length||1==o.length&&\"\"!=o[0])&&o.pop(),r&&s==i.length&&o.push(\"\")):(o.push(a),r=!0)}r=o.join(\"/\")}else r=i}return n?e.c=r:n=\"\"!==t.a.toString(),n?$n(e,vr(t.a)):n=!!t.g,n&&(e.g=t.g),e};var ir=/[#\\/\\?@]/g,or=/[#\\?:]/g,sr=/[#\\?]/g,ar=/[#\\?@]/g,ur=/#/g;function cr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hr(t){t.a||(t.a=new Bn,t.b=0,t.c&&Hn(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\\+/g,\" \")),n)})))}function lr(t){var e=Vn(t);if(\"undefined\"==typeof e)throw Error(\"Keys are undefined\");var n=new cr(null,void 0);t=jn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?dr(n,i,o):n.add(i,o)}return n}function fr(t,e){hr(t),e=gr(t,e),zn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,zn(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Wn(t)))}function pr(t,e){return hr(t),e=gr(t,e),zn(t.a.b,e)}function dr(t,e,n){fr(t,e),0<n.length&&(t.c=null,t.a.set(gr(t,e),et(n)),t.b+=n.length)}function vr(t){var e=new cr;return e.c=t.c,t.a&&(e.a=new Bn(t.a),e.b=t.b),e}function gr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function mr(t,e){e&&!t.f&&(hr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(fr(this,e),dr(this,n,t))}),t)),t.f=e}function yr(t){var e=[];return br(new wr,t,e),e.join(\"\")}function wr(){}function br(t,e,n){if(null==e)n.push(\"null\");else{if(\"object\"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push(\"[\");for(var i=\"\",o=0;o<e;o++)n.push(i),br(t,r[o],n),i=\",\";return void n.push(\"]\")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push(\"{\"),i=\"\",e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],\"function\"!=typeof o&&(n.push(i),Ir(r,n),n.push(\":\"),br(t,o,n),i=\",\"));return void n.push(\"}\")}e=e.valueOf()}switch(typeof e){case\"string\":Ir(e,n);break;case\"number\":n.push(isFinite(e)&&!isNaN(e)?String(e):\"null\");break;case\"boolean\":n.push(String(e));break;case\"function\":n.push(\"null\");break;default:throw Error(\"Unknown type: \"+typeof e)}}}e=cr.prototype,e.add=function(t,e){hr(this),this.c=null,t=gr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){hr(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){hr(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.V=function(t){hr(this);var e=[];if(\"string\"===typeof t)pr(this,t)&&(e=tt(e,this.a.get(gr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=tt(e,t[n])}return e},e.set=function(t,e){return hr(this),this.c=null,t=gr(this,t),pr(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t?(t=this.V(t),0<t.length?String(t[0]):e):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;\"\"!==r[o]&&(s+=\"=\"+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join(\"&\")};var _r={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\v\":\"\\\\u000b\"},Er=/\\uffff/.test(\"\")?/[\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;function Ir(t,e){e.push('\"',t.replace(Er,(function(t){var e=_r[t];return e||(e=\"\\\\u\"+(65536|t.charCodeAt(0)).toString(16).substr(1),_r[t]=e),e})),'\"')}function Tr(){var t=Qr();return Zt&&!!ue&&11==ue||/Edge\\/\\d+/.test(t)}function Cr(){return h.window&&h.window.location.href||self&&self.location&&self.location.href||\"\"}function Sr(t,e){e=e||h.window;var n=\"about:blank\";t&&(n=Lt(Ft(t))),e.location.href=n}function Nr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):\"object\"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Nr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function kr(){var t=Qr();return t=Gr(t)!=zr?null:(t=t.match(/\\sChrome\\/(\\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!Zt||!ue||9<ue)}function Ar(t){return t=(t||Qr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Or(t){t=t||h.window;try{t.close()}catch(e){}}function Rr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Qr().toLowerCase(),r&&(e.target=r,lt(n,\"crios/\")&&(e.target=\"_blank\")),Gr(Qr())==Wr&&(t=t||\"http://localhost\",e.scrollbars=!0),n=t||\"\",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Ft(\"undefined\"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case\"width\":case\"height\":case\"top\":case\"left\":i.push(s+\"=\"+t[s]);break;case\"target\":case\"noopener\":case\"noreferrer\":break;default:i.push(s+\"=\"+(t[s]?1:0))}var s=i.join(\",\");if((vt(\"iPhone\")&&!vt(\"iPod\")&&!vt(\"iPad\")||vt(\"iPad\")||vt(\"iPod\"))&&r.navigator&&r.navigator.standalone&&n&&\"_self\"!=n?(s=we(document,\"A\"),_t(s,\"HTMLAnchorElement\"),e instanceof Dt||e instanceof Dt||(e=\"object\"==typeof e&&e.ra?e.qa():String(e),Mt.test(e)||(e=\"about:invalid#zClosurez\"),e=new Dt(jt,e)),s.href=Lt(e),s.setAttribute(\"target\",n),t.noreferrer&&s.setAttribute(\"rel\",\"noreferrer\"),t=document.createEvent(\"MouseEvent\"),t.initMouseEvent(\"click\",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open(\"\",n,s),t=Lt(e),s&&(ee&&lt(t,\";\")&&(t=\"'\"+t.replace(/'/g,\"%27\")+\"'\"),s.opener=null,t=Wt('<meta name=\"referrer\" content=\"no-referrer\"><meta http-equiv=\"refresh\" content=\"0; url='+Qt(t)+'\">'),r=s.document)&&(r.write(qt(t)),r.close())):(s=r.open(Lt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}function Pr(t){return new ke((function(e){function n(){Un(2e3).then((function(){if(t&&!t.closed)return n();e()}))}return n()}))}var xr=/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/,Dr=/^[^@]+@[^@]+$/;function Lr(){var t=null;return new ke((function(e){\"complete\"==h.document.readyState?e():(t=function(){e()},In(window,\"load\",t))})).o((function(e){throw Tn(window,\"load\",t),e}))}function Mr(){return Fr(void 0)?Lr().then((function(){return new ke((function(t,e){var n=h.document,r=setTimeout((function(){e(Error(\"Cordova framework is not ready.\"))}),1e3);n.addEventListener(\"deviceready\",(function(){clearTimeout(r),t()}),!1)}))})):Me(Error(\"Cordova must run in an Android or iOS file scheme.\"))}function Fr(t){return t=t||Qr(),!(\"file:\"!==Zr()&&\"ionic:\"!==Zr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ur(){var t=h.window;try{return!(!t||t==t.top)}catch(e){return!1}}function jr(){return\"undefined\"!==typeof h.WorkerGlobalScope&&\"function\"===typeof h.importScripts}function Vr(){return r.a.INTERNAL.hasOwnProperty(\"reactNative\")?\"ReactNative\":r.a.INTERNAL.hasOwnProperty(\"node\")?\"Node\":jr()?\"Worker\":\"Browser\"}function qr(){var t=Vr();return\"ReactNative\"===t||\"Node\"===t}function Br(){for(var t=50,e=[];0<t;)e.push(\"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".charAt(Math.floor(62*Math.random()))),t--;return e.join(\"\")}var Wr=\"Firefox\",zr=\"Chrome\";function Gr(t){var e=t.toLowerCase();return lt(e,\"opera/\")||lt(e,\"opr/\")||lt(e,\"opios/\")?\"Opera\":lt(e,\"iemobile\")?\"IEMobile\":lt(e,\"msie\")||lt(e,\"trident/\")?\"IE\":lt(e,\"edge/\")?\"Edge\":lt(e,\"firefox/\")?Wr:lt(e,\"silk/\")?\"Silk\":lt(e,\"blackberry\")?\"Blackberry\":lt(e,\"webos\")?\"Webos\":!lt(e,\"safari/\")||lt(e,\"chrome/\")||lt(e,\"crios/\")||lt(e,\"android\")?!lt(e,\"chrome/\")&&!lt(e,\"crios/\")||lt(e,\"edge/\")?lt(e,\"android\")?\"Android\":(t=t.match(/([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/))&&2==t.length?t[1]:\"Other\":zr:\"Safari\"}var Hr={jd:\"FirebaseCore-web\",ld:\"FirebaseUI-web\"};function Kr(t,e){e=e||[];var n,r=[],i={};for(n in Hr)i[Hr[n]]=!0;for(n=0;n<e.length;n++)\"undefined\"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=[\"FirebaseCore-web\"]),r=Vr(),\"Browser\"===r?(i=Qr(),r=Gr(i)):\"Worker\"===r&&(i=Qr(),r=Gr(i)+\"-\"+r),r+\"/JsCore/\"+t+\"/\"+e.join(\",\")}function Qr(){return h.navigator&&h.navigator.userAgent||\"\"}function Yr(t,e){t=t.split(\".\"),e=e||h;for(var n=0;n<t.length&&\"object\"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function $r(){try{var t=h.localStorage,e=ii();if(t)return t.setItem(e,\"1\"),t.removeItem(e),!Tr()||!!h.indexedDB}catch(n){return jr()&&!!h.indexedDB}return!1}function Jr(){return(Xr()||\"chrome-extension:\"===Zr()||Fr())&&!qr()&&$r()&&!jr()}function Xr(){return\"http:\"===Zr()||\"https:\"===Zr()}function Zr(){return h.location&&h.location.protocol||null}function ti(t){return t=t||Qr(),!Ar(t)&&Gr(t)!=Wr}function ei(t){return\"undefined\"===typeof t?null:yr(t)}function ni(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function ri(t){if(null!==t)return JSON.parse(t)}function ii(t){return t||Math.floor(1e9*Math.random()).toString()}function oi(t){return t=t||Qr(),\"Safari\"!=Gr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function si(){var t=h.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function ai(t,e){if(t>e)throw Error(\"Short delay should be less than long delay!\");this.a=t,this.c=e,t=Qr(),e=Vr(),this.b=Ar(t)||\"ReactNative\"===e}function ui(){var t=h.document;return!t||\"undefined\"===typeof t.visibilityState||\"visible\"==t.visibilityState}function ci(){var t=h.document,e=null;return ui()||!t?Le():new ke((function(n){e=function(){ui()&&(t.removeEventListener(\"visibilitychange\",e,!1),n())},t.addEventListener(\"visibilitychange\",e,!1)})).o((function(n){throw t.removeEventListener(\"visibilitychange\",e,!1),n}))}function hi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function li(){return!(!Yr(\"fireauth.oauthhelper\",h)&&!Yr(\"fireauth.iframe\",h))}function fi(){var t=h.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function pi(){var t=h.navigator;return t&&t.serviceWorker?Le().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Le(null)}ai.prototype.get=function(){var t=h.navigator;return!t||\"boolean\"!==typeof t.onLine||!Xr()&&\"chrome-extension:\"!==Zr()&&\"undefined\"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var di,vi={};function gi(t){vi[t]||(vi[t]=!0,\"undefined\"!==typeof console&&\"function\"===typeof console.warn&&console.warn(t))}try{var mi={};Object.defineProperty(mi,\"abcd\",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(mi,\"abcd\",{configurable:!0,enumerable:!0,value:2}),di=2==mi.abcd}catch(qp){di=!1}function yi(t,e,n){di?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function wi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&yi(t,n,e[n])}function bi(t){var e={};return wi(e,t),e}function _i(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Ei(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||\"\"===r)return!1}return!0}function Ii(t){var e=t;if(\"object\"==typeof t&&null!=t)for(var n in e=\"length\"in t?[]:{},t)yi(e,n,Ii(t[n]));return e}function Ti(t){var e=t&&(t[Ai]?\"phone\":null);if(!(e&&t&&t[ki]))throw new N(\"internal-error\",\"Internal assert: invalid MultiFactorInfo object\");yi(this,\"uid\",t[ki]),yi(this,\"displayName\",t[Si]||null);var n=null;t[Ni]&&(n=new Date(t[Ni]).toUTCString()),yi(this,\"enrollmentTime\",n),yi(this,\"factorId\",e)}function Ci(t){try{var e=new Oi(t)}catch(n){e=null}return e}Ti.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Si=\"displayName\",Ni=\"enrolledAt\",ki=\"mfaEnrollmentId\",Ai=\"phoneInfo\";function Oi(t){Ti.call(this,t),yi(this,\"phoneNumber\",t[Ai])}function Ri(t){var e={},n=t[Li],r=t[Fi],i=t[Ui];if(t=Ci(t[Mi]),!i||i!=xi&&i!=Di&&!n||i==Di&&!r||i==Pi&&!t)throw Error(\"Invalid checkActionCode response!\");i==Di?(e[Vi]=n||null,e[Bi]=n||null,e[ji]=r):(e[Vi]=r||null,e[Bi]=r||null,e[ji]=n||null),e[qi]=t||null,yi(this,zi,i),yi(this,Wi,Ii(e))}S(Oi,Ti),Oi.prototype.v=function(){var t=Oi.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var Pi=\"REVERT_SECOND_FACTOR_ADDITION\",xi=\"EMAIL_SIGNIN\",Di=\"VERIFY_AND_CHANGE_EMAIL\",Li=\"email\",Mi=\"mfaInfo\",Fi=\"newEmail\",Ui=\"requestType\",ji=\"email\",Vi=\"fromEmail\",qi=\"multiFactorInfo\",Bi=\"previousEmail\",Wi=\"data\",zi=\"operation\";function Gi(t){t=Zn(t);var e=Xn(t,Hi)||null,n=Xn(t,Ki)||null,r=Xn(t,$i)||null;if(r=r&&Xi[r]||null,!e||!n||!r)throw new N(\"argument-error\",Hi+\", \"+Ki+\"and \"+$i+\" are required in a valid action code URL.\");wi(this,{apiKey:e,operation:r,code:n,continueUrl:Xn(t,Qi)||null,languageCode:Xn(t,Yi)||null,tenantId:Xn(t,Ji)||null})}var Hi=\"apiKey\",Ki=\"oobCode\",Qi=\"continueUrl\",Yi=\"languageCode\",$i=\"mode\",Ji=\"tenantId\",Xi={recoverEmail:\"RECOVER_EMAIL\",resetPassword:\"PASSWORD_RESET\",revertSecondFactorAddition:Pi,signIn:xi,verifyAndChangeEmail:Di,verifyEmail:\"VERIFY_EMAIL\"};function Zi(t){try{return new Gi(t)}catch(e){return null}}function to(t){var e=t[oo];if(\"undefined\"===typeof e)throw new N(\"missing-continue-uri\");if(\"string\"!==typeof e||\"string\"===typeof e&&!e.length)throw new N(\"invalid-continue-uri\");this.h=e,this.b=this.a=null,this.g=!1;var n=t[eo];if(n&&\"object\"===typeof n){e=n[uo];var r=n[so];if(n=n[ao],\"string\"===typeof e&&e.length){if(this.a=e,\"undefined\"!==typeof r&&\"boolean\"!==typeof r)throw new N(\"argument-error\",so+\" property must be a boolean when specified.\");if(this.g=!!r,\"undefined\"!==typeof n&&(\"string\"!==typeof n||\"string\"===typeof n&&!n.length))throw new N(\"argument-error\",ao+\" property must be a non empty string when specified.\");this.b=n||null}else{if(\"undefined\"!==typeof e)throw new N(\"argument-error\",uo+\" property must be a non empty string when specified.\");if(\"undefined\"!==typeof r||\"undefined\"!==typeof n)throw new N(\"missing-android-pkg-name\")}}else if(\"undefined\"!==typeof n)throw new N(\"argument-error\",eo+\" property must be a non null object when specified.\");if(this.f=null,(e=t[io])&&\"object\"===typeof e){if(e=e[co],\"string\"===typeof e&&e.length)this.f=e;else if(\"undefined\"!==typeof e)throw new N(\"argument-error\",co+\" property must be a non empty string when specified.\")}else if(\"undefined\"!==typeof e)throw new N(\"argument-error\",io+\" property must be a non null object when specified.\");if(e=t[ro],\"undefined\"!==typeof e&&\"boolean\"!==typeof e)throw new N(\"argument-error\",ro+\" property must be a boolean when specified.\");if(this.c=!!e,t=t[no],\"undefined\"!==typeof t&&(\"string\"!==typeof t||\"string\"===typeof t&&!t.length))throw new N(\"argument-error\",no+\" property must be a non empty string when specified.\");this.i=t||null}var eo=\"android\",no=\"dynamicLinkDomain\",ro=\"handleCodeInApp\",io=\"iOS\",oo=\"url\",so=\"installApp\",ao=\"minimumVersion\",uo=\"packageName\",co=\"bundleId\";function ho(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function lo(t){return Q(t,(function(t){return t=t.toString(16),1<t.length?t:\"0\"+t})).join(\"\")}var fo=null;function po(t){var e=\"\";return vo(t,(function(t){e+=String.fromCharCode(t)})),e}function vo(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=fo[n];if(null!=i)return i;if(!/^[\\s\\xa0]*$/.test(n))throw Error(\"Unknown base64 encoding at char: \"+n)}return e}go();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}function go(){if(!fo){fo={};for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split(\"\"),e=[\"+/=\",\"+/\",\"-_=\",\"-_.\",\"-_\"],n=0;5>n;n++)for(var r=t.concat(e[n].split(\"\")),i=0;i<r.length;i++){var o=r[i];void 0===fo[o]&&(fo[o]=i)}}}function mo(t){var e=wo(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error(\"Invalid JWT\");this.g=t,this.c=e.exp,this.h=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||\"anonymous\"==this.a}function yo(t){try{return new mo(t)}catch(e){return null}}function wo(t){if(!t)return null;if(t=t.split(\".\"),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=\".\";try{return JSON.parse(po(t))}catch(r){}return null}mo.prototype.S=function(){return this.f},mo.prototype.i=function(){return this.b},mo.prototype.toString=function(){return this.g};var bo=\"oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version\".split(\" \"),_o=[\"client_id\",\"response_type\",\"scope\",\"redirect_uri\",\"state\"],Eo={kd:{Ha:\"locale\",ta:700,sa:600,ea:\"facebook.com\",Va:_o},md:{Ha:null,ta:500,sa:750,ea:\"github.com\",Va:_o},nd:{Ha:\"hl\",ta:515,sa:680,ea:\"google.com\",Va:_o},td:{Ha:\"lang\",ta:485,sa:705,ea:\"twitter.com\",Va:bo},gd:{Ha:\"locale\",ta:600,sa:600,ea:\"apple.com\",Va:[]}};function Io(t){for(var e in Eo)if(Eo[e].ea==t)return Eo[e];return null}function To(t){var e={};e[\"facebook.com\"]=Ao,e[\"google.com\"]=Ro,e[\"github.com\"]=Oo,e[\"twitter.com\"]=Po;var n=t&&t[So];try{if(n)return e[n]?new e[n](t):new ko(t);if(\"undefined\"!==typeof t[Co])return new No(t)}catch(r){}return null}var Co=\"idToken\",So=\"providerId\";function No(t){var e=t[So];if(!e&&t[Co]){var n=yo(t[Co]);n&&n.a&&(e=n.a)}if(!e)throw Error(\"Invalid additional user info!\");\"anonymous\"!=e&&\"custom\"!=e||(e=null),n=!1,\"undefined\"!==typeof t.isNewUser?n=!!t.isNewUser:\"identitytoolkit#SignupNewUserResponse\"===t.kind&&(n=!0),yi(this,\"providerId\",e),yi(this,\"isNewUser\",n)}function ko(t){No.call(this,t),t=ri(t.rawUserInfo||\"{}\"),yi(this,\"profile\",Ii(t||{}))}function Ao(t){if(ko.call(this,t),\"facebook.com\"!=this.providerId)throw Error(\"Invalid provider ID!\")}function Oo(t){if(ko.call(this,t),\"github.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");yi(this,\"username\",this.profile&&this.profile.login||null)}function Ro(t){if(ko.call(this,t),\"google.com\"!=this.providerId)throw Error(\"Invalid provider ID!\")}function Po(t){if(ko.call(this,t),\"twitter.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");yi(this,\"username\",t.screenName||null)}function xo(t){var e=Zn(t),n=Xn(e,\"link\"),r=Xn(Zn(n),\"link\");return e=Xn(e,\"deep_link_id\"),Xn(Zn(e),\"link\")||e||r||n||t}function Do(t,e){if(!t&&!e)throw new N(\"internal-error\",\"Internal assert: no raw session string available\");if(t&&e)throw new N(\"internal-error\",\"Internal assert: unable to determine the session type\");this.a=t||null,this.b=e||null,this.type=this.a?Lo:Mo}S(ko,No),S(Ao,ko),S(Oo,ko),S(Ro,ko),S(Po,ko);var Lo=\"enroll\",Mo=\"signin\";function Fo(){}function Uo(t,e){return t.then((function(t){if(t[Ra]){var n=yo(t[Ra]);if(!n||e!=n.h)throw new N(\"user-mismatch\");return t}throw new N(\"user-mismatch\")})).o((function(t){throw t&&t.code&&t.code==O+\"user-not-found\"?new N(\"user-mismatch\"):t}))}function jo(t,e){if(!e)throw new N(\"internal-error\",\"failed to construct a credential\");this.a=e,yi(this,\"providerId\",t),yi(this,\"signInMethod\",t)}function Vo(t){return{pendingToken:t.a,requestUri:\"http://localhost\"}}function qo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf(\"saml.\")&&t.pendingToken)try{return new jo(t.providerId,t.pendingToken)}catch(e){}return null}function Bo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&yi(this,\"idToken\",e.idToken),e.accessToken&&yi(this,\"accessToken\",e.accessToken),e.nonce&&!e.pendingToken&&yi(this,\"nonce\",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new N(\"internal-error\",\"failed to construct a credential\");yi(this,\"accessToken\",e.oauthToken),yi(this,\"secret\",e.oauthTokenSecret)}yi(this,\"providerId\",t),yi(this,\"signInMethod\",n)}function Wo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:lr(e).toString(),requestUri:\"http://localhost\"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function zo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Bo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Go(t,e){this.Oc=e||[],wi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Io(t)||{}).Ha||null,this.kb=null}function Ho(t){if(\"string\"!==typeof t||0!=t.indexOf(\"saml.\"))throw new N(\"argument-error\",'SAML provider IDs must be prefixed with \"saml.\"');Go.call(this,t,[])}function Ko(t){Go.call(this,t,_o),this.a=[]}function Qo(){Ko.call(this,\"facebook.com\")}function Yo(t){if(!t)throw new N(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");var e=t;return m(t)&&(e=t.accessToken),(new Qo).credential({accessToken:e})}function $o(){Ko.call(this,\"github.com\")}function Jo(t){if(!t)throw new N(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");var e=t;return m(t)&&(e=t.accessToken),(new $o).credential({accessToken:e})}function Xo(){Ko.call(this,\"google.com\"),this.Aa(\"profile\")}function Zo(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new Xo).credential({idToken:n,accessToken:e})}function ts(){Go.call(this,\"twitter.com\",bo)}function es(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new N(\"argument-error\",\"credential failed: expected 2 arguments (the OAuth access token and secret).\");return new Bo(\"twitter.com\",n,\"twitter.com\")}function ns(t,e,n){this.a=t,this.f=e,yi(this,\"providerId\",\"password\"),yi(this,\"signInMethod\",n===is.EMAIL_LINK_SIGN_IN_METHOD?is.EMAIL_LINK_SIGN_IN_METHOD:is.EMAIL_PASSWORD_SIGN_IN_METHOD)}function rs(t){return t&&t.email&&t.password?new ns(t.email,t.password,t.signInMethod):null}function is(){wi(this,{providerId:\"password\",isOAuthProvider:!1})}function os(t,e){if(e=ss(e),!e)throw new N(\"argument-error\",\"Invalid email link!\");return new ns(t,e.code,is.EMAIL_LINK_SIGN_IN_METHOD)}function ss(t){return t=xo(t),(t=Zi(t))&&t.operation===xi?t:null}function as(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new N(\"internal-error\");this.a=t,yi(this,\"providerId\",\"phone\"),this.ea=\"phone\",yi(this,\"signInMethod\",\"phone\")}function us(t){if(t&&\"phone\"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G([\"verificationId\",\"verificationCode\",\"temporaryProof\",\"phoneNumber\"],(function(n){t[n]&&(e[n]=t[n])})),new as(e)}return null}function cs(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function hs(t){try{this.a=t||r.a.auth()}catch(e){throw new N(\"argument-error\",\"Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().\")}wi(this,{providerId:\"phone\",isOAuthProvider:!1})}function ls(t,e){if(!t)throw new N(\"missing-verification-id\");if(!e)throw new N(\"missing-verification-code\");return new as({bb:t,ab:e})}function fs(t){if(t.temporaryProof&&t.phoneNumber)return new as({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||\"password\"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case\"google.com\":return Zo(o,n);case\"facebook.com\":return Yo(n);case\"github.com\":return Jo(n);case\"twitter.com\":return es(n,r);default:return n||r||o||s?s?0==e.indexOf(\"saml.\")?new jo(e,s):new Bo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ko(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function ps(t){if(!t.isOAuthProvider)throw new N(\"invalid-oauth-provider\")}function ds(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new N(\"invalid-auth-event\");if(this.g&&this.a)throw new N(\"invalid-auth-event\");if(this.g&&!this.f)throw new N(\"invalid-auth-event\")}function vs(t){return t=t||{},t.type?new ds(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function gs(){this.b=null,this.a=[]}Do.prototype.Fa=function(){return this.a?Le(this.a):Le(this.b)},Do.prototype.v=function(){return this.type==Lo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Fo.prototype.ia=function(){},Fo.prototype.b=function(){},Fo.prototype.c=function(){},Fo.prototype.v=function(){},jo.prototype.ia=function(t){return ou(t,Vo(this))},jo.prototype.b=function(t,e){var n=Vo(this);return n.idToken=e,su(t,n)},jo.prototype.c=function(t,e){return Uo(au(t,Vo(this)),e)},jo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Bo.prototype.ia=function(t){return ou(t,Wo(this))},Bo.prototype.b=function(t,e){var n=Wo(this);return n.idToken=e,su(t,n)},Bo.prototype.c=function(t,e){var n=Wo(this);return Uo(au(t,n),e)},Bo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Go.prototype.Ia=function(t){return this.Fb=yt(t),this},S(Ho,Go),S(Ko,Go),Ko.prototype.Aa=function(t){return J(this.a,t)||this.a.push(t),this},Ko.prototype.Nb=function(){return et(this.a)},Ko.prototype.credential=function(t,e){var n;if(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new N(\"argument-error\",\"credential failed: must provide the ID token and/or the access token.\");return new Bo(this.providerId,n,this.providerId)},S(Qo,Ko),yi(Qo,\"PROVIDER_ID\",\"facebook.com\"),yi(Qo,\"FACEBOOK_SIGN_IN_METHOD\",\"facebook.com\"),S($o,Ko),yi($o,\"PROVIDER_ID\",\"github.com\"),yi($o,\"GITHUB_SIGN_IN_METHOD\",\"github.com\"),S(Xo,Ko),yi(Xo,\"PROVIDER_ID\",\"google.com\"),yi(Xo,\"GOOGLE_SIGN_IN_METHOD\",\"google.com\"),S(ts,Go),yi(ts,\"PROVIDER_ID\",\"twitter.com\"),yi(ts,\"TWITTER_SIGN_IN_METHOD\",\"twitter.com\"),ns.prototype.ia=function(t){return this.signInMethod==is.EMAIL_LINK_SIGN_IN_METHOD?Bu(t,vu,{email:this.a,oobCode:this.f}):Bu(t,Fu,{email:this.a,password:this.f})},ns.prototype.b=function(t,e){return this.signInMethod==is.EMAIL_LINK_SIGN_IN_METHOD?Bu(t,gu,{idToken:e,email:this.a,oobCode:this.f}):Bu(t,Au,{idToken:e,email:this.a,password:this.f})},ns.prototype.c=function(t,e){return Uo(this.ia(t),e)},ns.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},wi(is,{PROVIDER_ID:\"password\"}),wi(is,{EMAIL_LINK_SIGN_IN_METHOD:\"emailLink\"}),wi(is,{EMAIL_PASSWORD_SIGN_IN_METHOD:\"password\"}),as.prototype.ia=function(t){return t.cb(cs(this))},as.prototype.b=function(t,e){var n=cs(this);return n.idToken=e,Bu(t,ju,n)},as.prototype.c=function(t,e){var n=cs(this);return n.operation=\"REAUTH\",t=Bu(t,Vu,n),Uo(t,e)},as.prototype.v=function(){var t={providerId:\"phone\"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},hs.prototype.cb=function(t,e){var n=this.a.b;return Le(e.verify()).then((function(r){if(\"string\"!==typeof r)throw new N(\"argument-error\",\"An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.\");switch(e.type){case\"recaptcha\":var i,o=m(t)?t.session:null,s=m(t)?t.phoneNumber:t;return i=o&&o.type==Lo?o.Fa().then((function(t){return Xa(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r}})})):o&&o.type==Mo?o.Fa().then((function(e){return tu(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):Ja(n,{phoneNumber:s,recaptchaToken:r}),i.then((function(t){return\"function\"===typeof e.reset&&e.reset(),t}),(function(t){throw\"function\"===typeof e.reset&&e.reset(),t}));default:throw new N(\"argument-error\",'Only firebase.auth.ApplicationVerifiers with type=\"recaptcha\" are currently supported.')}}))},wi(hs,{PROVIDER_ID:\"phone\"}),wi(hs,{PHONE_SIGN_IN_METHOD:\"phone\"}),ds.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join(\"-\")},ds.prototype.S=function(){return this.h},ds.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var ms,ys=null;function ws(t){var e=ys;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=Yr(\"universalLinks.subscribe\",h),\"function\"===typeof t&&t(null,e.b))}function bs(t){var e=\"unauthorized-domain\",n=void 0,r=Zn(t);t=r.b,r=r.f,\"chrome-extension\"==r?n=Kt(\"This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",t):\"http\"==r||\"https\"==r?n=Kt(\"This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",t):e=\"operation-not-supported-in-this-environment\",N.call(this,e,n)}function _s(t,e,n){N.call(this,t,n),t=e||{},t.Gb&&yi(this,\"email\",t.Gb),t.da&&yi(this,\"phoneNumber\",t.da),t.credential&&yi(this,\"credential\",t.credential),t.Wb&&yi(this,\"tenantId\",t.Wb)}function Es(t){if(t.code){var e=t.code||\"\";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:fs(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new N(e,t.message||void 0);return new _s(e,n,t.message)}return null}function Is(){}function Ts(t){return t.c||(t.c=t.b())}function Cs(){}function Ss(t){if(!t.f&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var e=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\")}return t.f}function Ns(){}function ks(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response=\"\",this.status=-1,this.statusText=\"\",this.a.onload=I(this.oc,this),this.a.onerror=I(this.Pb,this),this.a.onprogress=I(this.pc,this),this.a.ontimeout=I(this.tc,this)}function As(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Os(t,e,n){this.reset(t,e,n,void 0,void 0)}S(bs,N),S(_s,N),_s.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&bt(t,e),t},_s.prototype.toJSON=function(){return this.v()},Is.prototype.c=null,S(Cs,Is),Cs.prototype.a=function(){var t=Ss(this);return t?new ActiveXObject(t):new XMLHttpRequest},Cs.prototype.b=function(){var t={};return Ss(this)&&(t[0]=!0,t[1]=!0),t},ms=new Cs,S(Ns,Is),Ns.prototype.a=function(){var t=new XMLHttpRequest;if(\"withCredentials\"in t)return t;if(\"undefined\"!=typeof XDomainRequest)return new ks;throw Error(\"Unsupported browser\")},Ns.prototype.b=function(){return{}},e=ks.prototype,e.open=function(t,e,n){if(null!=n&&!n)throw Error(\"Only async requests are supported.\");this.a.open(t,e)},e.send=function(t){if(t){if(\"string\"!=typeof t)throw Error(\"Only string data is supported\");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return\"content-type\"==t.toLowerCase()?this.a.contentType:\"\"},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,As(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText=\"\",As(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,As(this,1)},e.getAllResponseHeaders=function(){return\"content-type: \"+this.a.contentType},Os.prototype.a=null;function Rs(t){this.f=t,this.b=this.c=this.a=null}function Ps(t,e){this.name=t,this.value=e}Os.prototype.reset=function(t,e,n,r,i){\"number\"==typeof i||0,r||C(),delete this.a},Ps.prototype.toString=function(){return this.name};var xs=new Ps(\"SEVERE\",1e3),Ds=new Ps(\"WARNING\",900),Ls=new Ps(\"CONFIG\",700),Ms=new Ps(\"FINE\",500);function Fs(t){return t.c?t.c:t.a?Fs(t.a):(F(\"Root logger has no level set.\"),null)}Rs.prototype.log=function(t,e,n){if(t.value>=Fs(this).value)for(g(e)&&(e=e()),t=new Os(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Us={},js=null;function Vs(t){var e;if(js||(js=new Rs(\"\"),Us[\"\"]=js,js.c=Ls),!(e=Us[t])){e=new Rs(t);var n=t.lastIndexOf(\".\"),r=t.substr(n+1);n=Vs(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,Us[t]=e}return e}function qs(t,e){t&&t.log(Ms,e,void 0)}function Bs(t){this.f=t}function Ws(t){xn.call(this),this.s=t,this.readyState=zs,this.status=0,this.responseType=this.responseText=this.response=this.statusText=\"\",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m=\"GET\",this.g=\"\",this.a=!1,this.h=Vs(\"goog.net.FetchXmlHttp\"),this.l=this.c=this.f=null}S(Bs,Is),Bs.prototype.a=function(){return new Ws(this.f)},Bs.prototype.b=function(t){return function(){return t}}({}),S(Ws,xn);var zs=0;function Gs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function Hs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Ks(t)}function Ks(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Qs(t){xn.call(this),this.headers=new Bn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l=\"\",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=Ys,this.w=this.R=!1}e=Ws.prototype,e.open=function(t,e){if(this.readyState!=zs)throw this.abort(),Error(\"Error reopening a connection\");this.m=t,this.g=e,this.readyState=1,Ks(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error(\"need to call open() first. \");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText=\"\",this.i=new Headers,this.status=0,this.c&&this.c.cancel(\"Request was aborted.\"),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Hs(this,!1)),this.readyState=zs},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Ks(this)),this.a&&(this.readyState=3,Ks(this),this.a&&(\"arraybuffer\"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):\"undefined\"!==typeof h.ReadableStream&&\"body\"in t?(this.response=this.responseText=\"\",this.c=t.body.getReader(),this.l=new TextDecoder,Gs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Hs(this,!0):Ks(this),3==this.readyState&&Gs(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,Hs(this,!0))},e.qc=function(t){this.a&&(this.response=t,Hs(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(Ds,\"Failed to fetch url \"+this.g,t instanceof Error?t:Error(t)),this.a&&Hs(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||\"\":((t=this.h)&&t.log(Ds,\"Attempting to get response header but no headers have been received for url: \"+this.g,void 0),\"\")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Ds,\"Attempting to get all response headers but no headers have been received for url: \"+this.g,void 0),\"\"}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+\": \"+n[1]),n=e.next();return t.join(\"\\r\\n\")},S(Qs,xn);var Ys=\"\";Qs.prototype.b=Vs(\"goog.net.XhrIo\");var $s=/^https?$/i,Js=[\"POST\",\"PUT\"];function Xs(t,e,n,r,i){if(t.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+t.l+\"; newUri=\"+e);n=n?n.toUpperCase():\"GET\",t.l=e,t.h=\"\",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():ms.a(),t.B=t.D?Ts(t.D):Ts(ms),t.a.onreadystatechange=I(t.Sb,t);try{qs(t.b,ca(t,\"Opening Xhr\")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return qs(t.b,ca(t,\"Error opening Xhr: \"+s.message)),void ea(t,s)}e=r||\"\";var o=new Bn(t.headers);i&&qn(i,(function(t,e){o.set(e,t)})),i=$(o.X()),r=h.FormData&&e instanceof h.FormData,!J(Js,n)||i||r||o.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),\"withCredentials\"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{oa(t),0<t.g&&(t.w=Zs(t.a),qs(t.b,ca(t,\"Will abort after \"+t.g+\"ms if incomplete, xhr2 \"+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ka,t)):t.s=Fn(t.Ka,t.g,t)),qs(t.b,ca(t,\"Sending request\")),t.i=!0,t.a.send(e),t.i=!1}catch(s){qs(t.b,ca(t,\"Send error: \"+s.message)),ea(t,s)}}function Zs(t){return Zt&&he(9)&&\"number\"===typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return\"content-type\"==t.toLowerCase()}function ea(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,na(t),ia(t)}function na(t){t.N||(t.N=!0,t.dispatchEvent(\"complete\"),t.dispatchEvent(\"error\"))}function ra(t){if(t.c&&\"undefined\"!=typeof c)if(t.B[1]&&4==sa(t)&&2==aa(t))qs(t.b,ca(t,\"Local request error detected and ignored\"));else if(t.i&&4==sa(t))Fn(t.Sb,0,t);else if(t.dispatchEvent(\"readystatechange\"),4==sa(t)){qs(t.b,ca(t,\"Request complete\")),t.c=!1;try{var e,n=aa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Gn)[1]||null;if(!o&&h.self&&h.self.location){var s=h.self.location.protocol;o=s.substr(0,s.length-1)}i=!$s.test(o?o.toLowerCase():\"\")}e=i}if(e)t.dispatchEvent(\"complete\"),t.dispatchEvent(\"success\");else{try{var a=2<sa(t)?t.a.statusText:\"\"}catch(u){qs(t.b,\"Can not get status: \"+u.message),a=\"\"}t.h=a+\" [\"+aa(t)+\"]\",na(t)}}finally{ia(t)}}}function ia(t,e){if(t.a){oa(t);var n=t.a,r=t.B[0]?p:null;t.a=null,t.B=null,e||t.dispatchEvent(\"ready\");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(xs,\"Problem encountered resetting onreadystatechange: \"+i.message,void 0)}}}function oa(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(h.clearTimeout(t.s),t.s=null)}function sa(t){return t.a?t.a.readyState:0}function aa(t){try{return 2<sa(t)?t.a.status:-1}catch(e){return-1}}function ua(t){try{return t.a?t.a.responseText:\"\"}catch(e){return qs(t.b,\"Can not get responseText: \"+e.message),\"\"}}function ca(t,e){return e+\" [\"+t.P+\" \"+t.l+\" \"+aa(t)+\"]\"}function ha(t){var e=Ia;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function la(t,e,n){t.a=!0,t.c=n,t.f=!e,ga(t)}function fa(t){if(t.a){if(!t.u)throw new ma(t);t.u=!1}}function pa(t,e){da(t,null,e,void 0)}function da(t,e,n,r){t.g.push([e,n,r]),t.a&&ga(t)}function va(t){return Y(t.g,(function(t){return g(t[1])}))}function ga(t){if(t.h&&t.a&&va(t)){var e=t.h,n=ba[e];n&&(h.clearTimeout(n.a),delete ba[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(D(e)||\"function\"===typeof h.Promise&&e instanceof h.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,va(t)||(n=!0)}}t.c=e,r&&(a=I(t.m,t,!0),r=I(t.m,t,!1),e instanceof ha?(da(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new wa(e),ba[e.a]=e,t.h=e.a)}function ma(){L.call(this)}function ya(){L.call(this)}function wa(t){this.a=h.setTimeout(I(this.c,this),0),this.b=t}e=Qs.prototype,e.Ka=function(){\"undefined\"!=typeof c&&this.a&&(this.h=\"Timed out after \"+this.g+\"ms, aborting\",qs(this.b,ca(this,this.h)),this.dispatchEvent(\"timeout\"),this.abort(8))},e.abort=function(){this.a&&this.c&&(qs(this.b,ca(this,\"Aborting\")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),ia(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ia(this,!0)),Qs.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?ra(this):this.Hc())},e.Hc=function(){ra(this)},e.getResponse=function(){try{if(!this.a)return null;if(\"response\"in this.a)return this.a.response;switch(this.m){case Ys:case\"text\":return this.a.responseText;case\"arraybuffer\":if(\"mozResponseArrayBuffer\"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(xs,\"Response type \"+this.m+\" is not supported on this browser\",void 0),null}catch(e){return qs(this.b,\"Can not get response: \"+e.message),null}},ha.prototype.cancel=function(t){if(this.a)this.c instanceof ha&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new ya(this),fa(this),la(this,!1,t))}},ha.prototype.m=function(t,e){this.i=!1,la(this,t,e)},ha.prototype.then=function(t,e,n){var r,i,o=new ke((function(t,e){r=t,i=e}));return da(this,r,(function(t){t instanceof ya?o.cancel():i(t)})),o.then(t,e,n)},ha.prototype.$goog_Thenable=!0,S(ma,L),ma.prototype.message=\"Deferred has already fired\",ma.prototype.name=\"AlreadyCalledError\",S(ya,L),ya.prototype.message=\"Deferred was canceled\",ya.prototype.name=\"CanceledError\",wa.prototype.c=function(){throw delete ba[this.a],this.b};var ba={};function _a(t){var e={},n=e.document||document,r=kt(t).toString(),i=we(document,\"SCRIPT\"),o={Tb:i,Ka:void 0},s=new ha(o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout((function(){Ta(i,!0);var t=new Na(Sa,\"Timeout reached for loading script \"+r);fa(s),la(s,!1,t)}),u),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&\"loaded\"!=i.readyState&&\"complete\"!=i.readyState||(Ta(i,e.ud||!1,a),fa(s),la(s,!0,null))},i.onerror=function(){Ta(i,!0,a);var t=new Na(Ca,\"Error while loading script \"+r);fa(s),la(s,!1,t)},o=e.attributes||{},bt(o,{type:\"text/javascript\",charset:\"UTF-8\"}),pe(i,o),Ht(i,t),Ea(n).appendChild(i),s}function Ea(t){var e;return(e=(t||document).getElementsByTagName(\"HEAD\"))&&0!=e.length?e[0]:t.documentElement}function Ia(){if(this&&this.Tb){var t=this.Tb;t&&\"SCRIPT\"==t.tagName&&Ta(t,!0,this.Ka)}}function Ta(t,e,n){null!=n&&h.clearTimeout(n),t.onload=p,t.onerror=p,t.onreadystatechange=p,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ca=0,Sa=1;function Na(t,e){var n=\"Jsloader error (code #\"+t+\")\";e&&(n+=\": \"+e),L.call(this,n),this.code=t}function ka(t){this.f=t}function Aa(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||\"https://securetoken.googleapis.com/v1/token\",this.m=t.secureTokenTimeout||Pa,this.g=yt(t.secureTokenHeaders||xa),this.h=t.firebaseEndpoint||\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\",this.l=t.identityPlatformEndpoint||\"https://identitytoolkit.googleapis.com/v2/\",this.i=t.firebaseTimeout||Da,this.a=yt(t.firebaseHeaders||La),n&&(this.a[\"X-Client-Version\"]=n,this.g[\"X-Client-Version\"]=n),n=\"Node\"==Vr(),n=h.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest,!n&&!jr())throw new N(\"internal-error\",\"The XMLHttpRequest compatibility library was not found.\");this.f=void 0,jr()?this.f=new Bs(self):qr()?this.f=new ka(n):this.f=new Ns,this.b=null}S(Na,L),S(ka,Is),ka.prototype.a=function(){return new this.f},ka.prototype.b=function(){return{}};var Oa,Ra=\"idToken\",Pa=new ai(3e4,6e4),xa={\"Content-Type\":\"application/x-www-form-urlencoded\"},Da=new ai(3e4,6e4),La={\"Content-Type\":\"application/json\"};function Ma(t,e){e?t.a[\"X-Firebase-Locale\"]=e:delete t.a[\"X-Firebase-Locale\"]}function Fa(t,e){e?(t.a[\"X-Client-Version\"]=e,t.g[\"X-Client-Version\"]=e):(delete t.a[\"X-Client-Version\"],delete t.g[\"X-Client-Version\"])}function Ua(t,e,n,r,i,o,s){kr()||jr()?t=I(t.w,t):(Oa||(Oa=new ke((function(t,e){qa(t,e)}))),t=I(t.s,t)),t(e,n,r,i,o,s)}Aa.prototype.S=function(){return this.b},Aa.prototype.w=function(t,e,n,r,i,o){if(jr()&&(\"undefined\"===typeof h.fetch||\"undefined\"===typeof h.Headers||\"undefined\"===typeof h.Request))throw new N(\"operation-not-supported-in-this-environment\",\"fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.\");var s=new Qs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent(\"timeout\")}),o)}Dn(s,\"complete\",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(ua(this))||null}catch(n){t=null}e&&e(t)})),Ln(s,\"ready\",(function(){a&&clearTimeout(a),nn(this)})),Ln(s,\"timeout\",(function(){a&&clearTimeout(a),nn(this),e&&e(null)})),Xs(s,t,n,r,i)};var ja=new Et(Ct,\"https://apis.google.com/js/client.js?onload=%{onload}\"),Va=\"__fcb\"+Math.floor(1e6*Math.random()).toString();function qa(t,e){if(((window.gapi||{}).client||{}).request)t();else{h[Va]=function(){((window.gapi||{}).client||{}).request?t():e(Error(\"CORS_UNSUPPORTED\"))};var n=At(ja,{onload:Va});pa(_a(n),(function(){e(Error(\"CORS_UNSUPPORTED\"))}))}}function Ba(t,e){return new ke((function(n,r){\"refresh_token\"==e.grant_type&&e.refresh_token||\"authorization_code\"==e.grant_type&&e.code?Ua(t,t.u+\"?key=\"+encodeURIComponent(t.c),(function(t){t?t.error?r(zu(t)):t.access_token&&t.refresh_token?n(t):r(new N(\"internal-error\")):r(new N(\"network-request-failed\"))}),\"POST\",lr(e).toString(),t.g,t.m.get()):r(new N(\"internal-error\"))}))}function Wa(t,e,n,r,i,o,s){var a=Zn(e+n);Jn(a,\"key\",t.c),s&&Jn(a,\"cb\",C().toString());var u=\"GET\"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Jn(a,c,i[c]);return new ke((function(e,n){Ua(t,a.toString(),(function(t){t?t.error?n(zu(t,o||{})):e(t):n(new N(\"network-request-failed\"))}),r,u?void 0:yr(ni(i)),t.a,t.i.get())}))}function za(t){if(t=t.email,\"string\"!==typeof t||!Dr.test(t))throw new N(\"invalid-email\")}function Ga(t){\"email\"in t&&za(t)}function Ha(t,e){return Bu(t,fu,{identifier:e,continueUri:Xr()?Cr():\"http://localhost\"}).then((function(t){return t.signinMethods||[]}))}function Ka(t){return Bu(t,Tu,{}).then((function(t){return t.authorizedDomains||[]}))}function Qa(t){if(!t[Ra]){if(t.mfaPendingCredential)throw new N(\"multi-factor-auth-required\",null,yt(t));throw new N(\"internal-error\")}}function Ya(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new N(\"internal-error\")}else{if(!t.sessionInfo)throw new N(\"missing-verification-id\");if(!t.code)throw new N(\"missing-verification-code\")}}Aa.prototype.s=function(t,e,n,r,i){var o=this;Oa.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:\"none\",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||\"CORS_UNSUPPORTED\"}})}))},Aa.prototype.vb=function(){return Bu(this,Ou,{})},Aa.prototype.xb=function(t,e){return Bu(this,ku,{idToken:t,email:e})},Aa.prototype.yb=function(t,e){return Bu(this,Au,{idToken:t,password:e})};var $a={displayName:\"DISPLAY_NAME\",photoUrl:\"PHOTO_URL\"};function Ja(t,e){return Bu(t,Nu,e)}function Xa(t,e){return Bu(t,Ru,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}function Za(t){if(!t.phoneVerificationInfo)throw new N(\"internal-error\");if(!t.phoneVerificationInfo.sessionInfo)throw new N(\"missing-verification-id\");if(!t.phoneVerificationInfo.code)throw new N(\"missing-verification-code\")}function tu(t,e){return Bu(t,Pu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}function eu(t,e,n){return Bu(t,du,{idToken:e,deleteProvider:n})}function nu(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new N(\"internal-error\")}function ru(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf(\"oidc.\")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new cr(t.postBody),pr(t,\"nonce\")&&(e.nonce=t.get(\"nonce\")))),e}function iu(t){var e=null;if(t.needConfirmation?(t.code=\"account-exists-with-different-credential\",e=Es(t)):\"FEDERATED_USER_ID_ALREADY_LINKED\"==t.errorMessage?(t.code=\"credential-already-in-use\",e=Es(t)):\"EMAIL_EXISTS\"==t.errorMessage?(t.code=\"email-already-in-use\",e=Es(t)):t.errorMessage&&(e=Wu(t.errorMessage)),e)throw e;Qa(t)}function ou(t,e){return e.returnIdpCredential=!0,Bu(t,xu,e)}function su(t,e){return e.returnIdpCredential=!0,Bu(t,Lu,e)}function au(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Bu(t,Du,e)}function uu(t){if(!t.oobCode)throw new N(\"invalid-action-code\")}e=Aa.prototype,e.zb=function(t,e){var n={idToken:t},r=[];return gt($a,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Bu(this,ku,n)},e.rb=function(t,e){return t={requestType:\"PASSWORD_RESET\",email:t},bt(t,e),Bu(this,Iu,t)},e.sb=function(t,e){return t={requestType:\"EMAIL_SIGNIN\",email:t},bt(t,e),Bu(this,bu,t)},e.qb=function(t,e){return t={requestType:\"VERIFY_EMAIL\",idToken:t},bt(t,e),Bu(this,_u,t)},e.Ab=function(t,e,n){return t={requestType:\"VERIFY_AND_CHANGE_EMAIL\",idToken:t,newEmail:e},bt(t,n),Bu(this,Eu,t)},e.cb=function(t){return Bu(this,Uu,t)},e.jb=function(t,e){return Bu(this,Su,{oobCode:t,newPassword:e})},e.Pa=function(t){return Bu(this,hu,{oobCode:t})},e.fb=function(t){return Bu(this,cu,{oobCode:t})};var cu={endpoint:\"setAccountInfo\",A:uu,Y:\"email\",C:!0},hu={endpoint:\"resetPassword\",A:uu,G:function(t){var e=t.requestType;if(!e||!t.email&&\"EMAIL_SIGNIN\"!=e&&\"VERIFY_AND_CHANGE_EMAIL\"!=e)throw new N(\"internal-error\")},C:!0},lu={endpoint:\"signupNewUser\",A:function(t){if(za(t),!t.password)throw new N(\"weak-password\")},G:Qa,U:!0,C:!0},fu={endpoint:\"createAuthUri\",C:!0},pu={endpoint:\"deleteAccount\",M:[\"idToken\"]},du={endpoint:\"setAccountInfo\",M:[\"idToken\",\"deleteProvider\"],A:function(t){if(\"array\"!=d(t.deleteProvider))throw new N(\"internal-error\")}},vu={endpoint:\"emailLinkSignin\",M:[\"email\",\"oobCode\"],A:za,G:Qa,U:!0,C:!0},gu={endpoint:\"emailLinkSignin\",M:[\"idToken\",\"email\",\"oobCode\"],A:za,G:Qa,U:!0},mu={endpoint:\"accounts/mfaEnrollment:finalize\",M:[\"idToken\",\"phoneVerificationInfo\"],A:Za,G:Qa,C:!0,La:!0},yu={endpoint:\"accounts/mfaSignIn:finalize\",M:[\"mfaPendingCredential\",\"phoneVerificationInfo\"],A:Za,G:Qa,C:!0,La:!0},wu={endpoint:\"getAccountInfo\"},bu={endpoint:\"getOobConfirmationCode\",M:[\"requestType\"],A:function(t){if(\"EMAIL_SIGNIN\"!=t.requestType)throw new N(\"internal-error\");za(t)},Y:\"email\",C:!0},_u={endpoint:\"getOobConfirmationCode\",M:[\"idToken\",\"requestType\"],A:function(t){if(\"VERIFY_EMAIL\"!=t.requestType)throw new N(\"internal-error\")},Y:\"email\",C:!0},Eu={endpoint:\"getOobConfirmationCode\",M:[\"idToken\",\"newEmail\",\"requestType\"],A:function(t){if(\"VERIFY_AND_CHANGE_EMAIL\"!=t.requestType)throw new N(\"internal-error\")},Y:\"email\",C:!0},Iu={endpoint:\"getOobConfirmationCode\",M:[\"requestType\"],A:function(t){if(\"PASSWORD_RESET\"!=t.requestType)throw new N(\"internal-error\");za(t)},Y:\"email\",C:!0},Tu={hb:!0,endpoint:\"getProjectConfig\",Rb:\"GET\"},Cu={hb:!0,endpoint:\"getRecaptchaParam\",Rb:\"GET\",G:function(t){if(!t.recaptchaSiteKey)throw new N(\"internal-error\")}},Su={endpoint:\"resetPassword\",A:uu,Y:\"email\",C:!0},Nu={endpoint:\"sendVerificationCode\",M:[\"phoneNumber\",\"recaptchaToken\"],Y:\"sessionInfo\",C:!0},ku={endpoint:\"setAccountInfo\",M:[\"idToken\"],A:Ga,U:!0},Au={endpoint:\"setAccountInfo\",M:[\"idToken\"],A:function(t){if(Ga(t),!t.password)throw new N(\"weak-password\")},G:Qa,U:!0},Ou={endpoint:\"signupNewUser\",G:Qa,U:!0,C:!0},Ru={endpoint:\"accounts/mfaEnrollment:start\",M:[\"idToken\",\"phoneEnrollmentInfo\"],A:function(t){if(!t.phoneEnrollmentInfo)throw new N(\"internal-error\");if(!t.phoneEnrollmentInfo.phoneNumber)throw new N(\"missing-phone-number\");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new N(\"missing-app-credential\")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new N(\"internal-error\")},C:!0,La:!0},Pu={endpoint:\"accounts/mfaSignIn:start\",M:[\"mfaPendingCredential\",\"mfaEnrollmentId\",\"phoneSignInInfo\"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new N(\"missing-app-credential\")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new N(\"internal-error\")},C:!0,La:!0},xu={endpoint:\"verifyAssertion\",A:nu,Wa:ru,G:iu,U:!0,C:!0},Du={endpoint:\"verifyAssertion\",A:nu,Wa:ru,G:function(t){if(t.errorMessage&&\"USER_NOT_FOUND\"==t.errorMessage)throw new N(\"user-not-found\");if(t.errorMessage)throw Wu(t.errorMessage);Qa(t)},U:!0,C:!0},Lu={endpoint:\"verifyAssertion\",A:function(t){if(nu(t),!t.idToken)throw new N(\"internal-error\")},Wa:ru,G:iu,U:!0},Mu={endpoint:\"verifyCustomToken\",A:function(t){if(!t.token)throw new N(\"invalid-custom-token\")},G:Qa,U:!0,C:!0},Fu={endpoint:\"verifyPassword\",A:function(t){if(za(t),!t.password)throw new N(\"wrong-password\")},G:Qa,U:!0,C:!0},Uu={endpoint:\"verifyPhoneNumber\",A:Ya,G:Qa,C:!0},ju={endpoint:\"verifyPhoneNumber\",A:function(t){if(!t.idToken)throw new N(\"internal-error\");Ya(t)},G:function(t){if(t.temporaryProof)throw t.code=\"credential-already-in-use\",Es(t);Qa(t)}},Vu={Eb:{USER_NOT_FOUND:\"user-not-found\"},endpoint:\"verifyPhoneNumber\",A:Ya,G:Qa,C:!0},qu={endpoint:\"accounts/mfaEnrollment:withdraw\",M:[\"idToken\",\"mfaEnrollmentId\"],G:function(t){if(!!t[Ra]^!!t.refreshToken)throw new N(\"internal-error\")},C:!0,La:!0};function Bu(t,e,n){if(!Ei(n,e.M))return Me(new N(\"internal-error\"));var r,i=!!e.La,o=e.Rb||\"POST\";return Le(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&\"undefined\"===typeof n.tenantId&&(n.tenantId=t.b),Wa(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new N(\"internal-error\");return r[e.Y]}))}function Wu(t){return zu({error:{errors:[{message:t}],code:400,message:t}})}function zu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||\"\",r={keyInvalid:\"invalid-api-key\",ipRefererBlocked:\"app-not-authorized\"};if(n=r[n]?new N(r[n]):null)return n;for(var i in n=t.error&&t.error.message||\"\",r={INVALID_CUSTOM_TOKEN:\"invalid-custom-token\",CREDENTIAL_MISMATCH:\"custom-token-mismatch\",MISSING_CUSTOM_TOKEN:\"internal-error\",INVALID_IDENTIFIER:\"invalid-email\",MISSING_CONTINUE_URI:\"internal-error\",INVALID_EMAIL:\"invalid-email\",INVALID_PASSWORD:\"wrong-password\",USER_DISABLED:\"user-disabled\",MISSING_PASSWORD:\"internal-error\",EMAIL_EXISTS:\"email-already-in-use\",PASSWORD_LOGIN_DISABLED:\"operation-not-allowed\",INVALID_IDP_RESPONSE:\"invalid-credential\",INVALID_PENDING_TOKEN:\"invalid-credential\",FEDERATED_USER_ID_ALREADY_LINKED:\"credential-already-in-use\",MISSING_OR_INVALID_NONCE:\"missing-or-invalid-nonce\",INVALID_MESSAGE_PAYLOAD:\"invalid-message-payload\",INVALID_RECIPIENT_EMAIL:\"invalid-recipient-email\",INVALID_SENDER:\"invalid-sender\",EMAIL_NOT_FOUND:\"user-not-found\",RESET_PASSWORD_EXCEED_LIMIT:\"too-many-requests\",EXPIRED_OOB_CODE:\"expired-action-code\",INVALID_OOB_CODE:\"invalid-action-code\",MISSING_OOB_CODE:\"internal-error\",INVALID_PROVIDER_ID:\"invalid-provider-id\",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:\"requires-recent-login\",INVALID_ID_TOKEN:\"invalid-user-token\",TOKEN_EXPIRED:\"user-token-expired\",USER_NOT_FOUND:\"user-token-expired\",CORS_UNSUPPORTED:\"cors-unsupported\",DYNAMIC_LINK_NOT_ACTIVATED:\"dynamic-link-not-activated\",INVALID_APP_ID:\"invalid-app-id\",TOO_MANY_ATTEMPTS_TRY_LATER:\"too-many-requests\",WEAK_PASSWORD:\"weak-password\",OPERATION_NOT_ALLOWED:\"operation-not-allowed\",USER_CANCELLED:\"user-cancelled\",CAPTCHA_CHECK_FAILED:\"captcha-check-failed\",INVALID_APP_CREDENTIAL:\"invalid-app-credential\",INVALID_CODE:\"invalid-verification-code\",INVALID_PHONE_NUMBER:\"invalid-phone-number\",INVALID_SESSION_INFO:\"invalid-verification-id\",INVALID_TEMPORARY_PROOF:\"invalid-credential\",MISSING_APP_CREDENTIAL:\"missing-app-credential\",MISSING_CODE:\"missing-verification-code\",MISSING_PHONE_NUMBER:\"missing-phone-number\",MISSING_SESSION_INFO:\"missing-verification-id\",QUOTA_EXCEEDED:\"quota-exceeded\",SESSION_EXPIRED:\"code-expired\",REJECTED_CREDENTIAL:\"rejected-credential\",INVALID_CONTINUE_URI:\"invalid-continue-uri\",MISSING_ANDROID_PACKAGE_NAME:\"missing-android-pkg-name\",MISSING_IOS_BUNDLE_ID:\"missing-ios-bundle-id\",UNAUTHORIZED_DOMAIN:\"unauthorized-continue-uri\",INVALID_DYNAMIC_LINK_DOMAIN:\"invalid-dynamic-link-domain\",INVALID_OAUTH_CLIENT_ID:\"invalid-oauth-client-id\",INVALID_CERT_HASH:\"invalid-cert-hash\",UNSUPPORTED_TENANT_OPERATION:\"unsupported-tenant-operation\",INVALID_TENANT_ID:\"invalid-tenant-id\",TENANT_ID_MISMATCH:\"tenant-id-mismatch\",ADMIN_ONLY_OPERATION:\"admin-restricted-operation\",INVALID_MFA_PENDING_CREDENTIAL:\"invalid-multi-factor-session\",MFA_ENROLLMENT_NOT_FOUND:\"multi-factor-info-not-found\",MISSING_MFA_PENDING_CREDENTIAL:\"missing-multi-factor-session\",MISSING_MFA_ENROLLMENT_ID:\"missing-multi-factor-info\",EMAIL_CHANGE_NEEDS_VERIFICATION:\"email-change-needs-verification\",SECOND_FACTOR_EXISTS:\"second-factor-already-in-use\",SECOND_FACTOR_LIMIT_EXCEEDED:\"maximum-second-factor-count-exceeded\",UNSUPPORTED_FIRST_FACTOR:\"unsupported-first-factor\",UNVERIFIED_EMAIL:\"unverified-email\"},bt(r,e||{}),e=(e=n.match(/^[^\\s]+\\s*:\\s*([\\s\\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new N(r[i],e);return!e&&t&&(e=ei(t)),new N(\"internal-error\",e)}function Gu(t){this.b=t,this.a=null,this.nb=Hu(this)}function Hu(t){return Zu().then((function(){return new ke((function(e,n){Yr(\"gapi.iframes.getContext\")().open({where:document.body,url:t.b,messageHandlersFilter:Yr(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"),attributes:{style:{position:\"absolute\",top:\"-100px\",width:\"1px\",height:\"1px\"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error(\"Network Error\"))}),Ju.get());r.ping(i).then(i,(function(){n(Error(\"Network Error\"))}))}))}))}))}function Ku(t,e){return t.nb.then((function(){return new ke((function(n){t.a.send(e.type,e,n,Yr(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))}))}))}function Qu(t,e){t.nb.then((function(){t.a.register(\"authEvent\",e,Yr(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))}))}var Yu=new Et(Ct,\"https://apis.google.com/js/api.js?onload=%{onload}\"),$u=new ai(3e4,6e4),Ju=new ai(5e3,15e3),Xu=null;function Zu(){return Xu||(Xu=new ke((function(t,e){function n(){si(),Yr(\"gapi.load\")(\"gapi.iframes\",{callback:t,ontimeout:function(){si(),e(Error(\"Network Error\"))},timeout:$u.get()})}if(Yr(\"gapi.iframes.Iframe\"))t();else if(Yr(\"gapi.load\"))n();else{var r=\"__iframefcb\"+Math.floor(1e6*Math.random()).toString();h[r]=function(){Yr(\"gapi.load\")?n():e(Error(\"Network Error\"))},r=At(Yu,{onload:r}),Le(_a(r)).o((function(){e(Error(\"Network Error\"))}))}})).o((function(t){throw Xu=null,t})))}function tc(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=tr(this.i,\"/__/auth/iframe\"),Jn(this.a,\"apiKey\",this.g),Jn(this.a,\"appName\",this.h),this.b=null,this.c=[]}function ec(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function nc(t){try{return r.a.app(t).auth().Ea()}catch(e){return[]}}function rc(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function ic(t){var e=Cr();return Ka(t).then((function(t){t:{var n=Zn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf(\"chrome-extension://\")?s=Zn(o).b==s&&\"chrome-extension\"==a:\"http\"!=a&&\"https\"!=a?s=!1:xr.test(o)?s=s==o:(o=o.split(\".\").join(\"\\\\.\"),s=new RegExp(\"^(.+\\\\.\"+o+\"|\"+o+\")$\",\"i\").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new bs(Cr())}))}function oc(t){return t.l||(t.l=Lr().then((function(){if(!t.s){var e=t.c,n=t.h,r=nc(t.b),i=new tc(t.u,t.f,t.b);i.f=e,i.b=n,i.c=et(r||[]),t.s=i.toString()}t.i=new Gu(t.s),uc(t)}))),t.l}function sc(t){return t.m||(t.w=t.c?Kr(t.c,nc(t.b)):null,t.m=new Aa(t.f,x(t.h),t.w)),t.m}function ac(t,e,n,r,i,o,s,a,u,c,h){return t=new ec(t,e,n,r,i),t.l=o,t.g=s,t.i=a,t.b=yt(u||null),t.f=c,t.ub(h).toString()}function uc(t){if(!t.i)throw Error(\"IfcHandler must be initialized!\");Qu(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=vs(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?\"ACK\":\"ERROR\",Le(n)}return n.status=\"ERROR\",Le(n)}))}function cc(t){var e={type:\"webStorageSupport\"};return oc(t).then((function(){return Ku(t.i,e)})).then((function(t){if(t&&t.length&&\"undefined\"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))}function hc(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N(\"internal-error\",\"The React Native compatibility library was not found.\");this.type=\"asyncStorage\"}function lc(t){this.b=t,this.a={},this.f=I(this.c,this)}tc.prototype.toString=function(){return this.f?Jn(this.a,\"v\",this.f):fr(this.a.a,\"v\"),this.b?Jn(this.a,\"eid\",this.b):fr(this.a.a,\"eid\"),this.c.length?Jn(this.a,\"fw\",this.c.join(\",\")):fr(this.a.a,\"fw\"),this.a.toString()},ec.prototype.ub=function(t){return this.h=t,this},ec.prototype.toString=function(){var t=tr(this.s,\"/__/auth/handler\");if(Jn(t,\"apiKey\",this.m),Jn(t,\"appName\",this.c),Jn(t,\"authType\",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ja()}catch(u){n=null}for(var i in e.kb=n,Jn(t,\"providerId\",this.a.providerId),e=this.a,n=ni(e.Fb),n)n[i]=n[i].toString();i=e.Oc,n=yt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),mt(n)||Jn(t,\"customParameters\",ei(n))}if(\"function\"===typeof this.a.Nb&&(e=this.a.Nb(),e.length&&Jn(t,\"scopes\",e.join(\",\"))),this.l?Jn(t,\"redirectUrl\",this.l):fr(t.a,\"redirectUrl\"),this.g?Jn(t,\"eventId\",this.g):fr(t.a,\"eventId\"),this.i?Jn(t,\"v\",this.i):fr(t.a,\"v\"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Xn(t,a)&&Jn(t,a,this.b[a]);return this.h?Jn(t,\"tid\",this.h):fr(t.a,\"tid\"),this.f?Jn(t,\"eid\",this.f):fr(t.a,\"eid\"),a=nc(this.c),a.length&&Jn(t,\"fw\",a.join(\",\")),t.toString()},e=rc.prototype,e.Lb=function(t,e,n){var r=new N(\"popup-closed-by-user\"),i=new N(\"web-storage-unsupported\"),o=this,s=!1;return this.ka().then((function(){cc(o).then((function(n){n||(t&&Or(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return Pr(t)})).then((function(){if(!s)return Un(n).then((function(){e(r)}))}))},e.Ub=function(){var t=Qr();return!ti(t)&&!oi(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Me(new N(\"popup-blocked\"));if(s&&!ti())return this.ka().o((function(e){Or(t),i(e)})),r(),Le();this.a||(this.a=ic(sc(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw Or(t),i(e),e}));return r(),e})).then((function(){if(ps(n),!s){var r=ac(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a);Sr(r,t)}})).o((function(t){throw\"auth/network-request-failed\"==t.code&&(u.a=null),t}))},e.Kb=function(t,e,n,r){this.a||(this.a=ic(sc(this)));var i=this;return this.a.then((function(){ps(e);var o=ac(i.u,i.f,i.b,t,e,Cr(),n,i.c,void 0,i.h,r);Sr(o)})).o((function(t){throw\"auth/network-request-failed\"==t.code&&(i.a=null),t}))},e.ka=function(){var t=this;return oc(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new N(\"network-request-failed\")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){Z(this.g,(function(e){return e==t}))},e=hc.prototype,e.get=function(t){return Le(this.a.getItem(t)).then((function(t){return t&&ri(t)}))},e.set=function(t,e){return Le(this.a.setItem(t,ei(e)))},e.T=function(t){return Le(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var fc,pc=[];function dc(){var t=jr()?self:null;if(G(pc,(function(n){n.b==t&&(e=n)})),!e){var e=new lc(t);pc.push(e)}return e}function vc(t,e,n){mt(t.a)&&t.b.addEventListener(\"message\",t.f),\"undefined\"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gc(t){this.a=t}function mc(t){this.c=t,this.b=!1,this.a=[]}function yc(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Me(Error(\"connection_unavailable\"));var h=r?800:50,l=\"undefined\"!==typeof MessageChannel?new MessageChannel:null;return new ke((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error(\"unsupported_event\"))}),h),o=function(t){t.data.eventId===i&&(\"ack\"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error(\"timeout\"))}),3e3)):\"done\"===t.data.status?(clearTimeout(a),\"undefined\"!==typeof t.data.response?n(t.data.response):r(Error(\"unknown_error\"))):(clearTimeout(s),clearTimeout(a),r(Error(\"invalid_response\"))))},c={messageChannel:l,onMessage:o},t.a.push(c),l.port1.addEventListener(\"message\",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error(\"connection_unavailable\"))})).then((function(e){return wc(t,c),e})).o((function(e){throw wc(t,c),e}))}function wc(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener(\"message\",r),n.port1.close()),Z(t.a,(function(t){return t==e}))}}function bc(){if(!Tc())throw new N(\"web-storage-unsupported\");this.c={},this.a=[],this.b=0,this.u=h.indexedDB,this.type=\"indexedDB\",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;jr()&&self?(this.l=dc(),vc(this.l,\"keyChanged\",(function(e,n){return Ac(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:J(e,n.key)}}))})),vc(this.l,\"ping\",(function(){return Le([\"keyChanged\"])}))):pi().then((function(e){(t.h=e)&&(t.g=new mc(new gc(e)),yc(t.g,\"ping\",null,!0).then((function(e){e[0].fulfilled&&J(e[0].value,\"keyChanged\")&&(t.s=!0)})).o((function(){})))}))}function _c(t){return new ke((function(e,n){var r=t.u.deleteDatabase(\"firebaseLocalStorageDb\");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}function Ec(t){return new ke((function(e,n){var r=t.u.open(\"firebaseLocalStorageDb\",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore(\"firebaseLocalStorage\",{keyPath:\"fbase_key\"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains(\"firebaseLocalStorage\")?e(r):_c(t).then((function(){return Ec(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ic(t){return t.m||(t.m=Ec(t)),t.m}function Tc(){try{return!!h.indexedDB}catch(qp){return!1}}function Cc(t){return t.objectStore(\"firebaseLocalStorage\")}function Sc(t,e){return t.transaction([\"firebaseLocalStorage\"],e?\"readwrite\":\"readonly\")}function Nc(t){return new ke((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function kc(t,e){return t.g&&t.h&&fi()===t.h?yc(t.g,\"keyChanged\",{key:e},t.s).then((function(){})).o((function(){})):Le()}function Ac(t){return Ic(t).then((function(t){var e=Cc(Sc(t,!1));return e.getAll?Nc(e.getAll()):new ke((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e[\"continue\"]()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=Nr(t.c,n),t.c=n}return r}))}function Oc(t){function e(){t.f=setTimeout((function(){t.i=Ac(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){\"STOP_EVENT\"!=t.message&&e()}))}),800)}Rc(t),e()}function Rc(t){t.i&&t.i.cancel(\"STOP_EVENT\"),t.f&&(clearTimeout(t.f),t.f=null)}function Pc(t){var e=this,n=null;this.a=[],this.type=\"indexedDB\",this.c=t,this.b=Le().then((function(){if(Tc()){var t=ii(),r=\"__sak\"+t;return fc||(fc=new bc),n=fc,n.set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error(\"indexedDB not supported!\");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){G(e.a,(function(e){e(t)}))})),t}))}function xc(){this.a={},this.type=\"inMemory\"}function Dc(){if(!Mc()){if(\"Node\"==Vr())throw new N(\"internal-error\",\"The LocalStorage compatibility library was not found.\");throw new N(\"web-storage-unsupported\")}this.a=Lc()||r.a.INTERNAL.node.localStorage,this.type=\"localStorage\"}function Lc(){try{var t=h.localStorage,e=ii();return t&&(t.setItem(e,\"1\"),t.removeItem(e)),t}catch(n){return null}}function Mc(){var t=\"Node\"==Vr();if(t=Lc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem(\"__sak\",\"1\"),t.removeItem(\"__sak\"),!0}catch(e){return!1}}function Fc(){this.type=\"nullStorage\"}function Uc(){if(!Vc()){if(\"Node\"==Vr())throw new N(\"internal-error\",\"The SessionStorage compatibility library was not found.\");throw new N(\"web-storage-unsupported\")}this.a=jc()||r.a.INTERNAL.node.sessionStorage,this.type=\"sessionStorage\"}function jc(){try{var t=h.sessionStorage,e=ii();return t&&(t.setItem(e,\"1\"),t.removeItem(e)),t}catch(n){return null}}function Vc(){var t=\"Node\"==Vr();if(t=jc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem(\"__sak\",\"1\"),t.removeItem(\"__sak\"),!0}catch(e){return!1}}function qc(){var t={};t.Browser=zc,t.Node=Gc,t.ReactNative=Hc,t.Worker=Kc,this.a=t[Vr()]}lc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:\"ack\",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(Le().then((function(){return e(t.origin,t.data.data)})))})),je(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)\"undefined\"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:\"done\",eventId:n,eventType:e,response:i})}))}},gc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},mc.prototype.close=function(){for(;0<this.a.length;)wc(this,this.a[0]);this.b=!0},e=bc.prototype,e.set=function(t,e){var n,r=!1,i=this;return Ic(this).then((function(e){return n=e,e=Cc(Sc(n,!0)),Nc(e.get(t))})).then((function(o){var s=Cc(Sc(n,!0));return o?(o.value=e,Nc(s.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,Nc(s.add(o)))})).then((function(){return i.c[t]=e,kc(i,t)})).ma((function(){r&&i.b--}))},e.get=function(t){return Ic(this).then((function(e){return Nc(Cc(Sc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return Ic(this).then((function(r){return e=!0,n.b++,Nc(Cc(Sc(r,!0))[\"delete\"](t))})).then((function(){return delete n.c[t],kc(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&Oc(this),this.a.push(t)},e.ha=function(t){Z(this.a,(function(e){return e==t})),0==this.a.length&&Rc(this)},e=Pc.prototype,e.get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){Z(this.a,(function(e){return e==t}))},e=xc.prototype,e.get=function(t){return Le(this.a[t])},e.set=function(t,e){return this.a[t]=e,Le()},e.T=function(t){return delete this.a[t],Le()},e.ba=function(){},e.ha=function(){},e=Dc.prototype,e.get=function(t){var e=this;return Le().then((function(){var n=e.a.getItem(t);return ri(n)}))},e.set=function(t,e){var n=this;return Le().then((function(){var r=ei(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Le().then((function(){e.a.removeItem(t)}))},e.ba=function(t){h.window&&bn(h.window,\"storage\",t)},e.ha=function(t){h.window&&Tn(h.window,\"storage\",t)},e=Fc.prototype,e.get=function(){return Le(null)},e.set=function(){return Le()},e.T=function(){return Le()},e.ba=function(){},e.ha=function(){},e=Uc.prototype,e.get=function(t){var e=this;return Le().then((function(){var n=e.a.getItem(t);return ri(n)}))},e.set=function(t,e){var n=this;return Le().then((function(){var r=ei(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Le().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var Bc,Wc,zc={F:Dc,$a:Uc},Gc={F:Dc,$a:Uc},Hc={F:hc,$a:Fc},Kc={F:Dc,$a:Fc},Qc={od:\"local\",NONE:\"none\",qd:\"session\"};function Yc(t){var e=new N(\"invalid-persistence-type\"),n=new N(\"unsupported-persistence-type\");t:{for(r in Qc)if(Qc[r]==t){var r=!0;break t}r=!1}if(!r||\"string\"!==typeof t)throw e;switch(Vr()){case\"ReactNative\":if(\"session\"===t)throw n;break;case\"Node\":if(\"none\"!==t)throw n;break;default:if(!$r()&&\"none\"!==t)throw n}}function $c(){var t=!(oi(Qr())||!Ur()),e=ti(),n=$r();this.m=t,this.h=e,this.l=n,this.a={},Bc||(Bc=new qc),t=Bc;try{this.g=!Tr()&&li()||!h.indexedDB?new t.a.F:new Pc(jr()?new xc:new t.a.F)}catch(r){this.g=new xc,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new xc}this.u=new xc,this.f=I(this.Vb,this),this.b={}}function Jc(){return Wc||(Wc=new $c),Wc}function Xc(t,e){switch(e){case\"session\":return t.i;case\"none\":return t.u;default:return t.g}}function Zc(t,e){return\"firebase:\"+t.name+(e?\":\"+e:\"\")}function th(t,e,n){var r=Zc(e,n),i=Xc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=ri(h.localStorage.getItem(r))}catch(a){}if(s&&!o)return h.localStorage.removeItem(r),t.set(e,s,n);s&&o&&\"localStorage\"!=i.type&&h.localStorage.removeItem(r)}))}function eh(t,e,n){return n=Zc(e,n),\"local\"==e.F&&(t.b[n]=null),Xc(t,e.F).T(n)}function nh(t){rh(t),t.c=setInterval((function(){for(var e in t.a){var n=h.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new cn({type:\"storage\",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}function rh(t){t.c&&(clearInterval(t.c),t.c=null)}function ih(t){this.a=t,this.b=Jc()}e=$c.prototype,e.get=function(t,e){return Xc(this,t.F).get(Zc(t,e))},e.set=function(t,e,n){var r=Zc(t,n),i=this,o=Xc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){\"local\"==t.F&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Zc(t,e),this.l&&(this.b[t]=h.localStorage.getItem(t)),mt(this.a)&&(Xc(this,\"local\").ba(this.f),this.h||(Tr()||!li())&&h.indexedDB||!this.l||nh(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Zc(t,e),this.a[t]&&(Z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),mt(this.a)&&(Xc(this,\"local\").ha(this.f),rh(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];\"undefined\"===typeof r&&(r=null);var i=h.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf(\"firebase:\")&&this.a[e]){if(\"undefined\"!==typeof t.a.a?Xc(this,\"local\").ha(this.f):rh(this),this.m)if(n=h.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?h.localStorage.setItem(e,r):h.localStorage.removeItem(e);else if(this.b[e]===r&&\"undefined\"===typeof t.a.a)return;var o=this;n=function(){\"undefined\"===typeof t.a.a&&o.b[e]===h.localStorage.getItem(e)||(o.b[e]=h.localStorage.getItem(e),o.ib(e))},Zt&&ue&&10==ue&&h.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,I(this.ib,this))},e.ib=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var oh,sh={name:\"authEvent\",F:\"local\"};function ah(t){return t.b.get(sh,t.a).then((function(t){return vs(t)}))}function uh(){this.a=Jc()}function ch(){this.b=-1}function hh(t,e){this.b=lh,this.f=h.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=h.Int32Array?new Int32Array(64):Array(64),void 0===oh&&(oh=h.Int32Array?new Int32Array(yh):yh),this.reset()}S(hh,ch);for(var lh=64,fh=lh-1,ph=[],dh=0;dh<fh;dh++)ph[dh]=0;var vh=tt(128,ph);function gh(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=c&h^~c&l,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,s=s+(0|oh[e])|0,s=o+(s+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function mh(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(\"string\"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gh(t),i=0);else{if(!v(e))throw Error(\"message must be string or array\");for(;r<n;){var o=e[r++];if(!(\"number\"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error(\"message must be a byte array\");t.f[i++]=o,i==t.b&&(gh(t),i=0)}}t.c=i,t.g+=n}hh.prototype.reset=function(){this.g=this.c=0,this.a=h.Int32Array?new Int32Array(this.h):et(this.h)};var yh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wh(){hh.call(this,8,bh)}S(wh,hh);var bh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _h(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+\":\"+n,this.w=new uh,this.g=new ih(this.h),this.f=null,this.b=[],this.a=this.c=null}function Eh(t){return new N(\"invalid-cordova-configuration\",t)}function Ih(){for(var t=20,e=[];0<t;)e.push(\"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".charAt(Math.floor(62*Math.random()))),t--;return e.join(\"\")}function Th(t){var e=new wh;mh(e,t),t=[];var n=8*e.g;56>e.c?mh(e,vh,56-e.c):mh(e,vh,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gh(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return lo(t)}function Ch(t,e,n,r,i){var o=Ih(),s=new ds(e,r,null,o,new N(\"no-auth-event\"),null,i),a=Yr(\"BuildInfo.packageName\",h);if(\"string\"!==typeof a)throw new N(\"invalid-cordova-configuration\");var u=Yr(\"BuildInfo.displayName\",h),c={};if(Qr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Qr().toLowerCase().match(/android/))return Me(new N(\"operation-not-supported-in-this-environment\"));c.apn=a}u&&(c.appDisplayName=u),o=Th(o),c.sessionId=o;var l=ac(t.u,t.i,t.l,e,n,null,r,t.m,c,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(sh,s.v(),e)})).then((function(){var e=Yr(\"cordova.plugins.browsertab.isAvailable\",h);if(\"function\"!==typeof e)throw new N(\"invalid-cordova-configuration\");var n=null;e((function(e){if(e){if(n=Yr(\"cordova.plugins.browsertab.openUrl\",h),\"function\"!==typeof n)throw new N(\"invalid-cordova-configuration\");n(l)}else{if(n=Yr(\"cordova.InAppBrowser.open\",h),\"function\"!==typeof n)throw new N(\"invalid-cordova-configuration\");e=Qr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\\d/i)?\"_blank\":\"_system\",\"location=yes\")}}))}))}function Sh(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Nh(t){return t.f||(t.f=t.ka().then((function(){return new ke((function(e){function n(r){return e(r),t.Qa(n),!1}t.Ca(n),Ah(t)}))}))),t.f}function kh(t){var e=null;return ah(t.g).then((function(n){return e=n,n=t.g,eh(n.b,sh,n.a)})).then((function(){return e}))}function Ah(t){function e(e){r=!0,i&&i.cancel(),kh(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;i=xo(e.url),-1!=i.indexOf(\"/__/auth/callback\")&&(o=Zn(i),o=ri(Xn(o,\"firebaseError\")||null),o=(o=\"object\"===typeof o?k(o):null)?new ds(r.c,r.b,null,null,o,null,r.S()):new ds(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Sh(t,i)}))}var n=new ds(\"unknown\",null,null,null,new N(\"no-auth-event\")),r=!1,i=Un(500).then((function(){return kh(t).then((function(){r||Sh(t,n)}))})),o=h.handleOpenURL;h.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Yr(\"BuildInfo.packageName\",h).toLowerCase()+\"://\")&&e({url:t}),\"function\"===typeof o)try{o(t)}catch(n){console.error(n)}},ys||(ys=new gs),ws(e)}function Oh(t){this.a=t,this.b=Jc()}e=_h.prototype,e.ka=function(){return this.Ga?this.Ga:this.Ga=Mr().then((function(){if(\"function\"!==typeof Yr(\"universalLinks.subscribe\",h))throw Eh(\"cordova-universal-links-plugin-fix is not installed\");if(\"undefined\"===typeof Yr(\"BuildInfo.packageName\",h))throw Eh(\"cordova-plugin-buildinfo is not installed\");if(\"function\"!==typeof Yr(\"cordova.plugins.browsertab.openUrl\",h))throw Eh(\"cordova-plugin-browsertab is not installed\");if(\"function\"!==typeof Yr(\"cordova.InAppBrowser.open\",h))throw Eh(\"cordova-plugin-inappbrowser is not installed\")}),(function(){throw new N(\"cordova-not-ready\")}))},e.Lb=function(t,e){return e(new N(\"operation-not-supported-in-this-environment\")),Le()},e.Jb=function(){return Me(new N(\"operation-not-supported-in-this-environment\"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,r){if(this.c)return Me(new N(\"redirect-operation-pending\"));var i=this,o=h.document,s=null,a=null,u=null,c=null;return this.c=Le().then((function(){return ps(e),Nh(i)})).then((function(){return Ch(i,t,e,n,r)})).then((function(){return new ke((function(t,e){a=function(){var e=Yr(\"cordova.plugins.browsertab.close\",h);return t(),\"function\"===typeof e&&e(),i.a&&\"function\"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),u=function(){s||(s=Un(2e3).then((function(){e(new N(\"redirect-cancelled-by-user\"))})))},c=function(){ui()&&u()},o.addEventListener(\"resume\",u,!1),Qr().toLowerCase().match(/android/)||o.addEventListener(\"visibilitychange\",c,!1)})).o((function(t){return kh(i).then((function(){throw t}))}))})).ma((function(){u&&o.removeEventListener(\"resume\",u,!1),c&&o.removeEventListener(\"visibilitychange\",c,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null}))},e.Ca=function(t){this.b.push(t),Nh(this).o((function(e){\"auth/invalid-cordova-configuration\"===e.code&&(e=new ds(\"unknown\",null,null,null,new N(\"no-auth-event\")),t(e))}))},e.Qa=function(t){Z(this.b,(function(e){return e==t}))};var Rh={name:\"pendingRedirect\",F:\"session\"};function Ph(t){return t.b.set(Rh,\"pending\",t.a)}function xh(t){return eh(t.b,Rh,t.a)}function Dh(t){return t.b.get(Rh,t.a).then((function(t){return\"pending\"==t}))}function Lh(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=I(this.s,this),this.b=new Yh,this.B=new rl,this.g=new Oh(this.u+\":\"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Mh(this.D,this.u,this.m,A)}function Mh(t,e,n,i){var o=r.a.SDK_VERSION||null;return Fr()?new _h(t,e,n,o,i):new rc(t,e,n,o,i)}function Fh(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Uh(t){t.a.Ub()&&Fh(t).o((function(e){var n=new ds(\"unknown\",null,null,null,new N(\"operation-not-supported-in-this-environment\"));zh(e)&&t.s(n)})),t.a.Qb()||$h(t.b)}function jh(t,e){J(t.h,e)||t.h.push(e),t.f||Dh(t.g).then((function(e){e?xh(t.g).then((function(){Fh(t).o((function(e){var n=new ds(\"unknown\",null,null,null,new N(\"operation-not-supported-in-this-environment\"));zh(e)&&t.s(n)}))})):Uh(t)})).o((function(){Uh(t)}))}function Vh(t,e){Z(t.h,(function(t){return t==e}))}Lh.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Mh(this.D,this.u,this.m),this.i={}},Lh.prototype.s=function(t){if(!t)throw new N(\"invalid-auth-event\");if(6e5<=C()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=C())),e=!0;break}}return $h(this.b),e};var qh=new ai(2e3,1e4),Bh=new ai(3e4,6e4);function Wh(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function zh(t){return!(!t||\"auth/cordova-not-ready\"!=t.code)}function Gh(t,e,n,r,i){var o;return Ph(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(zh(e))throw new N(\"operation-not-supported-in-this-environment\");return o=e,xh(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ke((function(){})):xh(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Hh(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),qh.get())}Lh.prototype.pa=function(){return this.b.pa()};var Kh={};function Qh(t,e,n){var r=e+\":\"+n;return Kh[r]||(Kh[r]=new Lh(t,e,n)),Kh[r]}function Yh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function $h(t){t.g||(t.g=!0,el(t,!1,null,null))}function Jh(t){t.g&&!t.i&&el(t,!1,null,null)}function Xh(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){el(t,a,e,null)})).o((function(e){el(t,a,null,e)}))}function Zh(t,e){if(t.b=function(){return Me(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function tl(t,e){if(t.b=function(){return Le(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function el(t,e,n,r){e?r?Zh(t,r):tl(t,n):tl(t,{user:null}),t.f=[],t.c=[]}function nl(t){var e=new N(\"timeout\");t.a&&t.a.cancel(),t.a=Un(Bh.get()).then((function(){t.b||(t.g=!0,el(t,!0,null,e))}))}function rl(){}function il(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}function ol(){this.Bb=!1,Object.defineProperty(this,\"appVerificationDisabled\",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function sl(t,e){this.a=e,yi(this,\"verificationId\",t)}function al(t,e,n,r){return new hs(t).cb(e,n).then((function(t){return new sl(t,r)}))}function ul(t){var e=wo(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new N(\"internal-error\",\"An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.\");wi(this,{token:t,expirationTime:hi(1e3*e.exp),authTime:hi(1e3*e.auth_time),issuedAtTime:hi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function cl(t,e,n){var r=e&&e[ll];if(!r)throw new N(\"argument-error\",\"Internal assert: Invalid MultiFactorResolver\");this.a=t,this.f=yt(e),this.g=n,this.c=new Do(null,r),this.b=[];var i=this;G(e[hl]||[],(function(t){(t=Ci(t))&&i.b.push(t)})),yi(this,\"auth\",this.a),yi(this,\"session\",this.c),yi(this,\"hints\",this.b)}Yh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yh.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&\"auth/web-storage-unsupported\"==t.a.code,o=t.a&&\"auth/operation-not-supported-in-this-environment\"==t.a.code;this.i=!(!i&&!o),\"unknown\"!=n||i||o?t.a?(el(this,!0,null,t.a),Le()):e.Da(n,r)?Xh(this,t,e):Me(new N(\"invalid-auth-event\")):(el(this,!1,null,null),Le())}else Me(new N(\"invalid-auth-event\"))},Yh.prototype.pa=function(){var t=this;return new ke((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),nl(t))}))},rl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Le()):e.Da(n,r)?il(t,e):Me(new N(\"invalid-auth-event\"))}else Me(new N(\"invalid-auth-event\"))},sl.prototype.confirm=function(t){return t=ls(this.verificationId,t),this.a(t)};var hl=\"mfaInfo\",ll=\"mfaPendingCredential\";function fl(t,e,n,r){N.call(this,\"multi-factor-auth-required\",r,e),this.b=new cl(t,e,n),yi(this,\"resolver\",this.b)}function pl(t,e,n){if(t&&m(t.serverResponse)&&\"auth/multi-factor-auth-required\"===t.code)try{return new fl(e,t.serverResponse,n,t.message)}catch(r){}return null}function dl(){}function vl(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},\"undefined\"!==typeof r&&(n.displayName=r),bt(n,{phoneVerificationInfo:cs(t.a)}),Bu(e,mu,n)}))}function gl(t,e,n){return n.Fa().then((function(n){return n={mfaPendingCredential:n},bt(n,{phoneVerificationInfo:cs(t.a)}),Bu(e,yu,n)}))}function ml(t){yi(this,\"factorId\",t.ea),this.a=t}function yl(t){if(ml.call(this,t),this.a.ea!=hs.PROVIDER_ID)throw new N(\"argument-error\",\"firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential\")}function wl(t,e){for(var n in un.call(this,t),e)this[n]=e[n]}function bl(t,e){this.a=t,this.b=[],this.c=I(this.wc,this),bn(this.a,\"userReloaded\",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ki]=t.uid),t.displayName&&(r[Si]=t.displayName),t.enrollmentTime&&(r[Ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Ai]=t.phoneNumber);try{e=new Oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),El(this,n)}function _l(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=Ci(t))&&e.push(t)})),e}function El(t,e){t.b=e,yi(t,\"enrolledFactors\",e)}function Il(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error(\"Proactive refresh lower bound greater than upper bound!\")}function Tl(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Cl(t,e){t.stop(),t.b=Un(Tl(t,e)).then((function(){return ci()})).then((function(){return t.h()})).then((function(){Cl(t,!0)})).o((function(e){t.i(e)&&Cl(t,!1)}))}function Sl(t){this.c=t,this.b=this.a=null}function Nl(t){return t.b&&1e3*t.b.c||0}function kl(t,e){var n=e.refreshToken;t.b=yo(e[Ra]||\"\"),t.a=n}function Al(t,e){t.b=e.b,t.a=e.a}function Ol(t,e){return Ba(t.c,e).then((function(e){return t.b=yo(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw\"auth/user-token-expired\"==e.code&&(t.a=null),e}))}function Rl(t,e){this.a=t||null,this.b=e||null,wi(this,{lastSignInTime:hi(e||null),creationTime:hi(t||null)})}function Pl(t){return new Rl(t.a,t.b)}function xl(t,e,n,r,i,o){wi(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Dl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.a.SDK_VERSION?Kr(r.a.SDK_VERSION):null,this.a=new Aa(this.l,x(A),t),this.b=new Sl(this.a),Bl(this,e[Ra]),kl(this.b,e),yi(this,\"refreshToken\",this.b.a),Hl(this,n||{}),xn.call(this),this.P=!1,this.s&&Jr()&&(this.i=Qh(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=jl(this),this.Z=I(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){Ml(i,t.c)},this.$=null,this.O=new bl(this,n),yi(this,\"multiFactor\",this.O)}function Ll(t,e){t.aa&&Tn(t.aa,\"languageCodeChanged\",t.za),(t.aa=e)&&bn(e,\"languageCodeChanged\",t.za)}function Ml(t,e){t.W=e,Fa(t.a,r.a.SDK_VERSION?Kr(r.a.SDK_VERSION,t.W):null)}function Fl(t,e){t.$&&Tn(t.$,\"frameworkChanged\",t.ya),(t.$=e)&&bn(e,\"frameworkChanged\",t.ya)}function Ul(t){try{return r.a.app(t.m).auth()}catch(e){throw new N(\"internal-error\",\"No firebase.auth.Auth instance is available for the Firebase App '\"+t.m+\"'!\")}}function jl(t){return new Il((function(){return t.I(!0)}),(function(t){return!(!t||\"auth/network-request-failed\"!=t.code)}),(function(){var e=Nl(t.b)-C()-3e5;return 0<e?e:0}))}function Vl(t){t.D||t.B.b||(t.B.start(),Tn(t,\"tokenChanged\",t.Z),bn(t,\"tokenChanged\",t.Z))}function ql(t){Tn(t,\"tokenChanged\",t.Z),t.B.stop()}function Bl(t,e){t.xa=e,yi(t,\"_lat\",e)}function Wl(t,e){Z(t.R,(function(t){return t==e}))}function zl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return je(e).then((function(){return t}))}function Gl(t){t.i&&!t.P&&(t.P=!0,jh(t.i,t))}function Hl(t,e){wi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Rl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Kl(){}function Ql(t){return Le().then((function(){if(t.D)throw new N(\"app-deleted\")}))}function Yl(t){return Q(t.providerData,(function(t){return t.providerId}))}function $l(t,e){e&&(Jl(t,e.providerId),t.providerData.push(e))}function Jl(t,e){Z(t.providerData,(function(t){return t.providerId==e}))}function Xl(t,e,n){(\"uid\"!=e||n)&&t.hasOwnProperty(e)&&yi(t,e,n)}function Zl(t,e){t!=e&&(wi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?yi(t,\"metadata\",Pl(e.metadata)):yi(t,\"metadata\",new Rl),G(e.providerData,(function(e){$l(t,e)})),Al(t.b,e.b),yi(t,\"refreshToken\",t.b.a),El(t.O,e.O.b))}function tf(t){return t.I().then((function(e){var n=t.isAnonymous;return nf(t,e).then((function(){return n||Xl(t,\"isAnonymous\",!1),e}))}))}function ef(t,e){e[Ra]&&t.xa!=e[Ra]&&(kl(t.b,e),t.dispatchEvent(new wl(\"tokenChanged\")),Bl(t,e[Ra]),Xl(t,\"refreshToken\",t.b.a))}function nf(t,e){return Bu(t.a,wu,{idToken:e}).then(I(t.Ic,t))}function rf(t){return(t=t.providerUserInfo)&&t.length?Q(t,(function(t){return new xl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}function of(t,e){return tf(t).then((function(){if(J(Yl(t),e))return zl(t).then((function(){throw new N(\"provider-already-linked\")}))}))}function sf(t,e,n){var r=fs(e);return e=To(e),bi({user:t,credential:r,additionalUserInfo:e,operationType:n})}function af(t,e){return ef(t,e),t.reload().then((function(){return t}))}function uf(t,e,n,i,o){if(!Jr())return Me(new N(\"operation-not-supported-in-this-environment\"));if(t.h&&!o)return Me(t.h);var s=Io(n.providerId),a=ii(t.uid+\":::\"),u=null;(!ti()||Ur())&&t.s&&n.isOAuthProvider&&(u=ac(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=Rr(u,s&&s.ta,s&&s.sa);return i=i().then((function(){if(hf(t),!o)return t.I().then((function(){}))})).then((function(){return Wh(t.i,c,e,n,a,!!u,t.tenantId)})).then((function(){return new ke((function(n,r){t.la(e,null,new N(\"cancelled-popup-request\"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Hh(t.i,t,e,c,a)}))})).then((function(t){return c&&Or(c),t?bi(t):null})).o((function(t){throw c&&Or(c),t})),lf(t,i,o)}function cf(t,e,n,r,i){if(!Jr())return Me(new N(\"operation-not-supported-in-this-environment\"));if(t.h&&!i)return Me(t.h);var o=null,s=ii(t.uid+\":::\");return r=r().then((function(){if(hf(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,zl(t)})).then((function(e){return t.ga&&(e=t.ga,e=e.b.set(mf,t.v(),e.a)),e})).then((function(){return Gh(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return yf(t.ga);throw o})).then((function(){if(o)throw o})),lf(t,r,i)}function hf(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new N(\"internal-error\");throw new N(\"auth-domain-config-required\")}}function lf(t,e,n){var r=ff(t,e,n);return t.N.push(r),r.ma((function(){X(t.N,r)})),r.o((function(e){var n=null;throw e&&\"auth/multi-factor-auth-required\"===e.code&&(n=pl(e.v(),Ul(t),I(t.hc,t))),n||e}))}function ff(t,e,n){return t.h&&!n?(e.cancel(),Me(t.h)):e.o((function(e){throw!e||\"auth/user-disabled\"!=e.code&&\"auth/user-token-expired\"!=e.code||(t.h||t.dispatchEvent(new wl(\"userInvalidated\")),t.h=e),e}))}function pf(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ra]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new Dl(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&$l(r,bi(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function df(t,e,n,r){var i=new Dl(t,e);return n&&(i.ga=n),r&&Ml(i,r),i.reload().then((function(){return i}))}function vf(t,e,n,r){var i=t.b,o={};return o[Ra]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Dl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&Ml(e,r),Zl(e,t),e}function gf(t){this.a=t,this.b=Jc()}cl.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=yt(e.f);return delete n[hl],delete n[ll],bt(n,t),e.g(n)}))},S(fl,N),dl.prototype.ob=function(t,e,n){return e.type==Lo?vl(this,t,e,n):gl(this,t,e)},S(ml,dl),S(yl,ml),S(wl,un),e=bl.prototype,e.wc=function(t){El(this,_l(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new Do(t,null)}))},e.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return ef(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n=\"string\"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Bu(r,qu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return El(e,r),ef(e.a,t),e.a.reload().o((function(t){if(\"auth/user-token-expired\"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:Q(this.b,(function(t){return t.v()}))}}},Il.prototype.start=function(){this.a=this.c,Cl(this,!0)},Il.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Sl.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Nl(this)}},Sl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Me(new N(\"user-token-expired\")):t||!this.b||C()>Nl(this)-3e4?this.a?Ol(this,{grant_type:\"refresh_token\",refresh_token:this.a}):Le(null):Le({accessToken:this.b.toString(),refreshToken:this.a})},Rl.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Dl,xn),Dl.prototype.va=function(t){this.oa=t,Ma(this.a,t)},Dl.prototype.ja=function(){return this.oa},Dl.prototype.Ea=function(){return et(this.W)},Dl.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},yi(Dl.prototype,\"providerId\",\"firebase\"),e=Dl.prototype,e.reload=function(){var t=this;return lf(this,Ql(this).then((function(){return tf(t).then((function(){return zl(t)})).then(Kl)})))},e.mc=function(t){return this.I(t).then((function(t){return new ul(t)}))},e.I=function(t){var e=this;return lf(this,Ql(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new N(\"internal-error\");return t.accessToken!=e.xa&&(Bl(e,t.accessToken),e.dispatchEvent(new wl(\"tokenChanged\"))),Xl(e,\"refreshToken\",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(t=t.users,!t||!t.length)throw new N(\"internal-error\");t=t[0],Hl(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=rf(t),n=0;n<e.length;n++)$l(this,e[n]);Xl(this,\"isAnonymous\",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new wl(\"userReloaded\",{ed:t}))},e.Jc=function(t){return gi(\"firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead.\"),this.pb(t)},e.pb=function(t){var e=this,n=null;return lf(this,t.c(this.a,this.uid).then((function(t){return ef(e,t),n=sf(e,t,\"reauthenticate\"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return gi(\"firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead.\"),this.mb(t)},e.mb=function(t){var e=this,n=null;return lf(this,of(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=sf(e,t,\"link\"),af(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return lf(this,of(this,\"phone\").then((function(){return al(Ul(n),t,e,I(n.mb,n))})))},e.Kc=function(t,e){var n=this;return lf(this,Le().then((function(){return al(Ul(n),t,e,I(n.pb,n))})),!0)},e.xb=function(t){var e=this;return lf(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return ef(e,t),e.reload()})))},e.cd=function(t){var e=this;return lf(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return ef(e,t),e.reload()})))},e.yb=function(t){var e=this;return lf(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return ef(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ql(this);var e=this;return lf(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return ef(e,t),Xl(e,\"displayName\",t.displayName||null),Xl(e,\"photoURL\",t.photoUrl||null),G(e.providerData,(function(t){\"password\"===t.providerId&&(yi(t,\"displayName\",e.displayName),yi(t,\"photoURL\",e.photoURL))})),zl(e)})).then(Kl))},e.ad=function(t){var e=this;return lf(this,tf(this).then((function(n){return J(Yl(e),t)?eu(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(Yl(e),(function(t){n[t]||Jl(e,t)})),n[hs.PROVIDER_ID]||yi(e,\"phoneNumber\",null),zl(e)})):zl(e).then((function(){throw new N(\"no-such-provider\")}))})))},e.delete=function(){var t=this;return lf(this,this.I().then((function(e){return Bu(t.a,pu,{idToken:e})})).then((function(){t.dispatchEvent(new wl(\"userDeleted\"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel(\"app-deleted\");Ll(t,null),Fl(t,null),t.N=[],t.D=!0,ql(t),yi(t,\"refreshToken\",null),t.i&&Vh(t.i,t)}))},e.Cb=function(t,e){return!!(\"linkViaPopup\"==t&&(this.g||null)==e&&this.f||\"reauthViaPopup\"==t&&(this.g||null)==e&&this.f||\"linkViaRedirect\"==t&&(this.fa||null)==e||\"reauthViaRedirect\"==t&&(this.fa||null)==e)},e.la=function(t,e,n,r){\"linkViaPopup\"!=t&&\"reauthViaPopup\"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return\"linkViaPopup\"==t&&e==(this.g||null)?I(this.Hb,this):\"reauthViaPopup\"==t&&e==(this.g||null)?I(this.Ib,this):\"linkViaRedirect\"==t&&(this.fa||null)==e?I(this.Hb,this):\"reauthViaRedirect\"==t&&(this.fa||null)==e?I(this.Ib,this):null},e.Cc=function(t){var e=this;return uf(this,\"linkViaPopup\",t,(function(){return of(e,t.providerId).then((function(){return zl(e)}))}),!1)},e.Lc=function(t){return uf(this,\"reauthViaPopup\",t,(function(){return Le()}),!0)},e.Dc=function(t){var e=this;return cf(this,\"linkViaRedirect\",t,(function(){return of(e,t.providerId)}),!1)},e.Mc=function(t){return cf(this,\"reauthViaRedirect\",t,(function(){return Le()}),!0)},e.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return su(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=sf(i,t,\"link\"),af(i,t)})).then((function(){return o})),lf(this,n)},e.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,s=Le().then((function(){return Uo(au(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=sf(i,t,\"reauthenticate\"),ef(i,t),i.h=null,i.reload()})).then((function(){return o}));return lf(this,s,!0)},e.qb=function(t){var e=this,n=null;return lf(this,this.I().then((function(e){return n=e,\"undefined\"===typeof t||mt(t)?{}:ho(new to(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,r=null;return lf(this,this.I().then((function(t){return r=t,\"undefined\"===typeof e||mt(e)?{}:ho(new to(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return t=Uo(Le(t),n.uid).then((function(t){return e=sf(n,t,\"reauthenticate\"),ef(n,t),n.h=null,n.reload()})).then((function(){return e})),lf(this,t,!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&bt(t,this.metadata.v()),G(this.providerData,(function(e){t.providerData.push(_i(e))})),bt(t,this.O.v()),t};var mf={name:\"redirectUser\",F:\"session\"};function yf(t){return eh(t.b,mf,t.a)}function wf(t,e){return t.b.get(mf,t.a).then((function(t){return t&&e&&(t.authDomain=e),pf(t||{})}))}function bf(t){this.a=t,this.b=Jc(),this.c=null,this.f=Ef(this),this.b.addListener(Tf(\"local\"),this.a,I(this.g,this))}function _f(t,e){var n,r=[];for(n in Qc)Qc[n]!==e&&r.push(eh(t.b,Tf(Qc[n]),t.a));return r.push(eh(t.b,If,t.a)),Ue(r)}function Ef(t){var e=Tf(\"local\"),n=Tf(\"session\"),r=Tf(\"none\");return th(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(If,t.a).then((function(t){return t?Tf(t):e}))}))}))})).then((function(e){return t.c=e,_f(t,e.F)})).o((function(){t.c||(t.c=e)}))}bf.prototype.g=function(){var t=this,e=Tf(\"local\");Af(this,(function(){return Le().then((function(){return t.c&&\"local\"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return _f(t,\"local\").then((function(){t.c=e}))}))}))};var If={name:\"persistence\",F:\"session\"};function Tf(t){return{name:\"authUser\",F:t}}function Cf(t){return Af(t,(function(){return t.b.set(If,t.c.F,t.a)}))}function Sf(t,e){return Af(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Nf(t){return Af(t,(function(){return eh(t.b,t.c,t.a)}))}function kf(t,e){return Af(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),pf(t||{})}))}))}function Af(t,e){return t.f=t.f.then(e,e),t.f}function Of(t){if(this.l=!1,yi(this,\"settings\",new ol),yi(this,\"app\",t),!Wf(this).options||!Wf(this).options.apiKey)throw new N(\"invalid-api-key\");t=r.a.SDK_VERSION?Kr(r.a.SDK_VERSION):null,this.b=new Aa(Wf(this).options&&Wf(this).options.apiKey,x(A),t),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(I(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(I(this.yc,this)),Uf(this,null),this.i=new bf(Wf(this).options.apiKey+\":\"+Wf(this).name),this.B=new gf(Wf(this).options.apiKey+\":\"+Wf(this).name),this.Z=Qf(this,Vf(this)),this.h=Qf(this,qf(this)),this.aa=!1,this.oa=I(this.Xc,this),this.Ma=I(this.ca,this),this.xa=I(this.jc,this),this.ya=I(this.uc,this),this.za=I(this.vc,this),this.a=null,Lf(this),this.INTERNAL={},this.INTERNAL[\"delete\"]=I(this.delete,this),this.INTERNAL.logFramework=I(this.Ec,this),this.s=0,xn.call(this),xf(this),this.N=[]}function Rf(t){un.call(this,\"languageCodeChanged\"),this.g=t}function Pf(t){un.call(this,\"frameworkChanged\"),this.c=t}function xf(t){Object.defineProperty(t,\"lc\",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,\"ti\",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}function Df(t){return t.Zb||Me(new N(\"auth-domain-config-required\"))}function Lf(t){var e=Wf(t).options.authDomain,n=Wf(t).options.apiKey;e&&Jr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Qh(e,n,Wf(t).name),jh(t.a,t),zf(t)&&Gl(zf(t)),t.D){Gl(t.D);var r=t.D;r.va(t.ja()),Ll(r,t),r=t.D,Ml(r,t.N),Fl(r,t),t.D=null}return t.a}})))}function Mf(t){if(!Jr())return Me(new N(\"operation-not-supported-in-this-environment\"));var e=Df(t).then((function(){return t.a.pa()})).then((function(t){return t?bi(t):null}));return Qf(t,e)}function Ff(t,e){var n={};return n.apiKey=Wf(t).options.apiKey,n.authDomain=Wf(t).options.authDomain,n.appName=Wf(t).name,t.Z.then((function(){return df(n,e,t.B,t.Ea())})).then((function(e){return zf(t)&&e.uid==zf(t).uid?(Zl(zf(t),e),t.ca(e)):(Uf(t,e),Gl(e),t.ca(e))})).then((function(){Hf(t)}))}function Uf(t,e){zf(t)&&(Wl(zf(t),t.Ma),Tn(zf(t),\"tokenChanged\",t.xa),Tn(zf(t),\"userDeleted\",t.ya),Tn(zf(t),\"userInvalidated\",t.za),ql(zf(t))),e&&(e.R.push(t.Ma),bn(e,\"tokenChanged\",t.xa),bn(e,\"userDeleted\",t.ya),bn(e,\"userInvalidated\",t.za),0<t.s&&Vl(e)),yi(t,\"currentUser\",e),e&&(e.va(t.ja()),Ll(e,t),Ml(e,t.N),Fl(e,t))}function jf(t){var e=wf(t.B,Wf(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),yf(t.B)}));return Qf(t,e)}function Vf(t){var e=Wf(t).options.authDomain,n=jf(t).then((function(){return kf(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Sf(t.i,e).then((function(){return e}))})).o((function(n){return\"auth/network-request-failed\"==n.code?e:Nf(t.i)}))):null})).then((function(e){Uf(t,e||null)}));return Qf(t,n)}function qf(t){return t.Z.then((function(){return Mf(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Tf(\"local\"),e.a,t.oa)}}))}function Bf(t,e){var n=null,r=null;return Qf(t,e.then((function(e){return n=fs(e),r=To(e),Ff(t,e)}),(function(e){var n=null;throw e&&\"auth/multi-factor-auth-required\"===e.code&&(n=pl(e.v(),t,I(t.ic,t))),n||e})).then((function(){return bi({user:zf(t),credential:n,additionalUserInfo:r,operationType:\"signIn\"})})))}function Wf(t){return t.app}function zf(t){return t.currentUser}function Gf(t){return zf(t)&&zf(t)._lat||null}function Hf(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Gf(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Gf(t))}}function Kf(t,e){t.O.push(e),Qf(t,t.h.then((function(){!t.l&&J(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Gf(t)))})))}function Qf(t,e){return t.P.push(e),e.ma((function(){X(t.P,e)})),e}function Yf(){}function $f(){this.a={},this.b=1e12}bf.prototype.tb=function(t){var e=null,n=this;return Yc(t),Af(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,_f(n,t)})).then((function(){if(n.c=Tf(t),e)return n.b.set(n.c,e,n.a)})):Le()}))},S(Of,xn),S(Rf,un),S(Pf,un),e=Of.prototype,e.tb=function(t){return t=this.i.tb(t),Qf(this,t)},e.va=function(t){this.$===t||this.l||(this.$=t,Ma(this.b,this.$),this.dispatchEvent(new Rf(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=h.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),Fa(this.b,r.a.SDK_VERSION?Kr(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Pf(this.N))},e.Ea=function(){return et(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:Wf(this).options.apiKey,authDomain:Wf(this).options.authDomain,appName:Wf(this).name,currentUser:zf(this)&&zf(this).v()}},e.Cb=function(t,e){switch(t){case\"unknown\":case\"signInViaRedirect\":return!0;case\"signInViaPopup\":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,r){\"signInViaPopup\"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return\"signInViaRedirect\"==t||\"signInViaPopup\"==t&&this.g==e&&this.f?I(this.gc,this):null},e.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Bf(i,ou(i.b,o))}))},e.Vc=function(t){if(!Jr())return Me(new N(\"operation-not-supported-in-this-environment\"));var e=this,n=Io(t.providerId),i=ii(),o=null;(!ti()||Ur())&&Wf(this).options.authDomain&&t.isOAuthProvider&&(o=ac(Wf(this).options.authDomain,Wf(this).options.apiKey,Wf(this).name,\"signInViaPopup\",t,null,i,r.a.SDK_VERSION||null,null,null,this.S()));var s=Rr(o,n&&n.ta,n&&n.sa);return n=Df(this).then((function(n){return Wh(n,s,\"signInViaPopup\",t,i,!!o,e.S())})).then((function(){return new ke((function(t,n){e.la(\"signInViaPopup\",null,new N(\"cancelled-popup-request\"),e.g),e.f=t,e.w=n,e.g=i,e.c=Hh(e.a,e,\"signInViaPopup\",s,i)}))})).then((function(t){return s&&Or(s),t?bi(t):null})).o((function(t){throw s&&Or(s),t})),Qf(this,n)},e.Wc=function(t){if(!Jr())return Me(new N(\"operation-not-supported-in-this-environment\"));var e=this,n=Df(this).then((function(){return Cf(e.i)})).then((function(){return Gh(e.a,\"signInViaRedirect\",t,void 0,e.S())}));return Qf(this,n)},e.pa=function(){var t=this;return Mf(this).then((function(e){return t.a&&Jh(t.a.b),e})).o((function(e){throw t.a&&Jh(t.a.b),e}))},e.bd=function(t){if(!t)return Me(new N(\"null-user\"));if(this.R!=t.tenantId)return Me(new N(\"tenant-id-mismatch\"));var e=this,n={};n.apiKey=Wf(this).options.apiKey,n.authDomain=Wf(this).options.authDomain,n.appName=Wf(this).name;var r=vf(t,n,e.B,e.Ea());return Qf(this,this.h.then((function(){if(Wf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return zf(e)&&t.uid==zf(e).uid?(Zl(zf(e),t),e.ca(t)):(Uf(e,r),Gl(r),e.ca(r))})).then((function(){Hf(e)})))},e.wb=function(){var t=this,e=this.h.then((function(){return t.a&&Jh(t.a.b),zf(t)?(Uf(t,null),Nf(t.i).then((function(){Hf(t)}))):Le()}));return Qf(this,e)},e.Xc=function(){var t=this;return kf(this.i,Wf(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=zf(t)&&e){n=zf(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&\"\"!==n&&void 0!==r&&null!==r&&\"\"!==r&&n==r}if(n)return Zl(zf(t),e),zf(t).I();(zf(t)||e)&&(Uf(t,e),e&&(Gl(e),e.ga=t.B),t.a&&jh(t.a,t),Hf(t))}}))},e.ca=function(t){return Sf(this.i,t)},e.jc=function(){Hf(this),this.ca(zf(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return Bf(e,Le(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(zf(e))}))},e.yc=function(t){var e=this;Kf(this,(function(){t.next(zf(e))}))},e.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){g(t)?t(zf(r)):g(t.next)&&t.next(zf(r))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),g(t)?t(zf(r)):g(t.next)&&t.next(zf(r))})),this.ac(t,e,n)},e.kc=function(t){var e=this,n=this.h.then((function(){return zf(e)?zf(e).I(t).then((function(t){return{accessToken:t}})):null}));return Qf(this,n)},e.Rc=function(t){var e=this;return this.h.then((function(){return Bf(e,Bu(e.b,Mu,{token:t}))})).then((function(t){var n=t.user;return Xl(n,\"isAnonymous\",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return Bf(n,Bu(n.b,Fu,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return Bf(n,Bu(n.b,lu,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return Bf(e,t.ia(e.b))}))},e.Qc=function(t){return gi(\"firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead.\"),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=zf(t);if(e&&e.isAnonymous){var n=bi({providerId:null,isNewUser:!1});return bi({user:e,credential:null,additionalUserInfo:n,operationType:\"signIn\"})}return Bf(t,t.b.vb()).then((function(e){var n=e.user;return Xl(n,\"isAnonymous\",!0),t.ca(n),e}))}))},e.getUid=function(){return zf(this)&&zf(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&zf(this)&&Vl(zf(this))},e.Nc=function(t){var e=this;G(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&zf(this)&&ql(zf(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),Qf(this,this.h.then((function(){e.l||J(e.m,t)&&t(Gf(e))})))},e.removeAuthTokenListener=function(t){Z(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel(\"app-deleted\");return this.P=[],this.i&&(t=this.i,t.b.removeListener(Tf(\"local\"),t.a,this.oa)),this.a&&(Vh(this.a,this),Jh(this.a.b)),Promise.resolve()},e.fc=function(t){return Qf(this,Ha(this.b,t))},e.zc=function(t){return!!ss(t)},e.sb=function(t,e){var n=this;return Qf(this,Le().then((function(){var t=new to(e);if(!t.c)throw new N(\"argument-error\",ro+\" must be true when sending sign in link to email\");return ho(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return Qf(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return Qf(this,this.b.Pa(t).then((function(t){return new Ri(t)})))},e.fb=function(t){return Qf(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return Qf(this,Le().then((function(){return\"undefined\"===typeof e||mt(e)?{}:ho(new to(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return Qf(this,al(this,t,e,I(this.Ya,this)))},e.Tc=function(t,e){var n=this;return Qf(this,Le().then((function(){var r=e||Cr(),i=os(t,r);if(r=ss(r),!r)throw new N(\"argument-error\",\"Invalid email link!\");if(r.tenantId!==n.S())throw new N(\"tenant-id-mismatch\");return n.Ya(i)})))},Yf.prototype.render=function(){},Yf.prototype.reset=function(){},Yf.prototype.getResponse=function(){},Yf.prototype.execute=function(){};var Jf=null;function Xf(t,e){return(e=Zf(e))&&t.a[e]||null}function Zf(t){return(t=\"undefined\"===typeof t?1e12:t)?t.toString():null}function tp(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h=\"invisible\"!==this.c.size,this.f=fe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():bn(this.f,\"click\",this.i)}function ep(t){if(t.g)throw Error(\"reCAPTCHA mock was already deleted!\")}function np(){}function rp(){}$f.prototype.render=function(t,e){return this.a[this.b.toString()]=new tp(t,e),this.b++},$f.prototype.reset=function(t){var e=Xf(this,t);t=Zf(t),e&&t&&(e.delete(),delete this.a[t])},$f.prototype.getResponse=function(t){return(t=Xf(this,t))?t.getResponse():null},$f.prototype.execute=function(t){(t=Xf(this,t))&&t.execute()},tp.prototype.getResponse=function(){return ep(this),this.b},tp.prototype.execute=function(){ep(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=Br();var e=t.c.callback,n=t.c[\"expired-callback\"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},tp.prototype.delete=function(){ep(this),this.g=!0,clearTimeout(this.a),this.a=null,Tn(this.f,\"click\",this.i)},yi(np,\"FACTOR_ID\",\"phone\"),rp.prototype.g=function(){return Jf||(Jf=new $f),Le(Jf)},rp.prototype.c=function(){};var ip=null;function op(){this.b=h.grecaptcha?1/0:0,this.f=null,this.a=\"__rcb\"+Math.floor(1e6*Math.random()).toString()}var sp=new Et(Ct,\"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}\"),ap=new ai(3e4,6e4);op.prototype.g=function(t){var e=this;return new ke((function(n,r){var i=setTimeout((function(){r(new N(\"network-request-failed\"))}),ap.get());if(!h.grecaptcha||t!==e.f&&!e.b){h[e.a]=function(){if(h.grecaptcha){e.f=t;var o=h.grecaptcha.render;h.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(h.grecaptcha)}else clearTimeout(i),r(new N(\"internal-error\"));delete h[e.a]};var o=At(sp,{onload:e.a,hl:t||\"\"});Le(_a(o)).o((function(){clearTimeout(i),r(new N(\"internal-error\",\"Unable to load external reCAPTCHA dependencies!\"))}))}else clearTimeout(i),n(h.grecaptcha)}))},op.prototype.c=function(){this.b--};var up=null;function cp(t,e,n,r,i,o,s){if(yi(this,\"type\",\"recaptcha\"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(ip||(ip=new rp),s=ip):(up||(up=new op),s=up),this.m=s,this.a=n||{theme:\"light\",type:\"image\"},this.h=[],this.a[fp])throw new N(\"argument-error\",\"sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.\");if(this.i=\"invisible\"===this.a[pp],!h.document)throw new N(\"operation-not-supported-in-this-environment\",\"RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.\");if(!fe(e)||!this.i&&fe(e).hasChildNodes())throw new N(\"argument-error\",\"reCAPTCHA container is either not found or already contains inner elements!\");this.s=new Aa(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var u=this.a[hp];this.a[hp]=function(t){if(dp(a,t),\"function\"===typeof u)u(t);else if(\"string\"===typeof u){var e=Yr(u,h);\"function\"===typeof e&&e(t)}};var c=this.a[lp];this.a[lp]=function(){if(dp(a,null),\"function\"===typeof c)c();else if(\"string\"===typeof c){var t=Yr(c,h);\"function\"===typeof t&&t()}}}var hp=\"callback\",lp=\"expired-callback\",fp=\"sitekey\",pp=\"size\";function dp(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function vp(t,e){Z(t.l,(function(t){return t==e}))}function gp(t,e){return t.h.push(e),e.ma((function(){X(t.h,e)})),e}function mp(t){if(t.D)throw new N(\"internal-error\",\"RecaptchaVerifier instance has been destroyed.\")}function yp(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new N(\"argument-error\",\"No firebase.app.App instance is currently initialized.\")}if(!this.b.options||!this.b.options.apiKey)throw new N(\"invalid-api-key\");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Kr(r.a.SDK_VERSION,s):null,cp.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,x(A),i)}function wp(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new N(\"internal-error\",\"Argument validator encountered a required argument after an optional argument.\");i++}if(o=e.length,n.length<i||o<n.length)r=\"Expected \"+(i==o?1==i?\"1 argument\":i+\" arguments\":i+\"-\"+o+\" arguments\")+\" but got \"+n.length+\".\";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=bp.length)throw new N(\"internal-error\",\"Argument validator received an unsupported number of arguments.\");n=bp[i],r=(r?\"\":n+\" argument \")+(e.name?'\"'+e.name+'\" ':\"\")+\"must be \"+e.J+\".\";break t}r=null}}if(r)throw new N(\"argument-error\",t+\" failed: \"+r)}e=cp.prototype,e.Ga=function(){var t=this;return this.f?this.f:this.f=gp(this,Le().then((function(){if(Xr()&&!jr())return Lr();throw new N(\"operation-not-supported-in-this-environment\",\"RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.\")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Bu(t.s,Cu,{})})).then((function(e){t.a[fp]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){mp(this);var t=this;return gp(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=fe(e);e=me(\"DIV\"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){mp(this);var t=this;return gp(this,this.render().then((function(e){return new ke((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(vp(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){mp(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){mp(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel(\"RecaptchaVerifier instance has been destroyed.\");if(!this.i){t=fe(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},S(yp,cp);var bp=\"First Second Third Fourth Fifth Sixth Seventh Eighth Ninth\".split(\" \");function _p(t,e){return{name:t||\"\",J:\"a valid string\",optional:!!e,K:function(t){return\"string\"===typeof t}}}function Ep(t,e){return{name:t||\"\",J:\"a boolean\",optional:!!e,K:function(t){return\"boolean\"===typeof t}}}function Ip(t,e){return{name:t||\"\",J:\"a valid object\",optional:!!e,K:m}}function Tp(t,e){return{name:t||\"\",J:\"a function\",optional:!!e,K:g}}function Cp(t,e){return{name:t||\"\",J:\"null\",optional:!!e,K:function(t){return null===t}}}function Sp(){return{name:\"\",J:\"an HTML element\",optional:!1,K:function(t){return!!(t&&t instanceof Element)}}}function Np(){return{name:\"auth\",J:\"an instance of Firebase Auth\",optional:!0,K:function(t){return!!(t&&t instanceof Of)}}}function kp(){return{name:\"app\",J:\"an instance of Firebase App\",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}}function Ap(t){return{name:t?t+\"Credential\":\"credential\",J:t?\"a valid \"+t+\" credential\":\"a valid credential\",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Op(){return{name:\"multiFactorAssertion\",J:\"a valid multiFactorAssertion\",optional:!1,K:function(t){return!!t&&!!t.ob}}}function Rp(){return{name:\"authProvider\",J:\"a valid Auth provider\",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty(\"isOAuthProvider\"))}}}function Pp(t,e){return m(t)&&\"string\"===typeof t.type&&t.type===e&&g(t.Fa)}function xp(t){return m(t)&&\"string\"===typeof t.uid}function Dp(){return{name:\"applicationVerifier\",J:\"an implementation of firebase.auth.ApplicationVerifier\",optional:!1,K:function(t){return!(!t||\"string\"!==typeof t.type||!g(t.verify))}}}function Lp(t,e,n,r){return{name:n||\"\",J:t.J+\" or \"+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Mp(t,e){for(var n in e){var r=e[n].name;t[r]=jp(r,t[n],e[n].j)}}function Fp(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T((function(t){return this[t]}),n),set:T((function(t,e,n,r){wp(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Up(t,e,n,r){t[e]=jp(e,n,r)}function jp(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return wp(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=Vp(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function Vp(t){return t=t.split(\".\"),t[t.length-1]}Mp(Of.prototype,{fb:{name:\"applyActionCode\",j:[_p(\"code\")]},Pa:{name:\"checkActionCode\",j:[_p(\"code\")]},jb:{name:\"confirmPasswordReset\",j:[_p(\"code\"),_p(\"newPassword\")]},cc:{name:\"createUserWithEmailAndPassword\",j:[_p(\"email\"),_p(\"password\")]},fc:{name:\"fetchSignInMethodsForEmail\",j:[_p(\"email\")]},pa:{name:\"getRedirectResult\",j:[]},zc:{name:\"isSignInWithEmailLink\",j:[_p(\"emailLink\")]},Fc:{name:\"onAuthStateChanged\",j:[Lp(Ip(),Tp(),\"nextOrObserver\"),Tp(\"opt_error\",!0),Tp(\"opt_completed\",!0)]},Gc:{name:\"onIdTokenChanged\",j:[Lp(Ip(),Tp(),\"nextOrObserver\"),Tp(\"opt_error\",!0),Tp(\"opt_completed\",!0)]},rb:{name:\"sendPasswordResetEmail\",j:[_p(\"email\"),Lp(Ip(\"opt_actionCodeSettings\",!0),Cp(null,!0),\"opt_actionCodeSettings\",!0)]},sb:{name:\"sendSignInLinkToEmail\",j:[_p(\"email\"),Ip(\"actionCodeSettings\")]},tb:{name:\"setPersistence\",j:[_p(\"persistence\")]},Qc:{name:\"signInAndRetrieveDataWithCredential\",j:[Ap()]},vb:{name:\"signInAnonymously\",j:[]},Ya:{name:\"signInWithCredential\",j:[Ap()]},Rc:{name:\"signInWithCustomToken\",j:[_p(\"token\")]},Sc:{name:\"signInWithEmailAndPassword\",j:[_p(\"email\"),_p(\"password\")]},Tc:{name:\"signInWithEmailLink\",j:[_p(\"email\"),_p(\"emailLink\",!0)]},Uc:{name:\"signInWithPhoneNumber\",j:[_p(\"phoneNumber\"),Dp()]},Vc:{name:\"signInWithPopup\",j:[Rp()]},Wc:{name:\"signInWithRedirect\",j:[Rp()]},bd:{name:\"updateCurrentUser\",j:[Lp(function(t){return{name:\"user\",J:\"an instance of Firebase User\",optional:!!t,K:function(t){return!!(t&&t instanceof Dl)}}}(),Cp(),\"user\")]},wb:{name:\"signOut\",j:[]},toJSON:{name:\"toJSON\",j:[_p(null,!0)]},dd:{name:\"useDeviceLanguage\",j:[]},fd:{name:\"verifyPasswordResetCode\",j:[_p(\"code\")]}}),Fp(Of.prototype,{lc:{name:\"languageCode\",gb:Lp(_p(),Cp(),\"languageCode\")},ti:{name:\"tenantId\",gb:Lp(_p(),Cp(),\"tenantId\")}}),Of.Persistence=Qc,Of.Persistence.LOCAL=\"local\",Of.Persistence.SESSION=\"session\",Of.Persistence.NONE=\"none\",Mp(Dl.prototype,{delete:{name:\"delete\",j:[]},mc:{name:\"getIdTokenResult\",j:[Ep(\"opt_forceRefresh\",!0)]},I:{name:\"getIdToken\",j:[Ep(\"opt_forceRefresh\",!0)]},Ac:{name:\"linkAndRetrieveDataWithCredential\",j:[Ap()]},mb:{name:\"linkWithCredential\",j:[Ap()]},Bc:{name:\"linkWithPhoneNumber\",j:[_p(\"phoneNumber\"),Dp()]},Cc:{name:\"linkWithPopup\",j:[Rp()]},Dc:{name:\"linkWithRedirect\",j:[Rp()]},Jc:{name:\"reauthenticateAndRetrieveDataWithCredential\",j:[Ap()]},pb:{name:\"reauthenticateWithCredential\",j:[Ap()]},Kc:{name:\"reauthenticateWithPhoneNumber\",j:[_p(\"phoneNumber\"),Dp()]},Lc:{name:\"reauthenticateWithPopup\",j:[Rp()]},Mc:{name:\"reauthenticateWithRedirect\",j:[Rp()]},reload:{name:\"reload\",j:[]},qb:{name:\"sendEmailVerification\",j:[Lp(Ip(\"opt_actionCodeSettings\",!0),Cp(null,!0),\"opt_actionCodeSettings\",!0)]},toJSON:{name:\"toJSON\",j:[_p(null,!0)]},ad:{name:\"unlink\",j:[_p(\"provider\")]},xb:{name:\"updateEmail\",j:[_p(\"email\")]},yb:{name:\"updatePassword\",j:[_p(\"password\")]},cd:{name:\"updatePhoneNumber\",j:[Ap(\"phone\")]},zb:{name:\"updateProfile\",j:[Ip(\"profile\")]},Ab:{name:\"verifyBeforeUpdateEmail\",j:[_p(\"email\"),Lp(Ip(\"opt_actionCodeSettings\",!0),Cp(null,!0),\"opt_actionCodeSettings\",!0)]}}),Mp($f.prototype,{execute:{name:\"execute\"},render:{name:\"render\"},reset:{name:\"reset\"},getResponse:{name:\"getResponse\"}}),Mp(Yf.prototype,{execute:{name:\"execute\"},render:{name:\"render\"},reset:{name:\"reset\"},getResponse:{name:\"getResponse\"}}),Mp(ke.prototype,{ma:{name:\"finally\"},o:{name:\"catch\"},then:{name:\"then\"}}),Fp(ol.prototype,{appVerificationDisabled:{name:\"appVerificationDisabledForTesting\",gb:Ep(\"appVerificationDisabledForTesting\")}}),Mp(sl.prototype,{confirm:{name:\"confirm\",j:[_p(\"verificationCode\")]}}),Up(Fo,\"fromJSON\",(function(t){t=\"string\"===typeof t?JSON.parse(t):t;for(var e,n=[zo,rs,us,qo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Lp(_p(),Ip(),\"json\")]),Up(is,\"credential\",(function(t,e){return new ns(t,e)}),[_p(\"email\"),_p(\"password\")]),Mp(ns.prototype,{v:{name:\"toJSON\",j:[_p(null,!0)]}}),Mp(Qo.prototype,{Aa:{name:\"addScope\",j:[_p(\"scope\")]},Ia:{name:\"setCustomParameters\",j:[Ip(\"customOAuthParameters\")]}}),Up(Qo,\"credential\",Yo,[Lp(_p(),Ip(),\"token\")]),Up(is,\"credentialWithLink\",os,[_p(\"email\"),_p(\"emailLink\")]),Mp($o.prototype,{Aa:{name:\"addScope\",j:[_p(\"scope\")]},Ia:{name:\"setCustomParameters\",j:[Ip(\"customOAuthParameters\")]}}),Up($o,\"credential\",Jo,[Lp(_p(),Ip(),\"token\")]),Mp(Xo.prototype,{Aa:{name:\"addScope\",j:[_p(\"scope\")]},Ia:{name:\"setCustomParameters\",j:[Ip(\"customOAuthParameters\")]}}),Up(Xo,\"credential\",Zo,[Lp(_p(),Lp(Ip(),Cp()),\"idToken\"),Lp(_p(),Cp(),\"accessToken\",!0)]),Mp(ts.prototype,{Ia:{name:\"setCustomParameters\",j:[Ip(\"customOAuthParameters\")]}}),Up(ts,\"credential\",es,[Lp(_p(),Ip(),\"token\"),_p(\"secret\",!0)]),Mp(Ko.prototype,{Aa:{name:\"addScope\",j:[_p(\"scope\")]},credential:{name:\"credential\",j:[Lp(_p(),Lp(Ip(),Cp()),\"optionsOrIdToken\"),Lp(_p(),Cp(),\"accessToken\",!0)]},Ia:{name:\"setCustomParameters\",j:[Ip(\"customOAuthParameters\")]}}),Mp(Bo.prototype,{v:{name:\"toJSON\",j:[_p(null,!0)]}}),Mp(jo.prototype,{v:{name:\"toJSON\",j:[_p(null,!0)]}}),Up(hs,\"credential\",ls,[_p(\"verificationId\"),_p(\"verificationCode\")]),Mp(hs.prototype,{cb:{name:\"verifyPhoneNumber\",j:[Lp(_p(),function(t,e){return{name:t||\"phoneInfoOptions\",J:\"valid phone info options\",optional:!!e,K:function(t){return!!t&&(t.session&&t.phoneNumber?Pp(t.session,Lo)&&\"string\"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Pp(t.session,Mo)&&xp(t.multiFactorHint):t.session&&t.multiFactorUid?Pp(t.session,Mo)&&\"string\"===typeof t.multiFactorUid:!!t.phoneNumber&&\"string\"===typeof t.phoneNumber)}}}(),\"phoneInfoOptions\"),Dp()]}}),Mp(as.prototype,{v:{name:\"toJSON\",j:[_p(null,!0)]}}),Mp(N.prototype,{toJSON:{name:\"toJSON\",j:[_p(null,!0)]}}),Mp(_s.prototype,{toJSON:{name:\"toJSON\",j:[_p(null,!0)]}}),Mp(bs.prototype,{toJSON:{name:\"toJSON\",j:[_p(null,!0)]}}),Mp(fl.prototype,{toJSON:{name:\"toJSON\",j:[_p(null,!0)]}}),Mp(cl.prototype,{Pc:{name:\"resolveSignIn\",j:[Op()]}}),Mp(bl.prototype,{Ob:{name:\"getSession\",j:[]},dc:{name:\"enroll\",j:[Op(),_p(\"displayName\",!0)]},$c:{name:\"unenroll\",j:[Lp({name:\"multiFactorInfo\",J:\"a valid multiFactorInfo\",optional:!1,K:xp},_p(),\"multiFactorInfoIdentifier\")]}}),Mp(yp.prototype,{clear:{name:\"clear\",j:[]},render:{name:\"render\",j:[]},verify:{name:\"verify\",j:[]}}),Up(Gi,\"parseLink\",Zi,[_p(\"link\")]),Up(np,\"assertion\",(function(t){return new yl(t)}),[Ap(\"phone\")]),function(){if(\"undefined\"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error(\"Cannot find the firebase namespace; be sure to include firebase-app.js before this library.\");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xi,PASSWORD_RESET:\"PASSWORD_RESET\",RECOVER_EMAIL:\"RECOVER_EMAIL\",REVERT_SECOND_FACTOR_ADDITION:Pi,VERIFY_AND_CHANGE_EMAIL:Di,VERIFY_EMAIL:\"VERIFY_EMAIL\"}},Auth:Of,AuthCredential:Fo,Error:N};Up(t,\"EmailAuthProvider\",is,[]),Up(t,\"FacebookAuthProvider\",Qo,[]),Up(t,\"GithubAuthProvider\",$o,[]),Up(t,\"GoogleAuthProvider\",Xo,[]),Up(t,\"TwitterAuthProvider\",ts,[]),Up(t,\"OAuthProvider\",Ko,[_p(\"providerId\")]),Up(t,\"SAMLAuthProvider\",Ho,[_p(\"providerId\")]),Up(t,\"PhoneAuthProvider\",hs,[Np()]),Up(t,\"RecaptchaVerifier\",yp,[Lp(_p(),Sp(),\"recaptchaContainer\"),Ip(\"recaptchaParameters\",!0),kp()]),Up(t,\"ActionCodeURL\",Gi,[]),Up(t,\"PhoneMultiFactorGenerator\",np,[]),r.a.INTERNAL.registerComponent({name:\"auth\",instanceFactory:function(t){return t=t.getProvider(\"app\").getImmediate(),new Of(t)},multipleInstances:!1,serviceProps:t,instantiationMode:\"LAZY\",type:\"PUBLIC\"}),r.a.INTERNAL.registerComponent({name:\"auth-internal\",instanceFactory:function(t){return t=t.getProvider(\"auth\").getImmediate(),{getUid:I(t.getUid,t),getToken:I(t.kc,t),addAuthTokenListener:I(t.bc,t),removeAuthTokenListener:I(t.Nc,t)}},multipleInstances:!1,instantiationMode:\"LAZY\",type:\"PRIVATE\"}),r.a.registerVersion(\"@firebase/auth\",\"0.14.2\"),r.a.INTERNAL.extendNamespace({User:Dl})}()}).apply(\"undefined\"!==typeof t?t:\"undefined\"!==typeof self?self:\"undefined\"!==typeof window?window:{})}.call(this,n(\"c8ba\"))},ba87:function(t,e,n){\"use strict\";n(\"a9e3\");var r=n(\"5530\"),i=(n(\"1b2c\"),n(\"a9ad\")),o=n(\"7560\"),s=n(\"58df\"),a=n(\"80d2\"),u=Object(s[\"a\"])(o[\"a\"]).extend({name:\"v-label\",functional:!0,props:{absolute:Boolean,color:{type:String,default:\"primary\"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:\"auto\"},value:Boolean},render:function(t,e){var n=e.children,s=e.listeners,u=e.props,c={staticClass:\"v-label\",class:Object(r[\"a\"])({\"v-label--active\":u.value,\"v-label--is-disabled\":u.disabled},Object(o[\"b\"])(e)),attrs:{for:u.for,\"aria-hidden\":!u.for},on:s,style:{left:Object(a[\"d\"])(u.left),right:Object(a[\"d\"])(u.right),position:u.absolute?\"absolute\":\"relative\"},ref:\"label\"};return t(\"label\",i[\"a\"].options.methods.setTextColor(u.focused&&u.color,c),n)}});e[\"a\"]=u},c23d:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i,o=n(\"9ab4\"),s=n(\"cd51\"),a=n(\"4be4\"),u=n(\"abfd\"),c=(r={},r[\"no-app\"]=\"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()\",r[\"bad-app-name\"]=\"Illegal App name: '{$appName}\",r[\"duplicate-app\"]=\"Firebase App named '{$appName}' already exists\",r[\"app-deleted\"]=\"Firebase App named '{$appName}' already deleted\",r[\"invalid-app-argument\"]=\"firebase.{$appName}() takes either no argument or a Firebase App instance.\",r[\"invalid-log-argument\"]=\"First argument to `onLog` must be null or a function.\",r),h=new s.ErrorFactory(\"app\",\"Firebase\",c),l=\"@firebase/app\",f=\"0.6.1\",p=\"@firebase/analytics\",d=\"@firebase/auth\",v=\"@firebase/database\",g=\"@firebase/functions\",m=\"@firebase/installations\",y=\"@firebase/messaging\",w=\"@firebase/performance\",b=\"@firebase/remote-config\",_=\"@firebase/storage\",E=\"@firebase/firestore\",I=\"firebase-wrapper\",T=\"[DEFAULT]\",C=(i={},i[l]=\"fire-core\",i[p]=\"fire-analytics\",i[d]=\"fire-auth\",i[v]=\"fire-rtdb\",i[g]=\"fire-fn\",i[m]=\"fire-iid\",i[y]=\"fire-fcm\",i[w]=\"fire-perf\",i[b]=\"fire-rc\",i[_]=\"fire-gcs\",i[E]=\"fire-fst\",i[\"fire-js\"]=\"fire-js\",i[I]=\"fire-js-all\",i),S=new u.Logger(\"@firebase/app\"),N=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component(\"app\",(function(){return u}),\"PUBLIC\"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var l=h.value;this._addComponent(l)}}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,\"automaticDataCollectionEnabled\",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"options\",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=T),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=T),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){S.debug(\"Component \"+t.name+\" failed to register with FirebaseApp \"+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create(\"app-deleted\",{appName:this.name_})},t}();N.prototype.name&&N.prototype.options||N.prototype.delete||console.log(\"dc\");var k=\"7.13.2\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function A(t){var e={},n=new Map,r={__esModule:!0,initializeApp:l,app:c,registerVersion:d,setLogLevel:u.setLogLevel,onLog:v,apps:null,SDK_VERSION:k,INTERNAL:{registerComponent:p,removeApp:i,components:n,useAsService:g}};function i(t){delete e[t]}function c(t){if(t=t||T,!s.contains(e,t))throw h.create(\"no-app\",{appName:t});return e[t]}function l(n,i){if(void 0===i&&(i={}),\"object\"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=T);var u=a.name;if(\"string\"!==typeof u||!u)throw h.create(\"bad-app-name\",{appName:String(u)});if(s.contains(e,u))throw h.create(\"duplicate-app\",{appName:u});var c=new t(n,a,r);return e[u]=c,c}function f(){return Object.keys(e).map((function(t){return e[t]}))}function p(i){var a,u,l=i.name;if(n.has(l))return S.debug(\"There were multiple attempts to register component \"+l+\".\"),\"PUBLIC\"===i.type?r[l]:null;if(n.set(l,i),\"PUBLIC\"===i.type){var f=function(t){if(void 0===t&&(t=c()),\"function\"!==typeof t[l])throw h.create(\"invalid-app-argument\",{appName:l});return t[l]()};void 0!==i.serviceProps&&s.deepExtend(f,i.serviceProps),r[l]=f,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,l);return n.apply(this,i.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),d=p.next();!d.done;d=p.next()){var v=d.value;e[v]._addComponent(i)}}catch(g){a={error:g}}finally{try{d&&!d.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return\"PUBLIC\"===i.type?r[l]:null}function d(t,e,n){var r,i=null!==(r=C[t])&&void 0!==r?r:t;n&&(i+=\"-\"+n);var o=i.match(/\\s|\\//),s=e.match(/\\s|\\//);if(o||s){var u=['Unable to register library \"'+i+'\" with version \"'+e+'\":'];return o&&u.push('library name \"'+i+'\" contains illegal characters (whitespace or \"/\")'),o&&s&&u.push(\"and\"),s&&u.push('version name \"'+e+'\" contains illegal characters (whitespace or \"/\")'),void S.warn(u.join(\" \"))}p(new a.Component(i+\"-version\",(function(){return{library:i,version:e}}),\"VERSION\"))}function v(t,e){if(null!==t&&\"function\"!==typeof t)throw h.create(\"invalid-log-argument\",{appName:name});u.setUserLogHandler(t,e)}function g(t,e){if(\"serverAuth\"===e)return null;var n=e;return n}return r[\"default\"]=r,Object.defineProperty(r,\"apps\",{get:f}),c[\"App\"]=t,r}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function O(){var t=A(N);function e(e){s.deepExtend(t,e)}return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:O,extendNamespace:e,createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}var R=O(),P=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(x(t)){var e=t.getImmediate();return e.library+\"/\"+e.version}return null})).filter((function(t){return t})).join(\" \")},t}();\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function x(t){var e=t.getComponent();return\"VERSION\"===(null===e||void 0===e?void 0:e.type)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function D(t,e){t.INTERNAL.registerComponent(new a.Component(\"platform-logger\",(function(t){return new P(t)}),\"PRIVATE\")),t.registerVersion(l,f,e),t.registerVersion(\"fire-js\",\"\")}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */if(s.isBrowser()&&void 0!==self.firebase){S.warn(\"\\n    Warning: Firebase is already defined in the global scope. Please make sure\\n    Firebase library is only loaded once.\\n  \");var L=self.firebase.SDK_VERSION;L&&L.indexOf(\"LITE\")>=0&&S.warn(\"\\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\\n    \")}var M=R.initializeApp;R.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&S.warn('\\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\\n      run in a Node environment.  If running in a Node environment, make sure you\\n      are using the bundle specified by the \"main\" field in package.json.\\n      \\n      If you are using Webpack, you can specify \"main\" as the first item in\\n      \"resolve.mainFields\":\\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\\n      \\n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify \"main\"\\n      as the first item in \"mainFields\", e.g. [\\'main\\', \\'module\\'].\\n      https://github.com/rollup/rollup-plugin-node-resolve\\n      '),M.apply(void 0,t)};var F=R;D(F),e.default=F,e.firebase=F},c37a:function(t,e,n){\"use strict\";n(\"99af\"),n(\"4de4\"),n(\"d81d\"),n(\"a9e3\"),n(\"ac1f\"),n(\"1276\");var r=n(\"5530\"),i=(n(\"d191\"),n(\"9d26\")),o=n(\"ba87\"),s=(n(\"8ff2\"),n(\"a9ad\")),a=n(\"7560\"),u=n(\"58df\"),c=n(\"80d2\"),h=Object(u[\"a\"])(s[\"a\"],a[\"a\"]).extend({name:\"v-messages\",props:{value:{type:Array,default:function(){return[]}}},methods:{genChildren:function(){return this.$createElement(\"transition-group\",{staticClass:\"v-messages__wrapper\",attrs:{name:\"message-transition\",tag:\"div\"}},this.value.map(this.genMessage))},genMessage:function(t,e){return this.$createElement(\"div\",{staticClass:\"v-messages__message\",key:e},Object(c[\"k\"])(this,\"default\",{message:t,key:e})||[t])}},render:function(t){return t(\"div\",this.setTextColor(this.color,{staticClass:\"v-messages\",class:this.themeClasses}),[this.genChildren()])}}),l=h,f=n(\"7e2b\"),p=n(\"38cb\"),d=n(\"d9f7\"),v=Object(u[\"a\"])(f[\"a\"],p[\"a\"]),g=v.extend().extend({name:\"v-input\",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:\"\"},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data:function(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes:function(){return Object(r[\"a\"])({\"v-input--has-state\":this.hasState,\"v-input--hide-details\":!this.showDetails,\"v-input--is-label-active\":this.isLabelActive,\"v-input--is-dirty\":this.isDirty,\"v-input--is-disabled\":this.disabled,\"v-input--is-focused\":this.isFocused,\"v-input--is-loading\":!1!==this.loading&&null!=this.loading,\"v-input--is-readonly\":this.readonly,\"v-input--dense\":this.dense},this.themeClasses)},computedId:function(){return this.id||\"input-\".concat(this._uid)},hasDetails:function(){return this.messagesToDisplay.length>0},hasHint:function(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel:function(){return!(!this.$slots.label&&!this.label)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty:function(){return!!this.lazyValue},isDisabled:function(){return this.disabled||this.readonly},isLabelActive:function(){return this.isDirty},messagesToDisplay:function(){var t=this;return this.hasHint?[this.hint]:this.hasMessages?this.validations.map((function(e){if(\"string\"===typeof e)return e;var n=e(t.internalValue);return\"string\"===typeof n?n:\"\"})).filter((function(t){return\"\"!==t})):[]},showDetails:function(){return!1===this.hideDetails||\"auto\"===this.hideDetails&&this.hasDetails}},watch:{value:function(t){this.lazyValue=t}},beforeCreate:function(){this.$_modelEvent=this.$options.model&&this.$options.model.event||\"input\"},methods:{genContent:function(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl:function(){return this.$createElement(\"div\",{staticClass:\"v-input__control\"},[this.genInputSlot(),this.genMessages()])},genDefaultSlot:function(){return[this.genLabel(),this.$slots.default]},genIcon:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this[\"\".concat(t,\"Icon\")],s=\"click:\".concat(Object(c[\"n\"])(t)),a=!(!this.listeners$[s]&&!e),u=Object(d[\"a\"])({attrs:{\"aria-label\":a?Object(c[\"n\"])(t).split(\"-\")[0]+\" icon\":void 0,color:this.validationState,dark:this.dark,disabled:this.disabled,light:this.light},on:a?{click:function(t){t.preventDefault(),t.stopPropagation(),n.$emit(s,t),e&&e(t)},mouseup:function(t){t.preventDefault(),t.stopPropagation()}}:void 0},r);return this.$createElement(\"div\",{staticClass:\"v-input__icon\",class:t?\"v-input__icon--\".concat(Object(c[\"n\"])(t)):void 0},[this.$createElement(i[\"a\"],u,o)])},genInputSlot:function(){return this.$createElement(\"div\",this.setBackgroundColor(this.backgroundColor,{staticClass:\"v-input__slot\",style:{height:Object(c[\"d\"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:\"input-slot\"}),[this.genDefaultSlot()])},genLabel:function(){return this.hasLabel?this.$createElement(o[\"a\"],{props:{color:this.validationState,dark:this.dark,disabled:this.disabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages:function(){var t=this;return this.showDetails?this.$createElement(l,{props:{color:this.hasHint?\"\":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?\"alert\":null},scopedSlots:{default:function(e){return Object(c[\"k\"])(t,\"message\",e)}}}):null},genSlot:function(t,e,n){if(!n.length)return null;var r=\"\".concat(t,\"-\").concat(e);return this.$createElement(\"div\",{staticClass:\"v-input__\".concat(r),ref:r},n)},genPrependSlot:function(){var t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon(\"prepend\")),this.genSlot(\"prepend\",\"outer\",t)},genAppendSlot:function(){var t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon(\"append\")),this.genSlot(\"append\",\"outer\",t)},onClick:function(t){this.$emit(\"click\",t)},onMouseDown:function(t){this.hasMouseDown=!0,this.$emit(\"mousedown\",t)},onMouseUp:function(t){this.hasMouseDown=!1,this.$emit(\"mouseup\",t)}},render:function(t){return t(\"div\",this.setTextColor(this.validationState,{staticClass:\"v-input\",class:this.classes}),this.genContent())}});e[\"a\"]=g},c7b2:function(t,e,n){\"use strict\";n.r(e),function(t){n.d(e,\"ErrorCode\",(function(){return kr})),n.d(e,\"EventType\",(function(){return Ar})),n.d(e,\"WebChannel\",(function(){return Or})),n.d(e,\"XhrIo\",(function(){return Rr})),n.d(e,\"createWebChannelTransport\",(function(){return Nr}));var r,i=\"undefined\"!==typeof globalThis?globalThis:\"undefined\"!==typeof window?window:\"undefined\"!==typeof t?t:\"undefined\"!==typeof self?self:{},o=o||{},s=i;function a(t){return\"string\"==typeof t}function u(t){return\"number\"==typeof t}function c(t,e){t=t.split(\".\"),e=e||s;for(var n=0;n<t.length;n++)if(e=e[t[n]],null==e)return null;return e}function h(){}function l(t){var e=typeof t;if(\"object\"==e){if(!t)return\"null\";if(t instanceof Array)return\"array\";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if(\"[object Window]\"==n)return\"object\";if(\"[object Array]\"==n||\"number\"==typeof t.length&&\"undefined\"!=typeof t.splice&&\"undefined\"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==n||\"undefined\"!=typeof t.call&&\"undefined\"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable(\"call\"))return\"function\"}else if(\"function\"==e&&\"undefined\"==typeof t.call)return\"object\";return e}function f(t){return\"array\"==l(t)}function p(t){var e=l(t);return\"array\"==e||\"object\"==e&&\"number\"==typeof t.length}function d(t){var e=typeof t;return\"object\"==e&&null!=t||\"function\"==e}var v=\"closure_uid_\"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?m:y,w.apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(){this.j=this.j,this.i=this.i}var T=0;I.prototype.j=!1,I.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0!=T))this[v]||(this[v]=++g)},I.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(\"\"):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function N(t){t:{for(var e=Gn,n=t.length,r=a(t)?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}function k(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return/^[\\s\\xa0]*$/.test(t)}var R,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var L=s.navigator;if(L){var M=L.userAgent;if(M){R=M;break t}}R=\"\"}function F(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function U(t){var e,n={};for(e in t)n[e]=t[e];return n}var j=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[\" \"](t),t}function B(t,e){var n=et;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}q[\" \"]=h;var W,z=x(R,\"Opera\"),G=x(R,\"Trident\")||x(R,\"MSIE\"),H=x(R,\"Edge\"),K=H||G,Q=x(R,\"Gecko\")&&!(x(R.toLowerCase(),\"webkit\")&&!x(R,\"Edge\"))&&!(x(R,\"Trident\")||x(R,\"MSIE\"))&&!x(R,\"Edge\"),Y=x(R.toLowerCase(),\"webkit\")&&!x(R,\"Edge\");function $(){var t=s.document;return t?t.documentMode:void 0}t:{var J=\"\",X=function(){var t=R;return Q?/rv:([^\\);]+)(\\)|;)/.exec(t):H?/Edge\\/([\\d\\.]+)/.exec(t):G?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(t):Y?/WebKit\\/(\\S+)/.exec(t):z?/(?:Version)[ \\/]?(\\S+)/.exec(t):void 0}();if(X&&(J=X?X[1]:\"\"),G){var Z=$();if(null!=Z&&Z>parseFloat(J)){W=String(Z);break t}}W=J}var tt,et={};function nt(t){return B(t,(function(){for(var e=0,n=P(String(W)).split(\".\"),r=P(String(t)).split(\".\"),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||\"\",a=r[o]||\"\";do{if(s=/(\\d*)(\\D*)(.*)/.exec(s)||[\"\",\"\",\"\",\"\"],a=/(\\d*)(\\D*)(.*)/.exec(a)||[\"\",\"\",\"\",\"\"],0==s[0].length&&0==a[0].length)break;e=D(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||D(0==s[2].length,0==a[2].length)||D(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var rt=s.document;tt=rt&&G?$()||(\"CSS1Compat\"==rt.compatMode?parseInt(W,10):5):void 0;var it=!G||9<=Number(tt),ot=G&&!nt(\"9\"),st=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});try{s.addEventListener(\"test\",h,e),s.removeEventListener(\"test\",h,e)}catch(n){}return t}();function at(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function ut(t,e){if(at.call(this,t?t.type:\"\"),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=\"\",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType=\"\",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Q){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else\"mouseover\"==n?e=t.fromElement:\"mouseout\"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||\"\",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:ct[t.pointerType]||\"\",this.c=t,t.defaultPrevented&&this.b()}}at.prototype.b=function(){this.Ia=!1},E(ut,at);var ct={2:\"touch\",3:\"pen\",4:\"mouse\"};ut.prototype.b=function(){ut.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ot)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ht=\"closure_listenable_\"+(1e6*Math.random()|0),lt=0;function ft(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++lt,this.X=this.Z=!1}function pt(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function vt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(pt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function gt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=gt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):(e=new ft(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};var mt=\"closure_lm_\"+(1e6*Math.random()|0),yt={};function wt(t,e,n,r,i){if(r&&r.once)return Et(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);return null}return n=Ot(n),t&&t[ht]?t.za(e,n,d(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error(\"Invalid event type\");var s=d(i)?!!i.capture:!!i;if(s&&!it)return null;var a=kt(t);if(a||(t[mt]=a=new dt(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=_t(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)st||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ct(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error(\"addEventListener and attachEvent are unavailable.\");t.addListener(r)}return n}function _t(){var t=Nt,e=it?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Et(t,e,n,r,i){if(f(e)){for(var o=0;o<e.length;o++)Et(t,e[o],n,r,i);return null}return n=Ot(n),t&&t[ht]?t.Aa(e,n,d(r)?!!r.capture:!!r,i):bt(t,e,n,!0,r,i)}function It(t,e,n,r,i){if(f(e))for(var o=0;o<e.length;o++)It(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=Ot(n),t&&t[ht]?(t=t.c,e=String(e).toString(),e in t.a&&(o=t.a[e],n=gt(o,n,r,i),-1<n&&(pt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=kt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=gt(e,n,r,i)),(n=-1<t?e[t]:null)&&Tt(n))}function Tt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ht])vt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ct(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(vt(n,t),0==n.b&&(n.src=null,e[mt]=null)):pt(t)}}}function Ct(t){return t in yt?yt[t]:yt[t]=\"on\"+t}function St(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Tt(t),n.call(r,e)}function Nt(t,e){return!!t.X||(it?St(t,new ut(e,this)):(e=new ut(e||c(\"window.event\"),this),St(t,e)))}function kt(t){return t=t[mt],t instanceof dt?t:null}var At=\"__closure_events_fn_\"+(1e9*Math.random()>>>0);function Ot(t){return\"function\"==l(t)?t:(t[At]||(t[At]=function(e){return t.handleEvent(e)}),t[At])}function Rt(){I.call(this),this.c=new dt(this),this.J=this,this.B=null}function Pt(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&vt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ia}E(Rt,I),Rt.prototype[ht]=!0,r=Rt.prototype,r.addEventListener=function(t,e,n,r){wt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){It(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new at(t,n);else if(t instanceof at)t.target=t.target||n;else{var i=t;t=new at(r,n),V(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Pt(s,r,!0,t)&&i}if(s=t.a=n,i=Pt(s,r,!0,t)&&i,i=Pt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.a=e[o],i=Pt(s,r,!1,t)&&i;return i},r.G=function(){if(Rt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)pt(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xt=s.JSON.stringify;function Dt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Lt(){this.b=this.a=null}Dt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Mt,Ft=new Dt((function(){return new jt}),(function(t){t.reset()}));function Ut(){var t=zt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function jt(){this.next=this.b=this.a=null}function Vt(t){s.setTimeout((function(){throw t}),0)}function qt(t,e){Mt||Bt(),Wt||(Mt(),Wt=!0),zt.add(t,e)}function Bt(){var t=s.Promise.resolve(void 0);Mt=function(){t.then(Gt)}}Lt.prototype.add=function(t,e){var n=Ft.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},jt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},jt.prototype.reset=function(){this.next=this.b=this.a=null};var Wt=!1,zt=new Lt;function Gt(){for(var t;t=Ut();){try{t.a.call(t.b)}catch(n){Vt(n)}var e=Ft;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wt=!1}function Ht(t,e){Rt.call(this),this.b=t||1,this.a=e||s,this.f=w(this.gb,this),this.g=_()}function Kt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Qt(t,e,n){if(\"function\"==l(t))n&&(t=w(t,n));else{if(!t||\"function\"!=typeof t.handleEvent)throw Error(\"Invalid listener argument\");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Yt(t,e,n){I.call(this),this.f=null!=n?w(t,n):t,this.c=e,this.b=w(this.$a,this),this.a=[]}function $t(t){t.U=Qt(t.b,t.c),t.f.apply(null,t.a)}function Jt(t){I.call(this),this.b=t,this.a={}}E(Ht,Rt),r=Ht.prototype,r.ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=_()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent(\"tick\"),this.ba&&(Kt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Ht.N.G.call(this),Kt(this),delete this.a},E(Yt,I),r=Yt.prototype,r.ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:$t(this)},r.G=function(){Yt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,$t(this))},E(Jt,I);var Xt=[];function Zt(t,e,n,r){f(n)||(n&&(Xt[0]=n.toString()),n=Xt);for(var i=0;i<n.length;i++){var o=wt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function te(t){F(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Tt(t)}),t),t.a={}}function ee(){}Jt.prototype.G=function(){Jt.N.G.call(this),te(this)},Jt.prototype.handleEvent=function(){throw Error(\"EventHandler.handleEvent not implemented\")};var ne=new Rt;function re(t){at.call(this,\"serverreachability\",t)}function ie(t){ne.dispatchEvent(new re(ne,t))}function oe(t){at.call(this,\"statevent\",t)}function se(t){ne.dispatchEvent(new oe(ne,t))}function ae(t){at.call(this,\"timingevent\",t)}function ue(t,e){if(\"function\"!=l(t))throw Error(\"Fn must not be null and must be a function\");return s.setTimeout((function(){t()}),e)}E(re,at),E(oe,at),E(ae,at);var ce={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},he={jb:\"complete\",wb:\"success\",Ma:\"error\",La:\"abort\",ub:\"ready\",vb:\"readystatechange\",TIMEOUT:\"timeout\",qb:\"incrementaldata\",tb:\"progress\",lb:\"downloadprogress\",xb:\"uploadprogress\"};function le(){}function fe(t){var e;return(e=t.a)||(e=t.a={}),e}function pe(){}le.prototype.a=null;var de,ve={OPEN:\"a\",ib:\"b\",Ma:\"c\",rb:\"d\"};function ge(){at.call(this,\"d\")}function me(){at.call(this,\"c\")}function ye(){}function we(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Jt(this),this.O=be,t=K?125:void 0,this.P=new Ht(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ge,at),E(me,at),E(ye,le),de=new ye;var be=45e3,_e={},Ee={};function Ie(t,e,n){t.F=1,t.f=Je(ze(e)),t.l=n,t.H=!0,Ce(t,null)}function Te(t,e,n,r){t.F=1,t.f=Je(ze(e)),t.l=null,t.H=n,Ce(t,r)}function Ce(t,e){t.v=_(),ke(t),t.D=ze(t.f),$e(t.D,\"t\",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Yt(w(t.Ja,t,t.a),t.J)),Zt(t.I,t.a,\"readystatechange\",t.cb),e=t.h?U(t.h):{},t.l?(t.w||(t.w=\"POST\"),e[\"Content-Type\"]=\"application/x-www-form-urlencoded\",t.a.ca(t.D,t.w,t.l,e)):(t.w=\"GET\",t.a.ca(t.D,t.w,null,e)),ie(1)}function Se(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=Ne(t,n);if(i==Ee){4==e&&(t.c=4,se(14),r=!1);break}if(i==_e){t.c=4,se(15),r=!1;break}xe(t,i)}4==e&&0==n.length&&(t.c=1,se(16),r=!1),t.b=t.b&&r,r||(Pe(t),Re(t))}function Ne(t,e){var n=t.A,r=e.indexOf(\"\\n\",n);return-1==r?Ee:(n=Number(e.substring(n,r)),isNaN(n)?_e:(r+=1,r+n>e.length?Ee:(e=e.substr(r,n),t.A=r+n,e)))}function ke(t){t.R=_()+t.O,Ae(t,t.O)}function Ae(t,e){if(null!=t.i)throw Error(\"WatchDog timer not null\");t.i=ue(w(t.ab,t),e)}function Oe(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Re(t){t.g.Ca()||t.m||t.g.na(t)}function Pe(t){Oe(t);var e=t.B;e&&\"function\"==typeof e.la&&e.la(),t.B=null,Kt(t.P),te(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function xe(t,e){try{t.g.Fa(t,e),ie(4)}catch(n){}}function De(t){if(t.C&&\"function\"==typeof t.C)return t.C();if(a(t))return t.split(\"\");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Le(t,e){if(t.forEach&&\"function\"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||a(t))S(t,e,void 0);else{if(t.K&&\"function\"==typeof t.K)var n=t.K();else if(t.C&&\"function\"==typeof t.C)n=void 0;else if(p(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=De(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Me(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error(\"Uneven number of arguments\");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Me)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Fe(t){t.b={},t.a.length=0,t.c=0}function Ue(t,e){Ve(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&je(t))}function je(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ve(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Ve(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r=we.prototype,r.setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Jn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Jn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!K&&!this.a.aa())){this.m||4!=e||7==n||ie(8==n||0>=r?3:2),Oe(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Xn(this.a,\"X-HTTP-Initial-Response\");if(s&&!O(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,se(12),Pe(this),Re(this);break t}this.s=!0,xe(this,a)}this.H?(Se(this,e,o),K&&this.b&&3==e&&(Zt(this.I,this.P,\"tick\",this.bb),this.P.start())):xe(this,o),4==e&&Pe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,ke(this)))}else 400==i&&0<o.indexOf(\"Unknown SID\")?(this.c=3,se(12)):(this.c=0,se(13)),Pe(this),Re(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Jn(this.a),e=this.a.aa();this.A<e.length&&(Oe(this),Se(this,t,e),this.b&&4!=t&&ke(this))}},r.cancel=function(){this.m=!0,Pe(this)},r.ab=function(){this.i=null;var t=_();0<=t-this.R?(2!=this.F&&(ie(3),se(17)),Pe(this),this.c=2,Re(this)):Ae(this,this.R-t)},r=Me.prototype,r.C=function(){je(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return je(this),this.a.concat()},r.get=function(t,e){return Ve(this.b,t)?this.b[t]:e},r.set=function(t,e){Ve(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qe=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function Be(t,e){if(t){t=t.split(\"&\");for(var n=0;n<t.length;n++){var r=t[n].indexOf(\"=\"),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\\+/g,\" \")):\"\")}}}function We(t,e){var n;this.b=this.j=this.f=\"\",this.i=null,this.g=this.a=\"\",this.h=!1,t instanceof We?(this.h=void 0!==e?e:t.h,Ge(this,t.f),this.j=t.j,He(this,t.b),Ke(this,t.i),this.a=t.a,Qe(this,dn(t.c)),this.g=t.g):t&&(n=String(t).match(qe))?(this.h=!!e,Ge(this,n[1]||\"\",!0),this.j=tn(n[2]||\"\"),He(this,n[3]||\"\",!0),Ke(this,n[4]),this.a=tn(n[5]||\"\",!0),Qe(this,n[6]||\"\",!0),this.g=tn(n[7]||\"\")):(this.h=!!e,this.c=new cn(null,this.h))}function ze(t){return new We(t)}function Ge(t,e,n){t.f=n?tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,\"\"))}function He(t,e,n){t.b=n?tn(e,!0):e}function Ke(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error(\"Bad port number \"+e);t.i=e}else t.i=null}function Qe(t,e,n){e instanceof cn?(t.c=e,gn(t.c,t.h)):(n||(e=en(e,an)),t.c=new cn(e,t.h))}function Ye(t,e,n){t.c.set(e,n)}function $e(t,e,n){f(n)||(n=[String(n)]),pn(t.c,e,n)}function Je(t){return Ye(t,\"zx\",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function Xe(t){return t instanceof We?ze(t):new We(t,void 0)}function Ze(t,e,n,r){var i=new We(null,void 0);return t&&Ge(i,t),e&&He(i,e),n&&Ke(i,n),r&&(i.a=r),i}function tn(t,e){return t?e?decodeURI(t.replace(/%25/g,\"%2525\")):decodeURIComponent(t):\"\"}function en(t,e,n){return a(t)?(t=encodeURI(t).replace(e,nn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),t):null}function nn(t){return t=t.charCodeAt(0),\"%\"+(t>>4&15).toString(16)+(15&t).toString(16)}We.prototype.toString=function(){var t=[],e=this.f;e&&t.push(en(e,rn,!0),\":\");var n=this.b;return(n||\"file\"==e)&&(t.push(\"//\"),(e=this.j)&&t.push(en(e,rn,!0),\"@\"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),n=this.i,null!=n&&t.push(\":\",String(n))),(n=this.a)&&(this.b&&\"/\"!=n.charAt(0)&&t.push(\"/\"),t.push(en(n,\"/\"==n.charAt(0)?sn:on,!0))),(n=this.c.toString())&&t.push(\"?\",n),(n=this.g)&&t.push(\"#\",en(n,un)),t.join(\"\")},We.prototype.resolve=function(t){var e=ze(this),n=!!t.f;n?Ge(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?He(e,t.b):n=null!=t.i;var r=t.a;if(n)Ke(e,t.i);else if(n=!!t.a){if(\"/\"!=r.charAt(0))if(this.b&&!this.a)r=\"/\"+r;else{var i=e.a.lastIndexOf(\"/\");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(i=r,\"..\"==i||\".\"==i)r=\"\";else if(x(i,\"./\")||x(i,\"/.\")){r=0==i.lastIndexOf(\"/\",0),i=i.split(\"/\");for(var o=[],s=0;s<i.length;){var a=i[s++];\".\"==a?r&&s==i.length&&o.push(\"\"):\"..\"==a?((1<o.length||1==o.length&&\"\"!=o[0])&&o.pop(),r&&s==i.length&&o.push(\"\")):(o.push(a),r=!0)}r=o.join(\"/\")}else r=i}return n?e.a=r:n=\"\"!==t.c.toString(),n?Qe(e,dn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var rn=/[#\\/\\?@]/g,on=/[#\\?:]/g,sn=/[#\\?]/g,an=/[#\\?@]/g,un=/#/g;function cn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hn(t){t.a||(t.a=new Me,t.b=0,t.c&&Be(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\\+/g,\" \")),n)})))}function ln(t,e){hn(t),e=vn(t,e),Ve(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ue(t.a,e))}function fn(t,e){return hn(t),e=vn(t,e),Ve(t.a.b,e)}function pn(t,e,n){ln(t,e),0<n.length&&(t.c=null,t.a.set(vn(t,e),A(n)),t.b+=n.length)}function dn(t){var e=new cn;return e.c=t.c,t.a&&(e.a=new Me(t.a),e.b=t.b),e}function vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function gn(t,e){e&&!t.f&&(hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ln(this,e),pn(this,n,t))}),t)),t.f=e}function mn(){}function yn(){}function wn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function bn(t){var e=t.a.F.a;if(null!=e)se(4),e?(se(10),fr(t.a,t,!1)):(se(11),fr(t.a,t,!0));else{t.b=new we(t,void 0,void 0),t.b.h=t.h,e=t.a,e=mr(e,e.Y()?t.f:null,t.i),se(4),$e(e,\"TYPE\",\"xmlhttp\");var n=t.a.j,r=t.a.I;n&&r&&Ye(e,n,r),Te(t.b,e,!1,t.f)}}function _n(){this.a=this.b=null}function En(){this.a=new Me}function In(t){var e=typeof t;return\"object\"==e&&t||\"function\"==e?\"o\"+(t[v]||(t[v]=++g)):e.charAt(0)+t}function Tn(t,e){this.b=t,this.a=e}function Cn(t){this.g=t||Sn,s.PerformanceNavigationTiming?(t=s.performance.getEntriesByType(\"navigation\"),t=0<t.length&&(\"hq\"==t[0].nextHopProtocol||\"h2\"==t[0].nextHopProtocol)):t=!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new En),this.b=null,this.c=[]}r=cn.prototype,r.add=function(t,e){hn(this),this.c=null,t=vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){hn(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){hn(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){hn(this);var e=[];if(a(t))fn(this,t)&&(e=k(e,this.a.get(vn(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},r.set=function(t,e){return hn(this),this.c=null,t=vn(this,t),fn(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t?(t=this.C(t),0<t.length?String(t[0]):e):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;\"\"!==r[o]&&(s+=\"=\"+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join(\"&\")},E(yn,mn),r=wn.prototype,r.M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Xn(t,\"X-Client-Wire-Protocol\");this.l=n||null,this.a.j&&(t=Xn(t,\"X-HTTP-Session-Id\"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return e=this.a,e.m=this.c,void vr(e,2)}this.f=r[0]}else e=this.a,e.m=this.c,vr(e,2)}else 1==this.M&&(this.g?se(6):\"11111\"==e?(se(5),this.g=!0,(!G||10<=Number(tt))&&(this.c=200,this.b.cancel(),se(11),fr(this.a,this,!0))):(se(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,bn(this)):1==this.M&&(this.g?(se(11),fr(this.a,this,!0)):(se(10),fr(this.a,this,!1)));else{0==this.M?se(8):1==this.M&&se(9);var t=this.a;t.m=this.c,vr(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},En.prototype.add=function(t){this.a.set(In(t),t)},En.prototype.C=function(){return this.a.C()};var Sn=10;function Nn(t,e){!t.a&&(x(e,\"spdy\")||x(e,\"quic\")||x(e,\"h2\"))&&(t.f=t.g,t.a=new En,t.b&&(Rn(t,t.b),t.b=null))}function kn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function An(t){return t.b?1:t.a?t.a.a.c:0}function On(t,e){return t.b?t=t.b==e:t.a?(e=In(e),t=Ve(t.a.a.b,e)):t=!1,t}function Rn(t,e){t.a?t.a.add(e):t.b=e}function Pn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=In(e),n=Ve(t.a.a.b,n)),n&&Ue(t.a.a,In(e)))}function xn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),(function(t){e=e.concat(t.j)})),e}return A(t.c)}function Dn(){}function Ln(){this.a=new Dn}function Mn(t,e,n){var r=n||\"\";try{Le(t,(function(t,n){var i=t;d(t)&&(i=xt(t)),e.push(r+n+\"=\"+encodeURIComponent(i))}))}catch(i){throw e.push(r+\"type=\"+encodeURIComponent(\"_badmap\")),i}}function Fn(t,e){var n=new ee;if(s.Image){var r=new Image;r.onload=b(Un,n,r,\"TestLoadImage: loaded\",!0,e),r.onerror=b(Un,n,r,\"TestLoadImage: error\",!1,e),r.onabort=b(Un,n,r,\"TestLoadImage: abort\",!1,e),r.ontimeout=b(Un,n,r,\"TestLoadImage: timeout\",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function Un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Cn.prototype.cancel=function(){this.c=xn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(t){t.cancel()})),Fe(this.a.a))},Dn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},Dn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var jn=s.JSON.parse;function Vn(t){Rt.call(this),this.headers=new Me,this.H=t||null,this.b=!1,this.s=this.a=null,this.A=\"\",this.h=0,this.f=\"\",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=qn,this.D=this.F=!1}E(Vn,Rt);var qn=\"\",Bn=/^https?$/i,Wn=[\"POST\",\"PUT\"];function zn(t){return G&&nt(9)&&u(t.timeout)&&void 0!==t.ontimeout}function Gn(t){return\"content-type\"==t.toLowerCase()}function Hn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Kn(t),Yn(t)}function Kn(t){t.v||(t.v=!0,t.dispatchEvent(\"complete\"),t.dispatchEvent(\"error\"))}function Qn(t){if(t.b&&\"undefined\"!=typeof o&&(!t.s[1]||4!=Jn(t)||2!=t.T()))if(t.l&&4==Jn(t))Qt(t.Ea,0,t);else if(t.dispatchEvent(\"readystatechange\"),4==Jn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(qe)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Bn.test(a?a.toLowerCase():\"\")}e=i}if(e)t.dispatchEvent(\"complete\"),t.dispatchEvent(\"success\");else{t.h=6;try{var c=2<Jn(t)?t.a.statusText:\"\"}catch(h){c=\"\"}t.f=c+\" [\"+t.T()+\"]\",Kn(t)}}finally{Yn(t)}}}function Yn(t,e){if(t.a){$n(t);var n=t.a,r=t.s[0]?h:null;t.a=null,t.s=null,e||t.dispatchEvent(\"ready\");try{n.onreadystatechange=r}catch(i){}}}function $n(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Jn(t){return t.a?t.a.readyState:0}function Xn(t,e){return t.a?t.a.getResponseHeader(e):null}function Zn(t){var e=\"\";return F(t,(function(t,n){e+=n,e+=\":\",e+=t,e+=\"\\r\\n\"})),e}function tr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=Zn(n),a(t)){if(e=encodeURIComponent(String(e)),n=null!=n?\"=\"+encodeURIComponent(String(n)):\"\",e+=n){if(n=t.indexOf(\"#\"),0>n&&(n=t.length),r=t.indexOf(\"?\"),0>r||r>n){r=n;var i=\"\"}else i=t.substring(r+1,n);t=[t.substr(0,r),i,t.substr(n)],n=t[1],t[1]=e?n?n+\"&\"+e:e:n,t=t[0]+(t[1]?\"?\"+t[1]:\"\")+t[2]}return t}return Ye(t,e,n),t}function er(t){this.f=[],this.F=new _n,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!c(\"internalChannelParams.failFast\",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=c(\"internalChannelParams.baseRetryDelayMs\",t)||5e3,this.Ra=c(\"internalChannelParams.retryDelaySeedMs\",t)||1e4,this.Pa=c(\"internalChannelParams.forwardChannelMaxRetries\",t)||2,this.qa=c(\"internalChannelParams.forwardChannelRequestTimeoutMs\",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H=\"\",this.b=new Cn(t&&t.concurrentRequestLimit),this.ja=new Ln,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function nr(t){if(rr(t),3==t.u){var e=t.P++,n=ze(t.B);Ye(n,\"SID\",t.H),Ye(n,\"RID\",e),Ye(n,\"TYPE\",\"terminate\"),ur(t,n),e=new we(t,e,void 0),e.F=2,e.f=Je(ze(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),\"\")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=_(),ke(e)}gr(t)}function rr(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),pr(t),t.b.cancel(),t.h&&(u(t.h)&&s.clearTimeout(t.h),t.h=null)}function ir(t,e){t.f.push(new Tn(t.Qa++,e)),3==t.u&&or(t)}function or(t){kn(t.b)||t.h||(t.h=!0,qt(t.Ha,t),t.A=0)}function sr(t,e){return!(An(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa))&&(t.h=ue(w(t.Ha,t,e),dr(t,t.A)),t.A++,!0))}function ar(t,e){var n;n=e?e.W:t.P++;var r=ze(t.B);Ye(r,\"SID\",t.H),Ye(r,\"RID\",n),Ye(r,\"AID\",t.O),ur(t,r),t.g&&t.i&&tr(r,t.g,t.i),n=new we(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=cr(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),Rn(t.b,n),Ie(n,r,e)}function ur(t,e){t.c&&Le({},(function(t,n){Ye(e,n,t)}))}function cr(t,e,n){n=Math.min(t.f.length,n);var r=t.c?w(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=[\"count=\"+n];-1==o?0<n?(o=i[0].b,s.push(\"ofs=\"+o)):o=0:s.push(\"ofs=\"+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(c-=o,0>c)o=Math.max(0,i[u].b-100),a=!1;else try{Mn(h,s,\"req\"+c+\"_\")}catch(l){r&&r(h)}}if(a){r=s.join(\"&\");break t}}return t=t.f.splice(0,n),e.j=t,r}function hr(t){t.a||t.l||(t.S=1,qt(t.Ga,t),t.v=0)}function lr(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=ue(w(t.Ga,t),dr(t,t.v)),t.v++,!0)}function fr(t,e,n){var r=e.l;r&&Nn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=mr(t,null,t.ha),or(t)}function pr(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function dr(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function vr(t,e){if(2==e){var n=null;t.c&&(n=null);var r=w(t.eb,t);n||(n=new We(\"//www.google.com/images/cleardot.gif\"),s.location&&\"http\"==s.location.protocol||Ge(n,\"https\"),Je(n)),Fn(n.toString(),r)}else se(2);t.u=0,t.c&&t.c.ta(e),gr(t),rr(t)}function gr(t){t.u=0,t.m=-1,t.c&&(0==xn(t.b).length&&0==t.f.length||(t.b.c.length=0,A(t.f),t.f.length=0),t.c.sa())}function mr(t,e,n){var r=Xe(n);if(\"\"!=r.b)e&&He(r,e+\".\"+r.b),Ke(r,r.i);else{var i,o=s.location;i=e?e+\".\"+o.hostname:o.hostname,r=Ze(o.protocol,i,+o.port,n)}return t.V&&F(t.V,(function(t,e){Ye(r,e,t)})),e=t.j,n=t.I,e&&n&&Ye(r,e,n),Ye(r,\"VER\",t.wa),ur(t,r),r}function yr(){}function wr(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf(\"/\",0))e=i;else(r=\"\"==e)||(r=e.length-1,r=0<=r&&e.indexOf(\"/\",r)==r),e+=r?i:\"/\"+i}return e}function br(){if(G&&!(10<=Number(tt)))throw Error(\"Environmental error: no available transport.\")}function _r(t,e){Rt.call(this),this.a=new er(e),this.g=t,this.m=e&&e.fb?e.fb:wr(this.g,\"test\"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t[\"X-Client-Protocol\"]=\"webchannel\":t={\"X-Client-Protocol\":\"webchannel\"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t[\"X-WebChannel-Content-Type\"]=e.messageContentType:t={\"X-WebChannel-Content-Type\":e.messageContentType}),e&&e.xa&&(t?t[\"X-WebChannel-Client-Profile\"]=e.xa:t={\"X-WebChannel-Client-Profile\":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.j=e,t=this.b,null!==t&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Tr(this)}function Er(t){ge.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ir(){me.call(this),this.status=1}function Tr(t){this.a=t}r=Vn.prototype,r.ca=function(t,e,n,r){if(this.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+this.A+\"; newUri=\"+t);e=e?e.toUpperCase():\"GET\",this.A=t,this.f=\"\",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?fe(this.H):fe(de),this.a.onreadystatechange=w(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void Hn(this,o)}t=n||\"\";var i=new Me(this.headers);r&&Le(r,(function(t,e){i.set(e,t)})),r=N(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=C(Wn,e))||r||n||i.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),\"withCredentials\"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$n(this),0<this.o&&((this.D=zn(this.a))?(this.a.timeout=this.o,this.a.ontimeout=w(this.Ba,this)):this.m=Qt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Hn(this,o)}},r.Ba=function(){\"undefined\"!=typeof o&&this.a&&(this.f=\"Timed out after \"+this.o+\"ms, aborting\",this.h=8,this.dispatchEvent(\"timeout\"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),Yn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yn(this,!0)),Vn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Qn(this):this.Za())},r.Za=function(){Qn(this)},r.T=function(){try{return 2<Jn(this)?this.a.status:-1}catch(t){return-1}},r.aa=function(){try{return this.a?this.a.responseText:\"\"}catch(t){return\"\"}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jn(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},r=er.prototype,r.wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random()),t=this.P++;var e,n=new we(this,t,void 0),r=this.i;if(this.J&&(r?(r=U(r),V(r,this.J)):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(o=\"__data__\"in o.a&&(o=o.a.__data__,a(o))?o.length:void 0,void 0===o)break;if(e+=o,4096<e){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=cr(this,n,e),i=ze(this.B),Ye(i,\"RID\",t),Ye(i,\"CVER\",22),this.o&&this.j&&Ye(i,\"X-HTTP-Session-Id\",this.j),ur(this,i),this.g&&r&&tr(i,this.g,r),Rn(this.b,n),this.W?(Ye(i,\"$req\",e),Ye(i,\"SID\",\"null\"),n.S=!0,Ie(n,i,null)):Ie(n,i,e),this.u=2}}else 3==this.u&&(t?ar(this,t):0==this.f.length||kn(this.b)||ar(this))},r.Ga=function(){this.l=null,this.a=new we(this,\"rpc\",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=ze(this.pa);Ye(t,\"RID\",\"rpc\"),Ye(t,\"SID\",this.H),Ye(t,\"CI\",this.ia?\"0\":\"1\"),Ye(t,\"AID\",this.O),ur(this,t),Ye(t,\"TYPE\",\"xmlhttp\"),this.g&&this.i&&tr(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),Te(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||On(this.b,t)))if(this.m=t.o,!t.s&&On(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(e=n,0==e[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;pr(this),this.a.cancel(),this.a=null}lr(this),se(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ue(w(this.Ya,this),6e3));if(1>=An(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else vr(this,11)}else if((t.s||this.a==t)&&pr(this),!O(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if(\"c\"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),r=r[5],null!=r&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Xn(r,\"X-Client-Wire-Protocol\"))&&Nn(this.b,i),this.j&&(r=Xn(r,\"X-HTTP-Session-Id\")))&&(this.I=r,Ye(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=mr(this,this.Y()?this.ga:null,this.ha),r.s?(Pn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Oe(r),ke(r)),this.a=r):hr(this),0<this.f.length&&or(this)}else\"stop\"!=r[0]&&\"close\"!=r[0]||vr(this,7);else 3==this.u&&(\"stop\"==r[0]||\"close\"==r[0]?\"stop\"==r[0]?vr(this,7):nr(this):\"noop\"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,lr(this),se(19))},r.na=function(t){var e=null;if(this.a==t){pr(this),this.a=null;var n=2}else{if(!On(this.b,t))return;e=t.j,Pn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=_()-t.v,ne.dispatchEvent(new ae(ne,t.l?t.l.length:0,e,this.A)),or(this)):hr(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&sr(this,t)||2==n&&lr(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:vr(this,5);break;case 4:vr(this,10);break;case 3:vr(this,6);break;default:vr(this,2)}}},r.eb=function(t){se(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error(\"Can't create secondary domain capable XhrIo object.\");return t=new Vn(this.Ka),t.F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},r=yr.prototype,r.va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},br.prototype.a=function(t,e){return new _r(t,e)},E(_r,Rt),r=_r.prototype,r.addEventListener=function(t,e,n,r){_r.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){_r.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;se(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new wn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=tr(e,t.g,t.i)),t=t.w,t.i=n,e=mr(t.a,null,t.i),se(3),n=t.a.F.b,null!=n?(t.f=n[0],t.M=1,bn(t)):($e(e,\"MODE\",\"init\"),!t.a.o&&t.a.j&&$e(e,\"X-HTTP-Session-Id\",t.a.j),t.b=new we(t,void 0,void 0),t.b.h=t.h,Te(t.b,e,!1,null),t.M=0)},r.close=function(){nr(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,ir(this.a,e)}else this.h?(e={},e.__data__=xt(t),ir(this.a,e)):ir(this.a,t)},r.G=function(){this.a.c=null,delete this.f,nr(this.a),delete this.a,_r.N.G.call(this)},E(Er,ge),E(Ir,me),E(Tr,yr),Tr.prototype.va=function(){this.a.dispatchEvent(\"a\")},Tr.prototype.ua=function(t){this.a.dispatchEvent(new Er(t))},Tr.prototype.ta=function(t){this.a.dispatchEvent(new Ir(t))},Tr.prototype.sa=function(){this.a.dispatchEvent(\"b\")};var Cr=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),br);br.prototype.createWebChannel=br.prototype.a,_r.prototype.send=_r.prototype.Wa,_r.prototype.open=_r.prototype.Va,_r.prototype.close=_r.prototype.close,ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,he.COMPLETE=\"complete\",pe.EventType=ve,ve.OPEN=\"a\",ve.CLOSE=\"b\",ve.ERROR=\"c\",ve.MESSAGE=\"d\",Rt.prototype.listen=Rt.prototype.za,Vn.prototype.listenOnce=Vn.prototype.Aa,Vn.prototype.getLastError=Vn.prototype.Xa,Vn.prototype.getLastErrorCode=Vn.prototype.ya,Vn.prototype.getStatus=Vn.prototype.T,Vn.prototype.getResponseJson=Vn.prototype.Ua,Vn.prototype.getResponseText=Vn.prototype.aa,Vn.prototype.send=Vn.prototype.ca;var Sr={createWebChannelTransport:Cr,ErrorCode:ce,EventType:he,WebChannel:pe,XhrIo:Vn},Nr=Sr.createWebChannelTransport,kr=Sr.ErrorCode,Ar=Sr.EventType,Or=Sr.WebChannel,Rr=Sr.XhrIo;e[\"default\"]=Sr}.call(this,n(\"c8ba\"))},cd51:function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(\"9ab4\"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:\"${JSCORE_VERSION}\"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error(\"Firebase Database (\"+i.SDK_VERSION+\") INTERNAL ASSERT FAILED: \"+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var s=t[n++],a=t[n++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join(\"\")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+\"+/=\"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+\"-_.\"},HAS_NATIVE_SUPPORT:\"function\"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error(\"encodeByteArray takes an array as a parameter\");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join(\"\")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length,a=s?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var h=i<t.length,l=h?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==l)throw Error();var f=o<<2|a>>4;if(r.push(f),64!==c){var p=a<<4&240|c>>2;if(r.push(p),64!==l){var d=c<<6&192|l;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=a(t);return c.encodeByteArray(e,!0)},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error(\"base64Decode failed: \",e)}return null};\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction f(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=p(t[r],e[r]));return t}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),\"function\"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function v(){return\"undefined\"!==typeof navigator&&\"string\"===typeof navigator[\"userAgent\"]?navigator[\"userAgent\"]:\"\"}function g(){return\"undefined\"!==typeof window&&!!(window[\"cordova\"]||window[\"phonegap\"]||window[\"PhoneGap\"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return\"[object process]\"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function y(){return\"object\"===typeof self&&self.self===self}function w(){var t=\"object\"===typeof chrome?chrome.runtime:\"object\"===typeof browser?browser.runtime:void 0;return\"object\"===typeof t&&void 0!==t.id}function b(){return\"object\"===typeof navigator&&\"ReactNative\"===navigator[\"product\"]}function _(){return v().indexOf(\"Electron/\")>=0}function E(){var t=v();return t.indexOf(\"MSIE \")>=0||t.indexOf(\"Trident/\")>=0}function I(){return v().indexOf(\"MSAppHost/\")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var C=\"FirebaseError\",S=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=C,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,N.prototype.create),i}return r.__extends(e,t),e}(Error),N=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+\"/\"+t,o=this.errors[t],s=o?k(o,r):\"Error\",a=this.serviceName+\": \"+s+\" (\"+i+\").\",u=new S(i,a),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];\"_\"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field \"'+l+'\" can cause unexpected behavior.'),u[l]=r[l])}return u},t}();function k(t,e){return t.replace(A,(function(t,n){var r=e[n];return null!=r?r.toString():\"<\"+n+\"?>\"}))}var A=/\\{\\$([^}]+)}/g;\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function O(t){return JSON.parse(t)}function R(t){return JSON.stringify(t)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var P=function(t){var e={},n={},r={},i=\"\";try{var o=t.split(\".\");e=O(l(o[0])||\"\"),n=O(l(o[1])||\"\"),i=o[2],r=n[\"d\"]||{},delete n[\"d\"]}catch(s){}return{header:e,claims:n,data:r,signature:i}},x=function(t){var e=P(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return\"object\"===typeof e&&(e.hasOwnProperty(\"nbf\")?r=e[\"nbf\"]:e.hasOwnProperty(\"iat\")&&(r=e[\"iat\"]),i=e.hasOwnProperty(\"exp\")?e[\"exp\"]:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},D=function(t){var e=P(t).claims;return\"object\"===typeof e&&e.hasOwnProperty(\"iat\")?e[\"iat\"]:null},L=function(t){var e=P(t),n=e.claims;return!!n&&\"object\"===typeof n&&n.hasOwnProperty(\"iat\")},M=function(t){var e=P(t).claims;return\"object\"===typeof e&&!0===e[\"admin\"]};\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function j(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function V(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function q(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],s=o[0],a=o[1];n(s,a)}return e.length?\"&\"+e.join(\"&\"):\"\"}function B(t){var e={},n=t.replace(/^\\?/,\"\").split(\"&\");return n.forEach((function(t){if(t){var n=t.split(\"=\");e[n[0]]=n[1]}})),e}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var W=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if(\"string\"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if(\"string\"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function z(t,e){var n=new G(t,e);return n.subscribe.bind(n)}var G=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error(\"Missing Observer.\");r=K(t,[\"next\",\"error\",\"complete\"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Q),void 0===r.error&&(r.error=Q),void 0===r.complete&&(r.complete=Q);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){\"undefined\"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function H(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function K(t,e){if(\"object\"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&\"function\"===typeof t[i])return!0}return!1}function Q(){}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Y=function(t,e,n,r){var i;if(r<e?i=\"at least \"+e:r>n&&(i=0===n?\"none\":\"no more than \"+n),i){var o=t+\" failed: Was called with \"+r+(1===r?\" argument.\":\" arguments.\")+\" Expects \"+i+\".\";throw new Error(o)}};function $(t,e,n){var r=\"\";switch(e){case 1:r=n?\"first\":\"First\";break;case 2:r=n?\"second\":\"Second\";break;case 3:r=n?\"third\":\"Third\";break;case 4:r=n?\"fourth\":\"Fourth\";break;default:throw new Error(\"errorPrefix called with argumentNumber > 4.  Need to update it?\")}var i=t+\" failed: \";return i+=r+\" argument \",i}function J(t,e,n,r){if((!r||n)&&\"string\"!==typeof n)throw new Error($(t,e,r)+\"must be a valid firebase namespace.\")}function X(t,e,n,r){if((!r||n)&&\"function\"!==typeof n)throw new Error($(t,e,r)+\"must be a valid function.\")}function Z(t,e,n,r){if((!r||n)&&(\"object\"!==typeof n||null===n))throw new Error($(t,e,r)+\"must be a valid context object.\")}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var tt=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,\"Surrogate pair missing trail surrogate.\");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},et=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};e.CONSTANTS=i,e.Deferred=d,e.ErrorFactory=N,e.FirebaseError=S,e.Sha1=W,e.assert=o,e.assertionError=s,e.async=H,e.base64=c,e.base64Decode=l,e.base64Encode=h,e.contains=F,e.createSubscribe=z,e.decode=P,e.deepCopy=f,e.deepExtend=p,e.errorPrefix=$,e.getUA=v,e.isAdmin=M,e.isBrowser=y,e.isBrowserExtension=w,e.isElectron=_,e.isEmpty=j,e.isIE=E,e.isMobileCordova=g,e.isNode=m,e.isNodeSdk=T,e.isReactNative=b,e.isUWP=I,e.isValidFormat=L,e.isValidTimestamp=x,e.issuedAtTime=D,e.jsonEval=O,e.map=V,e.querystring=q,e.querystringDecode=B,e.safeGet=U,e.stringLength=et,e.stringToByteArray=tt,e.stringify=R,e.validateArgCount=Y,e.validateCallback=X,e.validateContextObject=Z,e.validateNamespace=J}).call(this,n(\"c8ba\"))},d191:function(t,e,n){},dcaa:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"factory\",(function(){return j})),n.d(e,\"getGlobalVars\",(function(){return F})),n.d(e,\"registerAnalytics\",(function(){return W})),n.d(e,\"resetGlobalVars\",(function(){return M})),n.d(e,\"settings\",(function(){return U}));var r,i,o=n(\"c23d\"),s=n.n(o),a=(n(\"7d28\"),n(\"9ab4\")),u=n(\"abfd\"),c=n(\"cd51\"),h=n(\"4be4\"),l=\"measurementId\",f=\"firebase_id\",p=\"origin\",d=\"https://www.googletagmanager.com/gtag/js\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction v(t,e,n,i,o){var s=i||{};o&&o.global||(s=Object(a[\"__assign\"])(Object(a[\"__assign\"])({},i),{send_to:e})),t(r.EVENT,n,s||{})}function g(t,e,n,i){i&&i.global?t(r.SET,{screen_name:n}):t(r.CONFIG,e,{update:!0,screen_name:n})}function m(t,e,n,i){i&&i.global?t(r.SET,{user_id:n}):t(r.CONFIG,e,{update:!0,user_id:n})}function y(t,e,n,i){if(i&&i.global){for(var o={},s=0,a=Object.keys(n);s<a.length;s++){var u=a[s];o[\"user_properties.\"+u]=n[u]}t(r.SET,o)}else t(r.CONFIG,e,{update:!0,user_properties:n})}function w(t,e){window[\"ga-disable-\"+t]=!e}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(function(t){t[\"EVENT\"]=\"event\",t[\"SET\"]=\"set\",t[\"CONFIG\"]=\"config\"})(r||(r={})),function(t){t[\"ADD_SHIPPING_INFO\"]=\"add_shipping_info\",t[\"ADD_PAYMENT_INFO\"]=\"add_payment_info\",t[\"ADD_TO_CART\"]=\"add_to_cart\",t[\"ADD_TO_WISHLIST\"]=\"add_to_wishlist\",t[\"BEGIN_CHECKOUT\"]=\"begin_checkout\",t[\"CHECKOUT_PROGRESS\"]=\"checkout_progress\",t[\"EXCEPTION\"]=\"exception\",t[\"GENERATE_LEAD\"]=\"generate_lead\",t[\"LOGIN\"]=\"login\",t[\"PAGE_VIEW\"]=\"page_view\",t[\"PURCHASE\"]=\"purchase\",t[\"REFUND\"]=\"refund\",t[\"REMOVE_FROM_CART\"]=\"remove_from_cart\",t[\"SCREEN_VIEW\"]=\"screen_view\",t[\"SEARCH\"]=\"search\",t[\"SELECT_CONTENT\"]=\"select_content\",t[\"SELECT_ITEM\"]=\"select_item\",t[\"SELECT_PROMOTION\"]=\"select_promotion\",t[\"SET_CHECKOUT_OPTION\"]=\"set_checkout_option\",t[\"SHARE\"]=\"share\",t[\"SIGN_UP\"]=\"sign_up\",t[\"TIMING_COMPLETE\"]=\"timing_complete\",t[\"VIEW_CART\"]=\"view_cart\",t[\"VIEW_ITEM\"]=\"view_item\",t[\"VIEW_ITEM_LIST\"]=\"view_item_list\",t[\"VIEW_PROMOTION\"]=\"view_promotion\",t[\"VIEW_SEARCH_RESULTS\"]=\"view_search_results\"}(i||(i={}));var b,_=new u[\"Logger\"](\"@firebase/analytics\");\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function E(t,e,n){return Object(a[\"__awaiter\"])(this,void 0,void 0,(function(){var i,o;return Object(a[\"__generator\"])(this,(function(s){switch(s.label){case 0:return[4,e.getId()];case 1:return i=s.sent(),n(\"js\",new Date),n(r.CONFIG,t.options[l],(o={},o[f]=i,o[p]=\"firebase\",o.update=!0,o)),[2]}}))}))}function I(t){var e=document.createElement(\"script\");e.src=d+\"?l=\"+t,e.async=!0,document.head.appendChild(e)}function T(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function C(t,e){return function(n,i,o){if(n===r.EVENT){var s=[];if(o&&o[\"send_to\"]){var a=o[\"send_to\"];Array.isArray(a)||(a=[a]);for(var u=0,c=a;u<c.length;u++){var h=c[u],l=e[h];if(!l){s=[];break}s.push(l)}}if(0===s.length)for(var f=0,p=Object.values(e);f<p.length;f++){var d=p[f];s.push(d)}Promise.all(s).then((function(){return t(r.EVENT,i,o||{})})).catch((function(t){return _.error(t)}))}else if(n===r.CONFIG){var v=e[i]||Promise.resolve();v.then((function(){t(r.CONFIG,i,o)})).catch((function(t){return _.error(t)}))}else t(r.SET,i)}}function S(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&\"function\"===typeof window[n]&&(r=window[n]),window[n]=C(r,t),{gtagCore:r,wrappedGtag:window[n]}}function N(){for(var t=window.document.getElementsByTagName(\"script\"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(d))return r}return null}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var k,A,O=(b={},b[\"no-ga-id\"]='\"'+l+'\" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',b[\"already-exists\"]=\"A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.\",b[\"already-initialized\"]=\"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.\",b[\"interop-component-reg-failed\"]=\"Firebase Analytics Interop Component failed to instantiate\",b),R=new c[\"ErrorFactory\"](\"analytics\",\"Analytics\",O),P={},x=\"dataLayer\",D=\"gtag\",L=!1;function M(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),L=t,P=e,x=\"dataLayer\",D=\"gtag\"}function F(){return{initializedIdPromisesMap:P}}function U(t){if(L)throw R.create(\"already-initialized\");t.dataLayerName&&(x=t.dataLayerName),t.gtagName&&(D=t.gtagName)}function j(t,e){var n=t.options[l];if(!n)throw R.create(\"no-ga-id\");if(null!=P[n])throw R.create(\"already-exists\",{id:n});if(!L){N()||I(x),T(x);var r=S(P,x,D),i=r.wrappedGtag,o=r.gtagCore;A=i,k=o,L=!0}P[n]=E(t,e,k);var s={app:t,logEvent:function(t,e,r){return v(A,n,t,e,r)},setCurrentScreen:function(t,e){return g(A,n,t,e)},setUserId:function(t,e){return m(A,n,t,e)},setUserProperties:function(t,e){return y(A,n,t,e)},setAnalyticsCollectionEnabled:function(t){return w(n,t)}};return s}var V=\"@firebase/analytics\",q=\"0.3.1\",B=\"analytics\";function W(t){function e(t){try{var e=t.getProvider(B).getImmediate();return{logEvent:e.logEvent}}catch(n){throw R.create(\"interop-component-reg-failed\",{reason:n})}}t.INTERNAL.registerComponent(new h[\"Component\"](B,(function(t){var e=t.getProvider(\"app\").getImmediate(),n=t.getProvider(\"installations\").getImmediate();return j(e,n)}),\"PUBLIC\").setServiceProps({settings:U,EventName:i})),t.INTERNAL.registerComponent(new h[\"Component\"](\"analytics-internal\",e,\"PRIVATE\")),t.registerVersion(V,q)}W(s.a)},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];\".\"===i?t.splice(r,1):\"..\"===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift(\"..\");return t}function r(t){\"string\"!==typeof t&&(t+=\"\");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?\"\":t.slice(n,r)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e=\"\",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if(\"string\"!==typeof s)throw new TypeError(\"Arguments to path.resolve must be strings\");s&&(e=s+\"/\"+e,r=\"/\"===s.charAt(0))}return e=n(i(e.split(\"/\"),(function(t){return!!t})),!r).join(\"/\"),(r?\"/\":\"\")+e||\".\"},e.normalize=function(t){var r=e.isAbsolute(t),s=\"/\"===o(t,-1);return t=n(i(t.split(\"/\"),(function(t){return!!t})),!r).join(\"/\"),t||r||(t=\".\"),t&&s&&(t+=\"/\"),(r?\"/\":\"\")+t},e.isAbsolute=function(t){return\"/\"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if(\"string\"!==typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t})).join(\"/\"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(\"\"!==t[e])break;for(var n=t.length-1;n>=0;n--)if(\"\"!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split(\"/\")),o=r(n.split(\"/\")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push(\"..\");return c=c.concat(o.slice(a)),c.join(\"/\")},e.sep=\"/\",e.delimiter=\":\",e.dirname=function(t){if(\"string\"!==typeof t&&(t+=\"\"),0===t.length)return\".\";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){r=o;break}}else i=!1;return-1===r?n?\"/\":\".\":n&&1===r?\"/\":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){\"string\"!==typeof t&&(t+=\"\");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?\"\":t.slice(e,r)};var o=\"b\"===\"ab\".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(\"4362\"))},e89a:function(t,e,n){\"use strict\";(function(t){function r(t){return t&&\"object\"===typeof t&&\"default\"in t?t[\"default\"]:t}Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(n(\"c23d\")),o=n(\"9ab4\"),s=n(\"abfd\"),a=n(\"cd51\"),u=n(\"4be4\"),c=n(\"c7b2\"),h=i.SDK_VERSION,l=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.i=function(){return this.t()?\"uid:\"+this.uid:\"anonymous-user\"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.u=new t(\"google-credentials-uid\"),t.s=new t(\"first-party-uid\"),t}(),f={OK:\"ok\",CANCELLED:\"cancelled\",UNKNOWN:\"unknown\",INVALID_ARGUMENT:\"invalid-argument\",DEADLINE_EXCEEDED:\"deadline-exceeded\",NOT_FOUND:\"not-found\",ALREADY_EXISTS:\"already-exists\",PERMISSION_DENIED:\"permission-denied\",UNAUTHENTICATED:\"unauthenticated\",RESOURCE_EXHAUSTED:\"resource-exhausted\",FAILED_PRECONDITION:\"failed-precondition\",ABORTED:\"aborted\",OUT_OF_RANGE:\"out-of-range\",UNIMPLEMENTED:\"unimplemented\",INTERNAL:\"internal\",UNAVAILABLE:\"unavailable\",DATA_LOSS:\"data-loss\"},p=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name=\"FirebaseError\",r.toString=function(){return r.name+\": [code=\"+r.code+\"]: \"+r.message},r}return o.__extends(e,t),e}(Error),d=function(t,e){this.user=e,this.type=\"OAuth\",this.o={},this.o.Authorization=\"Bearer \"+t},v=function(){function t(){this.h=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.l=function(){},t.prototype.v=function(t){xe(!this.h,\"Can only call setChangeListener() once.\"),this.h=t,t(l.UNAUTHENTICATED)},t.prototype.m=function(){xe(null!==this.h,\"removeChangeListener() when no listener registered\"),this.h=null},t}(),g=function(){function t(t){var e=this;this.p=null,this.currentUser=l.UNAUTHENTICATED,this.g=!1,this._=0,this.h=null,this.forceRefresh=!1,this.p=function(){e._++,e.currentUser=e.I(),e.g=!0,e.h&&e.h(e.currentUser)},this._=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.p):(this.p(null),t.get().then((function(t){e.auth=t,e.p&&e.auth.addAuthTokenListener(e.p)}),(function(){})))}return t.prototype.getToken=function(){var t=this;xe(null!=this.p,\"getToken cannot be called after listener removed.\");var e=this._,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t._!==e)throw new p(f.ABORTED,\"getToken aborted due to token change.\");return n?(xe(\"string\"==typeof n.accessToken,\"Invalid tokenData returned from getToken():\"+n),new d(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.l=function(){this.forceRefresh=!0},t.prototype.v=function(t){xe(!this.h,\"Can only call setChangeListener() once.\"),this.h=t,this.g&&t(this.currentUser)},t.prototype.m=function(){xe(null!=this.p,\"removeChangeListener() called twice\"),xe(null!==this.h,\"removeChangeListener() called when no listener registered\"),this.auth&&this.auth.removeAuthTokenListener(this.p),this.p=null,this.h=null},t.prototype.I=function(){var t=this.auth&&this.auth.getUid();return xe(null===t||\"string\"==typeof t,\"Received invalid UID: \"+t),new l(t)},t}(),m=function(){function t(t,e){this.T=t,this.D=e,this.type=\"FirstParty\",this.user=l.s}return Object.defineProperty(t.prototype,\"o\",{get:function(){var t={\"X-Goog-AuthUser\":this.D},e=this.T.auth.R([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),y=function(){function t(t,e){this.T=t,this.D=e}return t.prototype.getToken=function(){return Promise.resolve(new m(this.T,this.D))},t.prototype.v=function(t){t(l.s)},t.prototype.m=function(){},t.prototype.l=function(){},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction w(t){if(!t)return new v;switch(t.type){case\"gapi\":var e=t.S;return xe(!(\"object\"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),\"unexpected gapi interface\"),new y(e,t.D||\"0\");case\"provider\":return t.S;default:throw new p(f.INVALID_ARGUMENT,\"makeCredentialsProvider failed due to invalid credential type\")}}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var b=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new p(f.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(e>=1e9)throw new p(f.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(t<-62135596800)throw new p(f.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t);if(t>=253402300800)throw new p(f.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.A=function(t){return this.seconds===t.seconds?Le(this.nanoseconds,t.nanoseconds):Le(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return\"Timestamp(seconds=\"+this.seconds+\", nanoseconds=\"+this.nanoseconds+\")\"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,\"0\")+\".\"+String(this.nanoseconds).padStart(9,\"0\")},t}(),_=function(){function t(t){this.timestamp=t}return t.C=function(e){var n=Math.floor(e/1e6);return new t(new b(n,e%1e6*1e3))},t.P=function(e){return new t(e)},t.V=function(){return t.MIN},t.prototype.k=function(t){return this.timestamp.A(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.N=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return\"SnapshotVersion(\"+this.timestamp.toString()+\")\"},t.prototype.O=function(){return this.timestamp},t.MIN=new t(new b(0,0)),t}(),E=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Pe(\"offset \"+e+\" out of range \"+t.length),void 0===n?n=t.length-e:n>t.length-e&&Pe(\"length \"+n+\" out of range \"+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,\"length\",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.F(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.U(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.j=function(t){return t=void 0===t?1:t,xe(this.length>=t,\"Can't call popFirst() with less segments\"),this.U(this.segments,this.offset+t,this.length-t)},t.prototype.L=function(){return xe(!this.M(),\"Can't call popLast() on empty path\"),this.U(this.segments,this.offset,this.length-1)},t.prototype.q=function(){return xe(!this.M(),\"Can't call firstSegment() on empty path\"),this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return xe(t<this.length,\"Index out of range\"),this.segments[this.offset+t]},t.prototype.M=function(){return 0===this.length},t.prototype.G=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.K=function(){return this.segments.slice(this.offset,this.limit())},t.F=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.K().join(\"/\")},e.prototype.toString=function(){return this.J()},e.H=function(t){if(t.indexOf(\"//\")>=0)throw new p(f.INVALID_ARGUMENT,\"Invalid path (\"+t+\"). Paths must not contain // in them.\");return new e(t.split(\"/\").filter((function(t){return t.length>0})))},e.Y=new e([]),e}(E),T=/^[_a-zA-Z][_a-zA-Z0-9]*$/,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,r){return new e(t,n,r)},e.X=function(t){return T.test(t)},e.prototype.J=function(){return this.K().map((function(t){return t=t.replace(\"\\\\\",\"\\\\\\\\\").replace(\"`\",\"\\\\`\"),e.X(t)||(t=\"`\"+t+\"`\"),t})).join(\".\")},e.prototype.toString=function(){return this.J()},e.prototype.$=function(){return 1===this.length&&\"__name__\"===this.get(0)},e.Z=function(){return new e([\"__name__\"])},e.tt=function(t){for(var n=[],r=\"\",i=0,o=function(){if(0===r.length)throw new p(f.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");n.push(r),r=\"\"},s=!1;i<t.length;){var a=t[i];if(\"\\\\\"===a){if(i+1===t.length)throw new p(f.INVALID_ARGUMENT,\"Path has trailing escape character: \"+t);var u=t[i+1];if(\"\\\\\"!==u&&\".\"!==u&&\"`\"!==u)throw new p(f.INVALID_ARGUMENT,\"Path has invalid escape sequence: \"+t);r+=u,i+=2}else\"`\"===a?(s=!s,i++):\".\"!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new p(f.INVALID_ARGUMENT,\"Unterminated ` in path: \"+t);return new e(n)},e.Y=new e([]),e}(E),S=function(){function t(e){this.path=e,xe(t.nt(e),\"Invalid DocumentKey with an odd number of segments: \"+e.K().join(\"/\"))}return t.it=function(e){return new t(I.H(e).j(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===I.F(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.F=function(t,e){return I.F(t.path,e.path)},t.nt=function(t){return t.length%2==0},t.rt=function(e){return new t(new I(e.slice()))},t.EMPTY=new t(new I([])),t}(),N=function(){function t(t,e){this.F=t,this.root=e||A.EMPTY}return t.prototype.ut=function(e,n){return new t(this.F,this.root.ut(e,n,this.F).copy(null,null,A.st,null,null))},t.prototype.remove=function(e){return new t(this.F,this.root.remove(e,this.F).copy(null,null,A.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.M();){var n=this.F(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.M();){var r=this.F(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.M=function(){return this.root.M()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype.forEach=function(t){this.ct((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ct((function(e,n){return t.push(e+\":\"+n),!1})),\"{\"+t.join(\", \")+\"}\"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ft=function(){return new k(this.root,null,this.F,!1)},t.prototype.lt=function(t){return new k(this.root,t,this.F,!1)},t.prototype.dt=function(){return new k(this.root,null,this.F,!0)},t.prototype.vt=function(t){return new k(this.root,t,this.F,!0)},t}(),k=function(){function t(t,e,n,r){this.wt=r,this.pt=[];for(var i=1;!t.M();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.pt.push(t);break}this.pt.push(t),t=this.wt?t.right:t.left}}return t.prototype.bt=function(){xe(this.pt.length>0,\"getNext() called on iterator when hasNext() is false.\");var t=this.pt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.M();)this.pt.push(t),t=t.right;else for(t=t.right;!t.M();)this.pt.push(t),t=t.left;return e},t.prototype.gt=function(){return this.pt.length>0},t.prototype.yt=function(){if(0===this.pt.length)return null;var t=this.pt[this.pt.length-1];return{key:t.key,value:t.value}},t}(),A=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.M=function(){return!1},t.prototype.ct=function(t){return this.left.ct(t)||t(this.key,this.value)||this.right.ct(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left.M()?this:this.left.min()},t.prototype.ot=function(){return this.min().key},t.prototype.ht=function(){return this.right.M()?this.key:this.right.ht()},t.prototype.ut=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ut(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ut(t,e,n)))._t()},t.prototype.It=function(){if(this.left.M())return t.EMPTY;var e=this;return e.left.Tt()||e.left.left.Tt()||(e=e.Et()),(e=e.copy(null,null,null,e.left.It(),null))._t()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.M()||i.left.Tt()||i.left.left.Tt()||(i=i.Et()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Tt()&&(i=i.Dt()),i.right.M()||i.right.Tt()||i.right.left.Tt()||(i=i.Rt()),0===n(e,i.key)){if(i.right.M())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i._t()},t.prototype.Tt=function(){return this.color},t.prototype._t=function(){var t=this;return t.right.Tt()&&!t.left.Tt()&&(t=t.St()),t.left.Tt()&&t.left.left.Tt()&&(t=t.Dt()),t.left.Tt()&&t.right.Tt()&&(t=t.At()),t},t.prototype.Et=function(){var t=this.At();return t.right.left.Tt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Dt())).St()).At()),t},t.prototype.Rt=function(){var t=this.At();return t.left.left.Tt()&&(t=(t=t.Dt()).At()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Dt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.At=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Pt();return Math.pow(2,t)<=this.size+1},t.prototype.Pt=function(){if(this.Tt()&&this.left.Tt())throw Pe(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.Tt())throw Pe(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.Pt();if(t!==this.right.Pt())throw Pe(\"Black depths differ\");return t+(this.Tt()?0:1)},t.EMPTY=null,t.RED=!0,t.st=!1,t}(),O=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,\"key\",{get:function(){throw Pe(\"LLRBEmptyNode has no key.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"value\",{get:function(){throw Pe(\"LLRBEmptyNode has no value.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"color\",{get:function(){throw Pe(\"LLRBEmptyNode has no color.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"left\",{get:function(){throw Pe(\"LLRBEmptyNode has no left child.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"right\",{get:function(){throw Pe(\"LLRBEmptyNode has no right child.\")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ut=function(t,e,n){return new A(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.M=function(){return!0},t.prototype.ct=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.ot=function(){return null},t.prototype.ht=function(){return null},t.prototype.Tt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Pt=function(){return 0},t}();A.EMPTY=new O;\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar R=function(){function t(t){this.F=t,this.data=new N(this.F)}return t.Vt=function(e){var n=new t(e.F);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ot()},t.prototype.last=function(){return this.data.ht()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ct((function(e,n){return t(e),!1}))},t.prototype.kt=function(t,e){for(var n=this.data.lt(t[0]);n.gt();){var r=n.bt();if(this.F(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Nt=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data.ft();n.gt();)if(!t(n.bt().key))return},t.prototype.Ot=function(t){var e=this.data.lt(t);return e.gt()?e.bt().key:null},t.prototype.ft=function(){return new P(this.data.ft())},t.prototype.lt=function(t){return new P(this.data.lt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ut(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.M=function(){return this.data.M()},t.prototype.Ft=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ft(),r=e.data.ft();n.gt();){var i=n.bt().key,o=r.bt().key;if(0!==this.F(i,o))return!1}return!0},t.prototype.K=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),\"SortedSet(\"+t.toString()+\")\"},t.prototype.copy=function(e){var n=new t(this.F);return n.data=e,n},t}(),P=function(){function t(t){this.Ut=t}return t.prototype.bt=function(){return this.Ut.bt().key},t.prototype.gt=function(){return this.Ut.gt()},t}();\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function x(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function D(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L(t){for(var e in xe(null!=t&&\"object\"==typeof t,\"isEmpty() expects object parameter.\"),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var M=function(){function t(t){this.jt=t}return t.fromBase64String=function(e){return new t(Ce.xt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e=\"\",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return Ce.xt().btoa(this.jt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(this.jt)},t.prototype.Lt=function(){return 2*this.jt.length},t.prototype.k=function(t){return Le(this.jt,t.jt)},t.prototype.isEqual=function(t){return this.jt===t.jt},t.Mt=new t(\"\"),t}();function F(t){return null==t}function U(t){return-0===t&&1/t==-1/0}function j(t){return\"number\"==typeof t&&Number.isInteger(t)&&!U(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function V(t){var e,n;return\"server_timestamp\"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q(t){var e=$(t.mapValue.fields.__local_write_time__.timestampValue);return new b(e.seconds,e.nanos)}\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var B=new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);function W(t){return\"nullValue\"in t?0:\"booleanValue\"in t?1:\"integerValue\"in t||\"doubleValue\"in t?2:\"timestampValue\"in t?3:\"stringValue\"in t?5:\"bytesValue\"in t?6:\"referenceValue\"in t?7:\"geoPointValue\"in t?8:\"arrayValue\"in t?9:\"mapValue\"in t?V(t)?4:10:Pe(\"Invalid value type: \"+JSON.stringify(t))}function z(t,e){var n=W(t);if(n!==W(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return q(t).isEqual(q(e));case 3:return function(t,e){if(\"string\"==typeof t.timestampValue&&\"string\"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=$(t.timestampValue),r=$(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return X(t.bytesValue).isEqual(X(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return J(t.geoPointValue.latitude)===J(e.geoPointValue.latitude)&&J(t.geoPointValue.longitude)===J(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if(\"integerValue\"in t&&\"integerValue\"in e)return J(t.integerValue)===J(e.integerValue);if(\"doubleValue\"in t&&\"doubleValue\"in e){var n=J(t.doubleValue),r=J(e.doubleValue);return n===r?U(n)===U(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Me(t.arrayValue.values||[],e.arrayValue.values||[],z);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(x(n)!==x(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!z(n[i],r[i])))return!1;return!0}(t,e);default:return Pe(\"Unexpected value type: \"+JSON.stringify(t))}}function G(t,e){return void 0!==(t.values||[]).find((function(t){return z(t,e)}))}function H(t,e){var n=W(t),r=W(e);if(n!==r)return Le(n,r);switch(n){case 0:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=J(t.integerValue||t.doubleValue),r=J(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return K(t.timestampValue,e.timestampValue);case 4:return K(q(t),q(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(t,e){var n=X(t),r=X(e);return n.k(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split(\"/\"),r=e.split(\"/\"),i=0;i<n.length&&i<r.length;i++){var o=Le(n[i],r[i]);if(0!==o)return o}return Le(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Le(J(t.latitude),J(e.latitude));return 0!==n?n:Le(J(t.longitude),J(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=H(n[i],r[i]);if(o)return o}return Le(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Le(r[s],o[s]);if(0!==a)return a;var u=H(n[r[s]],i[o[s]]);if(0!==u)return u}return Le(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Pe(\"Invalid value type: \"+n)}}function K(t,e){if(\"string\"==typeof t&&\"string\"==typeof e&&t.length===e.length)return Le(t,e);var n=$(t),r=$(e),i=Le(n.seconds,r.seconds);return 0!==i?i:Le(n.nanos,r.nanos)}function Q(t){return Y(t)}function Y(t){return\"nullValue\"in t?\"null\":\"booleanValue\"in t?\"\"+t.booleanValue:\"integerValue\"in t?\"\"+t.integerValue:\"doubleValue\"in t?\"\"+t.doubleValue:\"timestampValue\"in t?(r=t.timestampValue,\"time(\"+(i=$(r)).seconds+\",\"+i.nanos+\")\"):\"stringValue\"in t?t.stringValue:\"bytesValue\"in t?X(t.bytesValue).toBase64():\"referenceValue\"in t?(n=t.referenceValue,S.it(n).toString()):\"geoPointValue\"in t?\"geo(\"+(e=t.geoPointValue).latitude+\",\"+e.longitude+\")\":\"arrayValue\"in t?function(t){for(var e=\"[\",n=!0,r=0,i=t.values||[];r<i.length;r++){var o=i[r];n?n=!1:e+=\",\",e+=Y(o)}return e+\"]\"}(t.arrayValue):\"mapValue\"in t?function(t){for(var e=Object.keys(t.fields||{}).sort(),n=\"{\",r=!0,i=0,o=e;i<o.length;i++){var s=o[i];r?r=!1:n+=\",\",n+=s+\":\"+Y(t.fields[s])}return n+\"}\"}(t.mapValue):Pe(\"Invalid value type: \"+JSON.stringify(t));var e,n,r,i}function $(t){if(xe(!!t,\"Cannot normalize null or undefined timestamp.\"),\"string\"==typeof t){var e=0,n=B.exec(t);if(xe(!!n,\"invalid timestamp: \"+t),n[1]){var r=n[1];r=(r+\"000000000\").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:J(t.seconds),nanos:e=J(t.nanos)}}function J(t){return\"number\"==typeof t?t:\"string\"==typeof t?Number(t):0}function X(t){return\"string\"==typeof t?M.fromBase64String(t):M.fromUint8Array(t)}function Z(t,e){return{referenceValue:\"projects/\"+t.projectId+\"/databases/\"+t.database+\"/documents/\"+e.path.J()}}function tt(t){return!!t&&\"integerValue\"in t}function et(t){return tt(t)||function(t){return!!t&&\"doubleValue\"in t}(t)}function nt(t){return!!t&&\"arrayValue\"in t}function rt(t){return!!t&&\"referenceValue\"in t}function it(t){return!!t&&\"nullValue\"in t}function ot(t){return!!t&&\"doubleValue\"in t&&isNaN(Number(t.doubleValue))}function st(t){return!!t&&\"mapValue\"in t}\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var at=function(){function t(){}return t.prototype.qt=function(t,e){return function(t,e){var n,r={fields:(n={},n.__type__={stringValue:\"server_timestamp\"},n.__local_write_time__={timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}},n)};return e&&(r.fields.__previous_value__=e),{mapValue:r}}(e,t)},t.prototype.Bt=function(t,e){return e},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ut=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=lt(t),n=function(t){e.some((function(e){return z(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Me(this.elements,e.elements,z)},t}(),ct=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=lt(t),n=function(t){e=e.filter((function(e){return!z(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Me(this.elements,e.elements,z)},t}(),ht=function(){function t(t,e){this.serializer=t,this.Gt=e,xe(et(e),\"NumericIncrementTransform transform requires a NumberValue\")}return t.prototype.qt=function(t,e){var n=this.Qt(t),r=this.asNumber(n)+this.asNumber(this.Gt);return tt(n)&&tt(this.Gt)?this.serializer.Wt(r):this.serializer.zt(r)},t.prototype.Bt=function(t,e){return xe(null!==e,\"Didn't receive transformResult for NUMERIC_ADD transform\"),e},t.prototype.Qt=function(t){return et(t)?t:{integerValue:0}},t.prototype.isEqual=function(e){return e instanceof t&&z(this.Gt,e.Gt)},t.prototype.asNumber=function(t){return J(t.integerValue||t.doubleValue)},t}();function lt(t){return nt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var ft,pt,dt=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Jt=function(e){var n=new R(C.F);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Ht=function(t){var e=!1;return this.fields.forEach((function(n){n.G(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),vt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),gt=function(t,e){this.version=t,this.transformResults=e},mt=function(){function t(t,e){this.updateTime=t,this.exists=e,xe(void 0===t||void 0===e,'Precondition can specify \"exists\" or \"updateTime\" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,\"Yt\",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Xt=function(t){return void 0!==this.updateTime?t instanceof Nt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Nt:(xe(this.Yt,\"Precondition should be empty\"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,!((null!=e?!n||!e.isEqual(n):e!==n)||this.exists!==t.exists);var e,n},t.NONE=new t,t}(),yt=function(){function t(){}return t.prototype.$t=function(t){null!=t&&xe(t.key.isEqual(this.key),\"Can only apply a mutation to a document with the same key\")},t.Zt=function(t){return t instanceof Nt?t.version:_.MIN},t}(),wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.tn=r,i.type=0,i}return o.__extends(e,t),e.prototype.Bt=function(t,e){this.$t(t),xe(null==e.transformResults,\"Transform results received by SetMutation.\");var n=e.version;return new Nt(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=yt.Zt(t);return new Nt(this.key,r,this.value,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.tn.isEqual(t.tn)},e}(yt),bt=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.en=r,o.tn=i,o.type=1,o}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),xe(null==e.transformResults,\"Transform results received by PatchMutation.\"),!this.tn.Xt(t))return new At(this.key,e.version);var n=this.rn(t);return new Nt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=yt.Zt(t),i=this.rn(t);return new Nt(this.key,r,i,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)&&this.tn.isEqual(t.tn)},e.prototype.rn=function(t){var e;return e=t instanceof Nt?t.data():Tt.EMPTY,this.un(e)},e.prototype.un=function(t){var e=this,n=t.sn();return this.en.fields.forEach((function(t){if(!t.M()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.on()},e}(yt),_t=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=2,r.tn=mt.exists(!0),r}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),xe(null!=e.transformResults,\"Transform results missing for TransformMutation.\"),!this.tn.Xt(t))return new At(this.key,e.version);var n=this.hn(t),r=this.cn(t,e.transformResults),i=e.version,o=this.an(n.data(),r);return new Nt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=this.hn(t),i=this.fn(n,t,e),o=this.an(r.data(),i);return new Nt(this.key,r.version,o,{nn:!0})},e.prototype.in=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Nt?t.field(i.field):void 0,s=i.transform.Qt(o||null);null!=s&&(e=null==e?Tt.ln().set(i.field,s):e.set(i.field,s))}return e?e.on():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Me(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.tn.isEqual(t.tn)},e.prototype.hn=function(t){return xe(t instanceof Nt,\"Unknown MaybeDocument type \"+t),xe(t.key.isEqual(this.key),\"Can only transform a document with the same key\"),t},e.prototype.cn=function(t,e){var n=[];xe(this.fieldTransforms.length===e.length,\"server transform result count (\"+e.length+\") should match field transform count (\"+this.fieldTransforms.length+\")\");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof Nt&&(s=t.field(i.field)),n.push(o.Bt(s,e[r]))}return n},e.prototype.fn=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof Nt&&(u=e.field(s.field)),null===u&&n instanceof Nt&&(u=n.field(s.field)),r.push(a.qt(u,t))}return r},e.prototype.an=function(t,e){xe(e.length===this.fieldTransforms.length,\"TransformResults length mismatch.\");for(var n=t.sn(),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.on()},e}(yt),Et=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.tn=n,r.type=3,r}return o.__extends(e,t),e.prototype.Bt=function(t,e){return this.$t(t),xe(null==e.transformResults,\"Transform results received by DeleteMutation.\"),new kt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){return this.$t(t),this.tn.Xt(t)?(t&&xe(t.key.isEqual(this.key),\"Can only apply mutation to document with same key\"),new kt(this.key,_.V())):t},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(yt),It=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.tn=n,r.type=4,r}return o.__extends(e,t),e.prototype.Bt=function(t,e){Pe(\"VerifyMutation should only be used in Transactions.\")},e.prototype.qt=function(t,e,n){Pe(\"VerifyMutation should only be used in Transactions.\")},e.prototype.in=function(t){Pe(\"VerifyMutation should only be used in Transactions.\")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(yt),Tt=function(){function t(t){this.proto=t,xe(!V(t),\"ServerTimestamps should be converted to ServerTimestampValue\")}return t.ln=function(){return t.EMPTY.sn()},t.prototype.field=function(t){if(t.M())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!st(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.en=function(){return this.dn(this.proto.mapValue)},t.prototype.dn=function(t){var e=this,n=new R(C.F);return D(t.fields||{},(function(t,r){var i=new C([t]);if(10===W(r)){var o=e.dn(r.mapValue).fields;o.M()?n=n.add(i):o.forEach((function(t){n=n.add(i.child(t))}))}else n=n.add(i)})),dt.Kt(n)},t.prototype.isEqual=function(t){return z(this.proto,t.proto)},t.prototype.sn=function(){return new Ct(this)},t.EMPTY=new t({mapValue:{}}),t}(),Ct=function(){function t(t){this.vn=t,this.wn=new Map}return t.prototype.set=function(t,e){return xe(!t.M(),\"Cannot set field for empty path on ObjectValue\"),this.mn(t,e),this},t.prototype.delete=function(t){return xe(!t.M(),\"Cannot delete field for empty path on ObjectValue\"),this.mn(t,null),this},t.prototype.mn=function(t,e){for(var n=this.wn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===W(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.B(),e)},t.prototype.on=function(){var t=this.pn(C.Y,this.wn);return null!=t?new Tt(t):this.vn},t.prototype.pn=function(t,e){var n=this,r=!1,i=this.vn.field(t),s=st(i)?o.__assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.pn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}(),St=function(){function t(t,e){this.key=t,this.version=e}return t.bn=function(t,e){return S.F(t.key,e.key)},t}(),Nt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.gn=r,o.nn=!!i.nn,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o.__extends(e,t),e.prototype.field=function(t){return this.gn.field(t)},e.prototype.data=function(){return this.gn},e.prototype.yn=function(){return this.gn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.nn===t.nn&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gn.isEqual(t.gn)},e.prototype.toString=function(){return\"Document(\"+this.key+\", \"+this.version+\", \"+this.gn.toString()+\", {hasLocalMutations: \"+this.nn+\"}), {hasCommittedMutations: \"+this.hasCommittedMutations+\"})\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return this.nn||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e._n=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?H(r,i):Pe(\"Trying to compare documents on fields that don't exist\")},e}(St),kt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return\"NoDocument(\"+this.key+\", \"+this.version+\")\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(St),At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return\"UnknownDocument(\"+this.key+\", \"+this.version+\")\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(St),Ot=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.In=null}return t.prototype.canonicalId=function(){if(null===this.In){var t=this.path.J();null!==this.collectionGroup&&(t+=\"|cg:\"+this.collectionGroup),t+=\"|f:\",t+=this.filters.map((function(t){return t.canonicalId()})).join(\",\"),t+=\"|ob:\",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(\",\"),F(this.limit)||(t+=\"|l:\",t+=this.limit),this.startAt&&(t+=\"|lb:\",t+=this.startAt.canonicalId()),this.endAt&&(t+=\"|ub:\",t+=this.endAt.canonicalId()),this.In=t}return this.In},t.prototype.toString=function(){var t=this.path.J();return null!==this.collectionGroup&&(t+=\" collectionGroup=\"+this.collectionGroup),this.filters.length>0&&(t+=\", filters: [\"+this.filters.join(\", \")+\"]\"),F(this.limit)||(t+=\", limit: \"+this.limit),this.orderBy.length>0&&(t+=\", orderBy: [\"+this.orderBy.join(\", \")+\"]\"),this.startAt&&(t+=\", startAt: \"+this.startAt.canonicalId()),this.endAt&&(t+=\", endAt: \"+this.endAt.canonicalId()),\"Target(\"+t+\")\"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Tn=function(){return S.nt(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Rt=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=\"F\"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.En=n,this.filters=r,this.limit=i,this.Dn=o,this.startAt=s,this.endAt=a,this.Rn=null,this.Sn=null,this.startAt&&this.An(this.startAt),this.endAt&&this.An(this.endAt)}return t.Cn=function(e){return new t(e)},Object.defineProperty(t.prototype,\"orderBy\",{get:function(){if(null===this.Rn){var t=this.Pn(),e=this.Vn();if(null!==t&&null===e)t.$()?this.Rn=[Wt]:this.Rn=[new Bt(t),Wt];else{xe(null===t||null!==e&&t.isEqual(e),\"First orderBy should match inequality field.\"),this.Rn=[];for(var n=!1,r=0,i=this.En;r<i.length;r++){var o=i[r];this.Rn.push(o),o.field.$()&&(n=!0)}if(!n){var s=this.En.length>0?this.En[this.En.length-1].dir:Vt.ASCENDING;this.Rn.push(s===Vt.ASCENDING?Wt:zt)}}}return this.Rn},enumerable:!0,configurable:!0}),t.prototype.kn=function(e){xe(null==this.Pn()||!(e instanceof Dt)||!e.Nn()||e.field.isEqual(this.Pn()),\"Query must only have one inequality field.\"),xe(!this.Tn(),\"No filtering allowed for document query\");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.En.slice(),n,this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.On=function(e){xe(!this.startAt&&!this.endAt,\"Bounds must be set after orderBy\");var n=this.En.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Fn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,\"F\",this.startAt,this.endAt)},t.prototype.Un=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,\"L\",this.startAt,this.endAt)},t.prototype.jn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,e,this.endAt)},t.prototype.xn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,e)},t.prototype.Ln=function(e){return new t(e,null,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Mn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.En.length||1===this.En.length&&this.En[0].field.$())},t.prototype.canonicalId=function(){return this.qn().canonicalId()+\"|lt:\"+this.Dn},t.prototype.toString=function(){return\"Query(target=\"+this.qn().toString()+\"; limitType=\"+this.Dn+\")\"},t.prototype.isEqual=function(t){return this.qn().isEqual(t.qn())&&this.Dn===t.Dn},t.prototype.Bn=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.$()}return xe(n,\"orderBy used that doesn't compare on key field\"),0},t.prototype.matches=function(t){return this.Qn(t)&&this.Gn(t)&&this.Wn(t)&&this.zn(t)},t.prototype.Kn=function(){return!F(this.limit)&&\"F\"===this.Dn},t.prototype.Jn=function(){return!F(this.limit)&&\"L\"===this.Dn},t.prototype.Vn=function(){return this.En.length>0?this.En[0].field:null},t.prototype.Pn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Dt&&n.Nn())return n.field}return null},t.prototype.Hn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Dt&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Tn=function(){return this.qn().Tn()},t.prototype.Yn=function(){return null!==this.collectionGroup},t.prototype.qn=function(){if(!this.Sn)if(\"F\"===this.Dn)this.Sn=new Ot(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i=r.dir===Vt.DESCENDING?Vt.ASCENDING:Vt.DESCENDING;t.push(new Bt(r.field,i))}var o=this.endAt?new qt(this.endAt.position,!this.endAt.before):null,s=this.startAt?new qt(this.startAt.position,!this.startAt.before):null;this.Sn=new Ot(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.Sn},t.prototype.Qn=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.G(e):S.nt(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.Gn=function(t){for(var e=0,n=this.En;e<n.length;e++){var r=n[e];if(!r.field.$()&&null===t.field(r.field))return!1}return!0},t.prototype.Wn=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.zn=function(t){return!(this.startAt&&!this.startAt.Xn(this.orderBy,t))&&(!this.endAt||!this.endAt.Xn(this.orderBy,t))},t.prototype.An=function(t){xe(t.position.length<=this.orderBy.length,\"Bound is longer than orderBy\")},t}(),Pt=function(){},xt=function(){function t(t){this.name=t}return t.H=function(e){switch(e){case\"<\":return t.LESS_THAN;case\"<=\":return t.LESS_THAN_OR_EQUAL;case\"==\":return t.EQUAL;case\">=\":return t.GREATER_THAN_OR_EQUAL;case\">\":return t.GREATER_THAN;case\"array-contains\":return t.ARRAY_CONTAINS;case\"in\":return t.IN;case\"array-contains-any\":return t.ARRAY_CONTAINS_ANY;default:return Pe(\"Unknown FieldFilter operator: \"+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t(\"<\"),t.LESS_THAN_OR_EQUAL=new t(\"<=\"),t.EQUAL=new t(\"==\"),t.GREATER_THAN=new t(\">\"),t.GREATER_THAN_OR_EQUAL=new t(\">=\"),t.ARRAY_CONTAINS=new t(\"array-contains\"),t.IN=new t(\"in\"),t.ARRAY_CONTAINS_ANY=new t(\"array-contains-any\"),t}(),Dt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.$())return n===xt.IN?(xe(nt(r),\"Comparing on key with IN, but filter value not an ArrayValue\"),xe((r.arrayValue.values||[]).every((function(t){return rt(t)})),\"Comparing on key with IN, but an array value was not a RefValue\"),new Mt(t,r)):(xe(rt(r),\"Comparing on key, but filter value not a RefValue\"),xe(n!==xt.ARRAY_CONTAINS&&n!==xt.ARRAY_CONTAINS_ANY,\"'\"+n.toString()+\"' queries don't make sense on document keys.\"),new Lt(t,n,r));if(it(r)){if(n!==xt.EQUAL)throw new p(f.INVALID_ARGUMENT,\"Invalid query. Null supports only equality comparisons.\");return new e(t,n,r)}if(ot(r)){if(n!==xt.EQUAL)throw new p(f.INVALID_ARGUMENT,\"Invalid query. NaN supports only equality comparisons.\");return new e(t,n,r)}return n===xt.ARRAY_CONTAINS?new Ft(t,r):n===xt.IN?(xe(nt(r),\"IN filter has invalid value: \"+r.toString()),new Ut(t,r)):n===xt.ARRAY_CONTAINS_ANY?(xe(nt(r),\"ARRAY_CONTAINS_ANY filter has invalid value: \"+r.toString()),new jt(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&W(this.value)===W(e)&&this.$n(H(e,this.value))},e.prototype.$n=function(t){switch(this.op){case xt.LESS_THAN:return t<0;case xt.LESS_THAN_OR_EQUAL:return t<=0;case xt.EQUAL:return 0===t;case xt.GREATER_THAN:return t>0;case xt.GREATER_THAN_OR_EQUAL:return t>=0;default:return Pe(\"Unknown FieldFilter operator: \"+this.op)}},e.prototype.Nn=function(){return[xt.LESS_THAN,xt.LESS_THAN_OR_EQUAL,xt.GREATER_THAN,xt.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.J()+this.op.toString()+Q(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&z(this.value,t.value)},e.prototype.toString=function(){return this.field.J()+\" \"+this.op+\" \"+Q(this.value)},e}(Pt),Lt=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return xe(rt(r),\"KeyFieldFilter expects a ReferenceValue\"),i.key=S.it(r.referenceValue),i}return o.__extends(e,t),e.prototype.matches=function(t){var e=S.F(t.key,this.key);return this.$n(e)},e}(Dt),Mt=function(t){function e(e,n){var r=t.call(this,e,xt.IN,n)||this;return xe(nt(n),\"KeyFieldInFilter expects an ArrayValue\"),r.keys=(n.arrayValue.values||[]).map((function(t){return xe(rt(t),\"Comparing on key with IN, but an array value was not a ReferenceValue\"),S.it(t.referenceValue)})),r}return o.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Dt),Ft=function(t){function e(e,n){return t.call(this,e,xt.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return nt(e)&&G(e.arrayValue,this.value)},e}(Dt),Ut=function(t){function e(e,n){var r=t.call(this,e,xt.IN,n)||this;return xe(nt(n),\"InFilter expects an ArrayValue\"),r}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&G(this.value.arrayValue,e)},e}(Dt),jt=function(t){function e(e,n){var r=t.call(this,e,xt.ARRAY_CONTAINS_ANY,n)||this;return xe(nt(n),\"ArrayContainsAnyFilter expects an ArrayValue\"),r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!nt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return G(e.value.arrayValue,t)}))},e}(Dt),Vt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t(\"asc\"),t.DESCENDING=new t(\"desc\"),t}(),qt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?\"b\":\"a\")+\":\"+this.position.map((function(t){return Q(t)})).join(\",\")},t.prototype.Xn=function(t,e){xe(this.position.length<=t.length,\"Bound has more components than query's orderBy\");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.$())xe(rt(o),\"Bound has a non-key value where the key path is being used.\"),n=S.F(S.it(o.referenceValue),e.key);else{var s=e.field(i.field);xe(null!==s,\"Field should exist since document matched the orderBy already.\"),n=H(o,s)}if(i.dir===Vt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!z(this.position[e],t.position[e]))return!1;return!0},t}(),Bt=function(){function t(t,e){this.field=t,void 0===e&&(e=Vt.ASCENDING),this.dir=e,this.Zn=t.$()}return t.prototype.compare=function(t,e){var n=this.Zn?Nt.bn(t,e):Nt._n(this.field,t,e);switch(this.dir){case Vt.ASCENDING:return n;case Vt.DESCENDING:return-1*n;default:return Pe(\"Unknown direction: \"+this.dir)}},t.prototype.canonicalId=function(){return this.field.J()+this.dir.toString()},t.prototype.toString=function(){return this.field.J()+\" (\"+this.dir+\")\"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Wt=new Bt(C.Z(),Vt.ASCENDING),zt=new Bt(C.Z(),Vt.DESCENDING),Gt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=_.MIN),void 0===o&&(o=_.MIN),void 0===s&&(s=M.Mt),this.target=t,this.targetId=e,this.ti=n,this.sequenceNumber=r,this.ni=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.ii=function(e){return new t(this.target,this.targetId,this.ti,e,this.ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ei=function(e,n){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ri=function(e){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,this.ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.ti===t.ti&&this.sequenceNumber===t.sequenceNumber&&this.ni.isEqual(t.ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Ht=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Kt(t){switch(t){case f.OK:return Pe(\"Treated status OK as error\");case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return Pe(\"Unknown status code: \"+t)}}function Qt(t){if(void 0===t)return Oe(\"GRPC error has no .code\"),f.UNKNOWN;switch(t){case ft.OK:return f.OK;case ft.CANCELLED:return f.CANCELLED;case ft.UNKNOWN:return f.UNKNOWN;case ft.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case ft.INTERNAL:return f.INTERNAL;case ft.UNAVAILABLE:return f.UNAVAILABLE;case ft.UNAUTHENTICATED:return f.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case ft.NOT_FOUND:return f.NOT_FOUND;case ft.ALREADY_EXISTS:return f.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return f.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case ft.ABORTED:return f.ABORTED;case ft.OUT_OF_RANGE:return f.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return f.UNIMPLEMENTED;case ft.DATA_LOSS:return f.DATA_LOSS;default:return Pe(\"Unknown status code: \"+t)}}(pt=ft||(ft={}))[pt.OK=0]=\"OK\",pt[pt.CANCELLED=1]=\"CANCELLED\",pt[pt.UNKNOWN=2]=\"UNKNOWN\",pt[pt.INVALID_ARGUMENT=3]=\"INVALID_ARGUMENT\",pt[pt.DEADLINE_EXCEEDED=4]=\"DEADLINE_EXCEEDED\",pt[pt.NOT_FOUND=5]=\"NOT_FOUND\",pt[pt.ALREADY_EXISTS=6]=\"ALREADY_EXISTS\",pt[pt.PERMISSION_DENIED=7]=\"PERMISSION_DENIED\",pt[pt.UNAUTHENTICATED=16]=\"UNAUTHENTICATED\",pt[pt.RESOURCE_EXHAUSTED=8]=\"RESOURCE_EXHAUSTED\",pt[pt.FAILED_PRECONDITION=9]=\"FAILED_PRECONDITION\",pt[pt.ABORTED=10]=\"ABORTED\",pt[pt.OUT_OF_RANGE=11]=\"OUT_OF_RANGE\",pt[pt.UNIMPLEMENTED=12]=\"UNIMPLEMENTED\",pt[pt.INTERNAL=13]=\"INTERNAL\",pt[pt.UNAVAILABLE=14]=\"UNAVAILABLE\",pt[pt.DATA_LOSS=15]=\"DATA_LOSS\";\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Yt=new N(S.F);function $t(){return Yt}function Jt(){return $t()}var Xt=new N(S.F);function Zt(){return Xt}var te=new N(S.F);function ee(){return te}var ne=new R(S.F);function re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ne,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ie=new R(Le);function oe(){return ie}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var se=function(){function t(t){this.F=t?function(e,n){return t(e,n)||S.F(e.key,n.key)}:function(t,e){return S.F(t.key,e.key)},this.ui=Zt(),this.si=new N(this.F)}return t.oi=function(e){return new t(e.F)},t.prototype.has=function(t){return null!=this.ui.get(t)},t.prototype.get=function(t){return this.ui.get(t)},t.prototype.first=function(){return this.si.ot()},t.prototype.last=function(){return this.si.ht()},t.prototype.M=function(){return this.si.M()},t.prototype.indexOf=function(t){var e=this.ui.get(t);return e?this.si.indexOf(e):-1},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.si.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.si.ct((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ui.ut(t.key,t),e.si.ut(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ui.remove(t),this.si.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.si.ft(),r=e.si.ft();n.gt();){var i=n.bt().key,o=r.bt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?\"DocumentSet ()\":\"DocumentSet (\\n  \"+t.join(\"  \\n\")+\"\\n)\"},t.prototype.copy=function(e,n){var r=new t;return r.F=this.F,r.ui=e,r.si=n,r},t}(),ae=function(){function t(){this.hi=new N(S.F)}return t.prototype.track=function(t){var e=t.doc.key,n=this.hi.get(e);n?0!==t.type&&3===n.type?this.hi=this.hi.ut(e,t):3===t.type&&1!==n.type?this.hi=this.hi.ut(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.hi=this.hi.ut(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.hi=this.hi.remove(e):1===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):Pe(\"unsupported combination of changes: \"+JSON.stringify(t)+\" after \"+JSON.stringify(n)):this.hi=this.hi.ut(e,t)},t.prototype.ci=function(){var t=[];return this.hi.ct((function(e,n){t.push(n)})),t},t}(),ue=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ai=n,this.docChanges=r,this.fi=i,this.fromCache=o,this.li=s,this.di=a}return t.vi=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,se.oi(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,\"hasPendingWrites\",{get:function(){return!this.fi.M()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.li===t.li&&this.fi.isEqual(t.fi)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ai.isEqual(t.ai)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ce=function(){function t(t,e,n,r,i){this.ni=t,this.wi=e,this.mi=n,this.pi=r,this.bi=i}return t.gi=function(e,n){var r=new Map;return r.set(e,he.yi(e,n)),new t(_.MIN,r,oe(),$t(),re())},t}(),he=function(){function t(t,e,n,r,i){this.resumeToken=t,this._i=e,this.Ii=n,this.Ti=r,this.Ei=i}return t.yi=function(e,n){return new t(M.Mt,n,re(),re(),re())},t}(),le=function(t,e,n,r){this.Di=t,this.removedTargetIds=e,this.key=n,this.Ri=r},fe=function(t,e){this.targetId=t,this.Si=e},pe=function(t,e,n,r){void 0===n&&(n=M.Mt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},de=function(){function t(){this.Ai=0,this.Ci=me(),this.Pi=M.Mt,this.Vi=!1,this.ki=!0}return Object.defineProperty(t.prototype,\"_i\",{get:function(){return this.Vi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"resumeToken\",{get:function(){return this.Pi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"Ni\",{get:function(){return 0!==this.Ai},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"Oi\",{get:function(){return this.ki},enumerable:!0,configurable:!0}),t.prototype.Fi=function(t){t.Lt()>0&&(this.ki=!0,this.Pi=t)},t.prototype.Ui=function(){var t=re(),e=re(),n=re();return this.Ci.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Pe(\"Encountered invalid change type: \"+i)}})),new he(this.Pi,this.Vi,t,e,n)},t.prototype.ji=function(){this.ki=!1,this.Ci=me()},t.prototype.xi=function(t,e){this.ki=!0,this.Ci=this.Ci.ut(t,e)},t.prototype.Li=function(t){this.ki=!0,this.Ci=this.Ci.remove(t)},t.prototype.Mi=function(){this.Ai+=1},t.prototype.qi=function(){this.Ai-=1},t.prototype.Bi=function(){this.ki=!0,this.Vi=!0},t}(),ve=function(){function t(t){this.Qi=t,this.Gi=new Map,this.Wi=$t(),this.zi=ge(),this.Ki=new R(Le)}return t.prototype.Ji=function(t){for(var e=0,n=t.Di;e<n.length;e++){var r=n[e];t.Ri instanceof Nt?this.Hi(r,t.Ri):t.Ri instanceof kt&&this.Yi(r,t.key,t.Ri)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Yi(r,t.key,t.Ri)},t.prototype.Xi=function(t){var e=this;this.$i(t,(function(n){var r=e.Zi(n);switch(t.state){case 0:e.te(n)&&r.Fi(t.resumeToken);break;case 1:r.qi(),r.Ni||r.ji(),r.Fi(t.resumeToken);break;case 2:r.qi(),r.Ni||e.removeTarget(n),xe(!t.cause,\"WatchChangeAggregator does not handle errored targets\");break;case 3:e.te(n)&&(r.Bi(),r.Fi(t.resumeToken));break;case 4:e.te(n)&&(e.ne(n),r.Fi(t.resumeToken));break;default:Pe(\"Unknown target watch change state: \"+t.state)}}))},t.prototype.$i=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gi.forEach((function(t,n){return e(n)}))},t.prototype.ie=function(t){var e=t.targetId,n=t.Si.count,r=this.ee(e);if(r){var i=r.target;if(i.Tn())if(0===n){var o=new S(i.path);this.Yi(e,o,new kt(o,_.V()))}else xe(1===n,\"Single document existence filter with count: \"+n);else this.re(e)!==n&&(this.ne(e),this.Ki=this.Ki.add(e))}},t.prototype.ue=function(t){var e=this,n=new Map;this.Gi.forEach((function(r,i){var o=e.ee(i);if(o){if(r._i&&o.target.Tn()){var s=new S(o.target.path);null!==e.Wi.get(s)||e.se(i,s)||e.Yi(i,s,new kt(s,t))}r.Oi&&(n.set(i,r.Ui()),r.ji())}}));var r=re();this.zi.forEach((function(t,n){var i=!0;n.Nt((function(t){var n=e.ee(t);return!n||2===n.ti||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ce(t,n,this.Ki,this.Wi,r);return this.Wi=$t(),this.zi=ge(),this.Ki=new R(Le),i},t.prototype.Hi=function(t,e){if(this.te(t)){var n=this.se(t,e.key)?2:0;this.Zi(t).xi(e.key,n),this.Wi=this.Wi.ut(e.key,e),this.zi=this.zi.ut(e.key,this.oe(e.key).add(t))}},t.prototype.Yi=function(t,e,n){if(this.te(t)){var r=this.Zi(t);this.se(t,e)?r.xi(e,1):r.Li(e),this.zi=this.zi.ut(e,this.oe(e).delete(t)),n&&(this.Wi=this.Wi.ut(e,n))}},t.prototype.removeTarget=function(t){this.Gi.delete(t)},t.prototype.re=function(t){var e=this.Zi(t).Ui();return this.Qi.he(t).size+e.Ii.size-e.Ei.size},t.prototype.Mi=function(t){this.Zi(t).Mi()},t.prototype.Zi=function(t){var e=this.Gi.get(t);return e||(e=new de,this.Gi.set(t,e)),e},t.prototype.oe=function(t){var e=this.zi.get(t);return e||(e=new R(Le),this.zi=this.zi.ut(t,e)),e},t.prototype.te=function(t){var e=null!==this.ee(t);return e||Ae(\"WatchChangeAggregator\",\"Detected inactive target\",t),e},t.prototype.ee=function(t){var e=this.Gi.get(t);return e&&e.Ni?null:this.Qi.ce(t)},t.prototype.ne=function(t){var e=this;xe(!this.Gi.get(t).Ni,\"Should only reset active targets\"),this.Gi.set(t,new de),this.Qi.he(t).forEach((function(n){e.Yi(t,n,null)}))},t.prototype.se=function(t,e){return this.Qi.he(t).has(e)},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function ge(){return new N(S.F)}function me(){return new N(S.F)}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var ye,we,be=((ye={})[Vt.ASCENDING.name]=\"ASCENDING\",ye[Vt.DESCENDING.name]=\"DESCENDING\",ye),_e=((we={})[xt.LESS_THAN.name]=\"LESS_THAN\",we[xt.LESS_THAN_OR_EQUAL.name]=\"LESS_THAN_OR_EQUAL\",we[xt.GREATER_THAN.name]=\"GREATER_THAN\",we[xt.GREATER_THAN_OR_EQUAL.name]=\"GREATER_THAN_OR_EQUAL\",we[xt.EQUAL.name]=\"EQUAL\",we[xt.ARRAY_CONTAINS.name]=\"ARRAY_CONTAINS\",we[xt.IN.name]=\"IN\",we[xt.ARRAY_CONTAINS_ANY.name]=\"ARRAY_CONTAINS_ANY\",we);function Ee(t,e){xe(!F(t),e+\" is missing\")}var Ie=function(){function t(t,e){this.ae=t,this.options=e}return t.prototype.fe=function(t){var e=void 0===t.code?f.UNKNOWN:Qt(t.code);return new p(e,t.message||\"\")},t.prototype.le=function(t){return this.options.de||F(t)?t:{value:t}},t.prototype.ve=function(t){var e;return F(e=\"object\"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:\"\"+t}},t.prototype.zt=function(t){if(this.options.de){if(isNaN(t))return{doubleValue:\"NaN\"};if(t===1/0)return{doubleValue:\"Infinity\"};if(t===-1/0)return{doubleValue:\"-Infinity\"}}return{doubleValue:U(t)?\"-0\":t}},t.prototype.we=function(t){return j(t)?this.Wt(t):this.zt(t)},t.prototype.O=function(t){return this.options.de?new Date(1e3*t.seconds).toISOString().replace(/\\.\\d*/,\"\").replace(\"Z\",\"\")+\".\"+(\"000000000\"+t.nanoseconds).slice(-9)+\"Z\":{seconds:\"\"+t.seconds,nanos:t.nanoseconds}},t.prototype.P=function(t){var e=$(t);return new b(e.seconds,e.nanos)},t.prototype.me=function(t){return this.options.de?t.toBase64():t.toUint8Array()},t.prototype.pe=function(t){return this.options.de?(xe(void 0===t||\"string\"==typeof t,\"value must be undefined or a string when using proto3 Json\"),M.fromBase64String(t||\"\")):(xe(void 0===t||t instanceof Uint8Array,\"value must be undefined or Uint8Array\"),M.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.O(t.O())},t.prototype.fromVersion=function(t){return xe(!!t,\"Trying to deserialize version that isn't set\"),_.P(this.P(t))},t.prototype.be=function(t,e){return this.ge(e||this.ae).child(\"documents\").child(t).J()},t.prototype.ye=function(t){var e=I.H(t);return xe(Te(e),\"Tried to deserialize invalid key \"+e.toString()),e},t.prototype._e=function(t){return this.be(t.path)},t.prototype.it=function(t){var e=this.ye(t);return xe(e.get(1)===this.ae.projectId,\"Tried to deserialize key from different project: \"+e.get(1)+\" vs \"+this.ae.projectId),xe(!e.get(3)&&!this.ae.database||e.get(3)===this.ae.database,\"Tried to deserialize key from different database: \"+e.get(3)+\" vs \"+this.ae.database),new S(this.Ie(e))},t.prototype.Te=function(t){return this.be(t)},t.prototype.Ee=function(t){var e=this.ye(t);return 4===e.length?I.Y:this.Ie(e)},Object.defineProperty(t.prototype,\"De\",{get:function(){return new I([\"projects\",this.ae.projectId,\"databases\",this.ae.database]).J()},enumerable:!0,configurable:!0}),t.prototype.ge=function(t){return new I([\"projects\",t.projectId,\"databases\",t.database])},t.prototype.Ie=function(t){return xe(t.length>4&&\"documents\"===t.get(4),\"tried to deserialize invalid key \"+t.toString()),t.j(5)},t.prototype.Re=function(t,e){return{name:this._e(t),fields:e.proto.mapValue.fields}},t.prototype.Se=function(t){return xe(!t.nn,\"Can't serialize documents with mutations.\"),{name:this._e(t.key),fields:t.yn().mapValue.fields,updateTime:this.O(t.version.O())}},t.prototype.Ae=function(t,e){var n=this.it(t.name),r=this.fromVersion(t.updateTime),i=new Tt({mapValue:{fields:t.fields}});return new Nt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Ce=function(t){xe(!!t.found,\"Tried to deserialize a found document from a missing document.\"),Ee(t.found.name,\"doc.found.name\"),Ee(t.found.updateTime,\"doc.found.updateTime\");var e=this.it(t.found.name),n=this.fromVersion(t.found.updateTime),r=new Tt({mapValue:{fields:t.found.fields}});return new Nt(e,n,r,{})},t.prototype.Pe=function(t){xe(!!t.missing,\"Tried to deserialize a missing document from a found document.\"),xe(!!t.readTime,\"Tried to deserialize a missing document without a read time.\");var e=this.it(t.missing),n=this.fromVersion(t.readTime);return new kt(e,n)},t.prototype.Ve=function(t){return\"found\"in t?this.Ce(t):\"missing\"in t?this.Pe(t):Pe(\"invalid batch get response: \"+JSON.stringify(t))},t.prototype.ke=function(t){var e;if(\"targetChange\"in t){Ee(t.targetChange,\"targetChange\");var n=this.Ne(t.targetChange.targetChangeType||\"NO_CHANGE\"),r=t.targetChange.targetIds||[],i=this.pe(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.fe(o);e=new pe(n,r,i,s||null)}else if(\"documentChange\"in t){Ee(t.documentChange,\"documentChange\");var a=t.documentChange;Ee(a.document,\"documentChange.name\"),Ee(a.document.name,\"documentChange.document.name\"),Ee(a.document.updateTime,\"documentChange.document.updateTime\");var u=this.it(a.document.name),c=this.fromVersion(a.document.updateTime),h=new Tt({mapValue:{fields:a.document.fields}}),l=new Nt(u,c,h,{}),f=a.targetIds||[],p=a.removedTargetIds||[];e=new le(f,p,l.key,l)}else if(\"documentDelete\"in t){Ee(t.documentDelete,\"documentDelete\");var d=t.documentDelete;Ee(d.document,\"documentDelete.document\"),u=this.it(d.document),c=d.readTime?this.fromVersion(d.readTime):_.V(),l=new kt(u,c),p=d.removedTargetIds||[],e=new le([],p,l.key,l)}else if(\"documentRemove\"in t){Ee(t.documentRemove,\"documentRemove\");var v=t.documentRemove;Ee(v.document,\"documentRemove\"),u=this.it(v.document),p=v.removedTargetIds||[],e=new le([],p,u,null)}else{if(!(\"filter\"in t))return Pe(\"Unknown change type \"+JSON.stringify(t));Ee(t.filter,\"filter\");var g=t.filter;Ee(g.targetId,\"filter.targetId\");var m=g.count||0,y=new Ht(m),w=g.targetId;e=new fe(w,y)}return e},t.prototype.Ne=function(t){return\"NO_CHANGE\"===t?0:\"ADD\"===t?1:\"REMOVE\"===t?2:\"CURRENT\"===t?3:\"RESET\"===t?4:Pe(\"Got unexpected TargetChange.state: \"+t)},t.prototype.Oe=function(t){if(!(\"targetChange\"in t))return _.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?_.MIN:e.readTime?this.fromVersion(e.readTime):_.MIN},t.prototype.Fe=function(t){var e,n=this;if(t instanceof wt)e={update:this.Re(t.key,t.value)};else if(t instanceof Et)e={delete:this._e(t.key)};else if(t instanceof bt)e={update:this.Re(t.key,t.data),updateMask:this.Ue(t.en)};else if(t instanceof _t)e={transform:{document:this._e(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.je(t)}))}};else{if(!(t instanceof It))return Pe(\"Unknown mutation type \"+t.type);e={verify:this._e(t.key)}}return t.tn.Yt||(e.currentDocument=this.xe(t.tn)),e},t.prototype.Le=function(t){var e=this,n=t.currentDocument?this.Me(t.currentDocument):mt.NONE;if(t.update){Ee(t.update.name,\"name\");var r=this.it(t.update.name),i=new Tt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.qe(t.updateMask);return new bt(r,i,o,n)}return new wt(r,i,n)}if(t.delete)return r=this.it(t.delete),new Et(r,n);if(t.transform){r=this.it(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.Be(t)}));return xe(!0===n.exists,'Transforms only support precondition \"exists == true\"'),new _t(r,s)}return t.verify?(r=this.it(t.verify),new It(r,n)):Pe(\"unknown mutation proto: \"+JSON.stringify(t))},t.prototype.xe=function(t){return xe(!t.Yt,\"Can't serialize an empty precondition\"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pe(\"Unknown precondition\")},t.prototype.Me=function(t){return void 0!==t.updateTime?mt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?mt.exists(t.exists):mt.NONE},t.prototype.Qe=function(t,e){var n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(_.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new gt(n,r)},t.prototype.Ge=function(t,e){var n=this;return t&&t.length>0?(xe(void 0!==e,\"Received a write result without a commit time\"),t.map((function(t){return n.Qe(t,e)}))):[]},t.prototype.je=function(t){var e=t.transform;if(e instanceof at)return{fieldPath:t.field.J(),setToServerValue:\"REQUEST_TIME\"};if(e instanceof ut)return{fieldPath:t.field.J(),appendMissingElements:{values:e.elements}};if(e instanceof ct)return{fieldPath:t.field.J(),removeAllFromArray:{values:e.elements}};if(e instanceof ht)return{fieldPath:t.field.J(),increment:e.Gt};throw Pe(\"Unknown transform: \"+t.transform)},t.prototype.Be=function(t){var e=null;if(\"setToServerValue\"in t)xe(\"REQUEST_TIME\"===t.setToServerValue,\"Unknown server value transform proto: \"+JSON.stringify(t)),e=at.instance;else if(\"appendMissingElements\"in t){var n=t.appendMissingElements.values||[];e=new ut(n)}else\"removeAllFromArray\"in t?(n=t.removeAllFromArray.values||[],e=new ct(n)):\"increment\"in t?e=new ht(this,t.increment):Pe(\"Unknown transform proto: \"+JSON.stringify(t));var r=C.tt(t.fieldPath);return new vt(r,e)},t.prototype.We=function(t){return{documents:[this.Te(t.path)]}},t.prototype.ze=function(t){var e=t.documents.length;xe(1===e,\"DocumentsTarget contained other than 1 document: \"+e);var n=t.documents[0];return Rt.Cn(this.Ee(n)).qn()},t.prototype.Ke=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(xe(n.length%2==0,\"Collection Group queries should be within a document path or root.\"),e.parent=this.Te(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(xe(n.length%2!=0,\"Document queries with filters are not supported.\"),e.parent=this.Te(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var r=this.Je(t.filters);r&&(e.structuredQuery.where=r);var i=this.He(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.le(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Ye(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Ye(t.endAt)),e},t.prototype.Xe=function(t){var e=this.Ee(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(1===r,\"StructuredQuery.from with more than one collection is not supported.\");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.$e(n.where));var a=[];n.orderBy&&(a=this.Ze(n.orderBy));var u=null;n.limit&&(u=this.ve(n.limit));var c=null;n.startAt&&(c=this.tr(n.startAt));var h=null;return n.endAt&&(h=this.tr(n.endAt)),new Rt(e,i,a,s,u,\"F\",c,h).qn()},t.prototype.nr=function(t){var e=this.ir(t.ti);return null==e?null:{\"goog-listen-tags\":e}},t.prototype.ir=function(t){switch(t){case 0:return null;case 1:return\"existence-filter-mismatch\";case 2:return\"limbo-document\";default:return Pe(\"Unrecognized query purpose: \"+t)}},t.prototype.qn=function(t){var e,n=t.target;return(e=n.Tn()?{documents:this.We(n)}:{query:this.Ke(n)}).targetId=t.targetId,t.resumeToken.Lt()>0&&(e.resumeToken=this.me(t.resumeToken)),e},t.prototype.Je=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Dt?e.er(t):Pe(\"Unrecognized filter: \"+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:\"AND\",filters:n}}}},t.prototype.$e=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.rr(t)]:void 0!==t.fieldFilter?[this.ur(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.$e(t)})).reduce((function(t,e){return t.concat(e)})):Pe(\"Unknown filter: \"+JSON.stringify(t)):[]},t.prototype.He=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.sr(t)}))},t.prototype.Ze=function(t){var e=this;return t.map((function(t){return e.or(t)}))},t.prototype.Ye=function(t){return{before:t.before,values:t.position}},t.prototype.tr=function(t){var e=!!t.before,n=t.values||[];return new qt(n,e)},t.prototype.hr=function(t){return be[t.name]},t.prototype.cr=function(t){switch(t){case\"ASCENDING\":return Vt.ASCENDING;case\"DESCENDING\":return Vt.DESCENDING;default:return}},t.prototype.ar=function(t){return _e[t.name]},t.prototype.lr=function(t){switch(t){case\"EQUAL\":return xt.EQUAL;case\"GREATER_THAN\":return xt.GREATER_THAN;case\"GREATER_THAN_OR_EQUAL\":return xt.GREATER_THAN_OR_EQUAL;case\"LESS_THAN\":return xt.LESS_THAN;case\"LESS_THAN_OR_EQUAL\":return xt.LESS_THAN_OR_EQUAL;case\"ARRAY_CONTAINS\":return xt.ARRAY_CONTAINS;case\"IN\":return xt.IN;case\"ARRAY_CONTAINS_ANY\":return xt.ARRAY_CONTAINS_ANY;case\"OPERATOR_UNSPECIFIED\":return Pe(\"Unspecified operator\");default:return Pe(\"Unknown operator\")}},t.prototype.dr=function(t){return{fieldPath:t.J()}},t.prototype.vr=function(t){return C.tt(t.fieldPath)},t.prototype.sr=function(t){return{field:this.dr(t.field),direction:this.hr(t.dir)}},t.prototype.or=function(t){return new Bt(this.vr(t.field),this.cr(t.direction))},t.prototype.ur=function(t){return Dt.create(this.vr(t.fieldFilter.field),this.lr(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.er=function(t){if(t.op===xt.EQUAL){if(ot(t.value))return{unaryFilter:{field:this.dr(t.field),op:\"IS_NAN\"}};if(it(t.value))return{unaryFilter:{field:this.dr(t.field),op:\"IS_NULL\"}}}return{fieldFilter:{field:this.dr(t.field),op:this.ar(t.op),value:t.value}}},t.prototype.rr=function(t){switch(t.unaryFilter.op){case\"IS_NAN\":var e=this.vr(t.unaryFilter.field);return Dt.create(e,xt.EQUAL,{doubleValue:NaN});case\"IS_NULL\":var n=this.vr(t.unaryFilter.field);return Dt.create(n,xt.EQUAL,{nullValue:\"NULL_VALUE\"});case\"OPERATOR_UNSPECIFIED\":return Pe(\"Unspecified filter\");default:return Pe(\"Unknown filter\")}},t.prototype.Ue=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}},t.prototype.qe=function(t){var e=(t.fieldPaths||[]).map((function(t){return C.tt(t)}));return dt.Jt(e)},t}();function Te(t){return t.length>=4&&\"projects\"===t.get(0)&&\"databases\"===t.get(2)}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Ce=function(){function t(){}return t.wr=function(e){t.platform&&Pe(\"Platform already defined\"),t.platform=e},t.xt=function(){return t.platform||Pe(\"Platform not set\"),t.platform},t}(),Se=new s.Logger(\"@firebase/firestore\");\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Ne(){return Se.logLevel}function ke(t){Se.logLevel=t}function Ae(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Se.logLevel<=s.LogLevel.DEBUG){var r=e.map(Re);Se.error.apply(Se,o.__spreadArrays([\"Firestore (\"+h+\"): \"+t],r))}}function Oe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Se.logLevel<=s.LogLevel.ERROR){var r=e.map(Re);Se.error.apply(Se,o.__spreadArrays([\"Firestore (\"+h+\"): \"+t],r))}}function Re(t){if(\"string\"==typeof t)return t;var e=Ce.xt();try{return e.mr(t)}catch(e){return t}}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Pe(t){var e=\"FIRESTORE (\"+h+\") INTERNAL ASSERTION FAILED: \"+t;throw Oe(e),new Error(e)}function xe(t,e){t||Pe(e)}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var De=function(){function t(){}return t.pr=function(){for(var t=\"\";t.length<20;)for(var e=Ce.xt().randomBytes(40),n=0,r=Array.from(e);n<r.length;n++){var i=r[n];t.length<20&&i<=247&&(t+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".charAt(i%62))}return xe(20===t.length,\"Invalid auto ID: \"+t),t},t}();function Le(t,e){return t<e?-1:t>e?1:0}function Me(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Fe(t){return t+\"\\0\"}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Ue=function(t,e,n,r,i){this.ae=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},je=function(){function t(t,e){this.projectId=t,this.database=e||\"(default)\"}return Object.defineProperty(t.prototype,\"br\",{get:function(){return\"(default)\"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.k=function(t){return Le(this.projectId,t.projectId)||Le(this.database,t.database)},t}(),Ve=function(){function t(t,e,n,r){this.batchId=t,this.gr=e,this.baseMutations=n,this.mutations=r,xe(r.length>0,\"Cannot create an empty mutation batch\")}return t.prototype.Bt=function(t,e,n){e&&xe(e.key.isEqual(t),\"applyToRemoteDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);var r=n.yr;xe(r.length===this.mutations.length,\"Mismatch between mutations length\\n      (\"+this.mutations.length+\") and mutation results length\\n      (\"+r.length+\").\");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var s=r[i];e=o.Bt(e,s)}}return e},t.prototype.qt=function(t,e){e&&xe(e.key.isEqual(t),\"applyToLocalDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.qt(e,e,this.gr));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.qt(e,i,this.gr))}return e},t.prototype._r=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.qt(r.key,t.get(r.key));i&&(n=n.ut(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),re())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Me(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Me(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),qe=function(){function t(t,e,n,r,i){this.batch=t,this.Ir=e,this.yr=n,this.streamToken=r,this.Tr=i}return t.from=function(e,n,r,i){xe(e.mutations.length===r.length,\"Mutations sent \"+e.mutations.length+\" must equal results received \"+r.length);for(var o=ee(),s=e.mutations,a=0;a<s.length;a++)o=o.ut(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Be=function(){function t(t){this.Er=t,this.Dr={}}return t.prototype.get=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Er(t),r=this.Dr[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Dr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Dr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){D(this.Dr,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.M=function(){return L(this.Dr)},t}(),We=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Rr=n,this.Sr=r}return t.Ar=function(e,n){for(var r=re(),i=re(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ze=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Cr=function(t){return n.Pr(t)},this.Vr=function(t){return e.kr(t)})}return t.prototype.Pr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Vr&&this.Vr(t),t},t.Nr=-1,t}(),Ge=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},He=function(){function t(t,e,n,r,i){this.Or=t,this.Fr=e,this.Ur=n,this.op=r,this.jr=i,this.xr=new Ge,this.then=this.xr.promise.then.bind(this.xr.promise),this.catch=this.xr.promise.catch.bind(this.xr.promise),this.xr.promise.catch((function(t){}))}return t.Lr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Mr=setTimeout((function(){return e.qr()}),t)},t.prototype.Br=function(){return this.qr()},t.prototype.cancel=function(t){null!==this.Mr&&(this.clearTimeout(),this.xr.reject(new p(f.CANCELLED,\"Operation cancelled\"+(t?\": \"+t:\"\"))))},t.prototype.qr=function(){var t=this;this.Or.Qr((function(){return null!==t.Mr?(t.clearTimeout(),t.op().then((function(e){return t.xr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Mr&&(this.jr(this),clearTimeout(this.Mr),this.Mr=null)},t}(),Ke=function(){function t(){this.Gr=Promise.resolve(),this.Wr=!1,this.zr=[],this.Kr=null,this.Jr=!1,this.Hr=[]}return Object.defineProperty(t.prototype,\"Yr\",{get:function(){return this.Wr},enumerable:!0,configurable:!0}),t.prototype.Qr=function(t){this.enqueue(t)},t.prototype.Xr=function(t){this.$r(),this.Zr(t)},t.prototype.tu=function(t){return this.$r(),this.Zr(t)},t.prototype.nu=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.$r(),this.Wr?[3,2]:(this.Wr=!0,[4,this.tu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.$r(),this.Wr?new Promise((function(t){})):this.Zr(t)},t.prototype.Zr=function(t){var e=this,n=this.Gr.then((function(){return e.Jr=!0,t().catch((function(t){e.Kr=t,e.Jr=!1;var n=t.stack||t.message||\"\";throw Oe(\"INTERNAL UNHANDLED ERROR: \",n),n.indexOf(\"Firestore Test Simulated Error\")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.Jr=!1,t}))}));return this.Gr=n,n},t.prototype.iu=function(t,e,n){var r=this;this.$r(),xe(e>=0,\"Attempted to schedule an operation with a negative delay of \"+e),this.Hr.indexOf(t)>-1&&(e=0);var i=He.Lr(this,t,e,n,(function(t){return r.eu(t)}));return this.zr.push(i),i},t.prototype.$r=function(){this.Kr&&Pe(\"AsyncQueue is already failed: \"+(this.Kr.stack||this.Kr.message))},t.prototype.ru=function(){xe(this.Jr,\"verifyOpInProgress() called when no op in progress on this queue.\")},t.prototype.uu=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Gr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Gr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.su=function(t){for(var e=0,n=this.zr;e<n.length;e++)if(n[e].Fr===t)return!0;return!1},t.prototype.ou=function(t){var e=this;return this.uu().then((function(){xe(\"all\"===t||e.su(t),\"Attempted to drain to missing operation \"+t),e.zr.sort((function(t,e){return t.Ur-e.Ur}));for(var n=0,r=e.zr;n<r.length;n++){var i=r[n];if(i.Br(),\"all\"!==t&&i.Fr===t)break}return e.uu()}))},t.prototype.hu=function(t){this.Hr.push(t)},t.prototype.eu=function(t){var e=this.zr.indexOf(t);xe(e>=0,\"Delayed operation not found.\"),this.zr.splice(e,1)},t}(),Qe=function(){function t(t){var e=this;this.cu=null,this.au=null,this.result=void 0,this.error=void 0,this.fu=!1,this.lu=!1,t((function(t){e.fu=!0,e.result=t,e.cu&&e.cu(t)}),(function(t){e.fu=!0,e.error=t,e.au&&e.au(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.lu&&Pe(\"Called next() or catch() twice for PersistencePromise\"),this.lu=!0,this.fu?this.error?this.du(n,this.error):this.vu(e,this.result):new t((function(t,i){r.cu=function(n){r.vu(e,n).next(t,i)},r.au=function(e){r.du(n,e).next(t,i)}}))},t.prototype.wu=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.mu=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vu=function(e,n){return e?this.mu((function(){return e(n)})):t.resolve(n)},t.prototype.du=function(e,n){return e?this.mu((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.pu=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.bu=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.pu(r)},t}();\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Ye(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Le(n,i);return 0===s?Le(r,o):s}var $e=function(){function t(t){this.gu=t,this.buffer=new R(Ye),this.yu=0}return t.prototype._u=function(){return++this.yu},t.prototype.Iu=function(t){var e=[t,this._u()];if(this.buffer.size<this.gu)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ye(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,\"maxValue\",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Je={Tu:!1,Eu:0,Du:0,Ru:0},Xe=function(){function t(t,e,n){this.Su=t,this.Au=e,this.Cu=n}return t.Pu=function(e){return new t(e,t.Vu,t.ku)},t.Nu=-1,t.Ou=1048576,t.Fu=41943040,t.Vu=10,t.ku=1e3,t.Uu=new t(t.Fu,t.Vu,t.ku),t.DISABLED=new t(t.Nu,0,0),t}(),Ze=function(){function t(t,e){this.ju=t,this.Or=e,this.xu=!1,this.Lu=null}return t.prototype.start=function(t){xe(null===this.Lu,\"Cannot start an already started LruScheduler\"),this.ju.params.Su!==Xe.Nu&&this.Mu(t)},t.prototype.stop=function(){this.Lu&&(this.Lu.cancel(),this.Lu=null)},Object.defineProperty(t.prototype,\"qu\",{get:function(){return null!==this.Lu},enumerable:!0,configurable:!0}),t.prototype.Mu=function(t){var e=this;xe(null===this.Lu,\"Cannot schedule GC while a task is pending\");var n=this.xu?3e5:6e4;Ae(\"LruGarbageCollector\",\"Garbage collection scheduled in \"+n+\"ms\"),this.Lu=this.Or.iu(\"lru_garbage_collection\",n,(function(){return e.Lu=null,e.xu=!0,t.Bu(e.ju).then((function(){return e.Mu(t)})).catch(sn)}))},t}(),tn=function(){function t(t,e){this.Qu=t,this.params=e}return t.prototype.Gu=function(t,e){return this.Qu.Wu(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.zu=function(t,e){var n=this;if(0===e)return Qe.resolve(ze.Nr);var r=new $e(e);return this.Qu.$i(t,(function(t){return r.Iu(t.sequenceNumber)})).next((function(){return n.Qu.Ku(t,(function(t){return r.Iu(t)}))})).next((function(){return r.maxValue}))},t.prototype.Ju=function(t,e,n){return this.Qu.Ju(t,e,n)},t.prototype.Hu=function(t,e){return this.Qu.Hu(t,e)},t.prototype.Yu=function(t,e){var n=this;return this.params.Su===Xe.Nu?(Ae(\"LruGarbageCollector\",\"Garbage collection skipped; disabled\"),Qe.resolve(Je)):this.Xu(t).next((function(r){return r<n.params.Su?(Ae(\"LruGarbageCollector\",\"Garbage collection skipped; Cache size \"+r+\" is lower than threshold \"+n.params.Su),Je):n.$u(t,e)}))},t.prototype.Xu=function(t){return this.Qu.Xu(t)},t.prototype.$u=function(t,e){var n,r,i,o,a,u,c,h=this,l=Date.now();return this.Gu(t,this.params.Au).next((function(e){return e>h.params.Cu?(Ae(\"LruGarbageCollector\",\"Capping sequence numbers to collect down to the maximum of \"+h.params.Cu+\" from \"+e),r=h.params.Cu):r=e,o=Date.now(),h.zu(t,r)})).next((function(r){return n=r,a=Date.now(),h.Ju(t,n,e)})).next((function(e){return i=e,u=Date.now(),h.Hu(t,n)})).next((function(t){return c=Date.now(),Ne()<=s.LogLevel.DEBUG&&Ae(\"LruGarbageCollector\",\"LRU Garbage Collection\\n\\tCounted targets in \"+(o-l)+\"ms\\n\\tDetermined least recently used \"+r+\" in \"+(a-o)+\"ms\\n\\tRemoved \"+i+\" targets in \"+(u-a)+\"ms\\n\\tRemoved \"+t+\" documents in \"+(c-u)+\"ms\\nTotal Duration: \"+(c-l)+\"ms\"),Qe.resolve({Tu:!0,Eu:r,Du:i,Ru:t})}))},t}(),en=function(){function t(){this.Zu=new R(nn.bn),this.ts=new R(nn.ns)}return t.prototype.M=function(){return this.Zu.M()},t.prototype.es=function(t,e){var n=new nn(t,e);this.Zu=this.Zu.add(n),this.ts=this.ts.add(n)},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.es(t,e)}))},t.prototype.us=function(t,e){this.ss(new nn(t,e))},t.prototype.os=function(t,e){var n=this;t.forEach((function(t){return n.us(t,e)}))},t.prototype.hs=function(t){var e=this,n=S.EMPTY,r=new nn(n,t),i=new nn(n,t+1),o=[];return this.ts.kt([r,i],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Zu.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Zu=this.Zu.delete(t),this.ts=this.ts.delete(t)},t.prototype.as=function(t){var e=S.EMPTY,n=new nn(e,t),r=new nn(e,t+1),i=re();return this.ts.kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.fs=function(t){var e=new nn(t,0),n=this.Zu.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),nn=function(){function t(t,e){this.key=t,this.ls=e}return t.bn=function(t,e){return S.F(t.key,e.key)||Le(t.ls,e.ls)},t.ns=function(t,e){return Le(t.ls,e.ls)||S.F(t.key,e.key)},t}(),rn=function(){function t(){this.ds=new Be((function(t){return t.toString()})),this.vs=!1}return Object.defineProperty(t.prototype,\"readTime\",{get:function(){return xe(void 0!==this.ws,\"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used.\"),this.ws},set:function(t){xe(void 0===this.ws||this.ws.isEqual(t),\"All changes in a RemoteDocumentChangeBuffer must have the same read time\"),this.ws=t},enumerable:!0,configurable:!0}),t.prototype.ms=function(t,e){this.ps(),this.readTime=e,this.ds.set(t.key,t)},t.prototype.bs=function(t,e){this.ps(),e&&(this.readTime=e),this.ds.set(t,null)},t.prototype.gs=function(t,e){this.ps();var n=this.ds.get(e);return void 0!==n?Qe.resolve(n):this.ys(t,e)},t.prototype.getEntries=function(t,e){return this._s(t,e)},t.prototype.apply=function(t){return this.ps(),this.vs=!0,this.Is(t)},t.prototype.ps=function(){xe(!this.vs,\"Changes have already been applied.\")},t}(),on=function(){function t(t,e,n){this.persistence=t,this.Ts=e,this.Es=new en,this.Ds=new N(Le),this.Rs=new Be((function(t){return t.canonicalId()})),this.Ss=_.MIN,xe(t.qu,\"LocalStore was passed an unstarted persistence implementation\"),this.persistence.Cs.As(this.Es),this.Ps=t.Vs(n),this.ks=t.Ns(),this.Os=t.Fs(),this.Us=new wn(this.ks,this.Ps,this.persistence.js()),this.Ts.xs(this.Us)}return t.prototype.start=function(){return this.Ls()},t.prototype.Ms=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.Ps,n=this.Us,[4,this.persistence.runTransaction(\"Handle user change\",\"readonly\",(function(r){var o;return i.Ps.qs(r).next((function(s){return o=s,e=i.persistence.Vs(t),n=new wn(i.ks,e,i.persistence.js()),e.qs(r)})).next((function(t){for(var e=[],i=[],s=re(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){c=d[p],i.push(c.batchId);for(var v=0,g=c.mutations;v<g.length;v++)f=g[v],s=s.add(f.key)}return n.Bs(r,s).next((function(t){return{Qs:t,Gs:e,Ws:i}}))}))}))];case 1:return r=o.sent(),this.Ps=e,this.Us=n,this.Ts.xs(this.Us),[2,r]}}))}))},t.prototype.zs=function(t){var e,n=this,r=b.now(),i=t.reduce((function(t,e){return t.add(e.key)}),re());return this.persistence.runTransaction(\"Locally write mutations\",\"readwrite\",(function(o){return n.Us.Bs(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=c.in(e.get(c.key));null!=h&&s.push(new bt(c.key,h,h.en(),mt.exists(!0)))}return n.Ps.Ks(o,r,s,t)}))})).then((function(t){var n=t._r(e);return{batchId:t.batchId,ds:n}}))},t.prototype.Js=function(t){var e=this;return this.persistence.runTransaction(\"Lookup mutation documents\",\"readonly\",(function(n){return e.Ps.Hs(n,t).next((function(t){return t?e.Us.Bs(n,t):Qe.resolve(null)}))}))},t.prototype.Ys=function(t){var e=this;return this.persistence.runTransaction(\"Acknowledge batch\",\"readwrite-primary\",(function(n){var r=t.batch.keys(),i=e.ks.Xs({$s:!0});return e.Ps.Ys(n,t.batch,t.streamToken).next((function(){return e.Zs(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,r)}))}))},t.prototype.no=function(t){var e=this;return this.persistence.runTransaction(\"Reject batch\",\"readwrite-primary\",(function(n){var r;return e.Ps.io(n,t).next((function(t){return xe(null!==t,\"Attempt to reject nonexistent batch!\"),r=t.keys(),e.Ps.eo(n,t)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,r)}))}))},t.prototype.ro=function(){var t=this;return this.persistence.runTransaction(\"Get highest unacknowledged batch id\",\"readonly\",(function(e){return t.Ps.ro(e)}))},t.prototype.uo=function(){var t=this;return this.persistence.runTransaction(\"Get last stream token\",\"readonly\",(function(e){return t.Ps.uo(e)}))},t.prototype.so=function(t){var e=this;return this.persistence.runTransaction(\"Set last stream token\",\"readwrite-primary\",(function(n){return e.Ps.so(n,t)}))},t.prototype.oo=function(){var t=this;return this.persistence.runTransaction(\"Get last remote snapshot version\",\"readonly\",(function(e){return t.Os.oo(e)}))},t.prototype.ho=function(e){var n=this,r=e.ni,i=this.Ds;return this.persistence.runTransaction(\"Apply remote event\",\"readwrite-primary\",(function(o){var s=n.ks.Xs({$s:!0});i=n.Ds;var a=[];e.wi.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.Os.co(o,e.Ei,s).next((function(){return n.Os.ao(o,e.Ii,s)})));var c=e.resumeToken;if(c.Lt()>0){var h=u.ei(c,r).ii(o.fo);i=i.ut(s,h),t.lo(u,h,e)&&a.push(n.Os.do(o,h))}}}));var u=$t(),c=re();if(e.pi.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.pi.forEach((function(i,c){var h=t.get(i);c instanceof kt&&c.version.isEqual(_.MIN)?(s.bs(i,r),u=u.ut(i,c)):null==h||c.version.k(h.version)>0||0===c.version.k(h.version)&&h.hasPendingWrites?(xe(!_.MIN.isEqual(r),\"Cannot add a document when the remote version is zero\"),s.ms(c,r),u=u.ut(i,c)):Ae(\"LocalStore\",\"Ignoring outdated watch update for \",i,\". Current version:\",h.version,\" Watch version:\",c.version),e.bi.has(i)&&a.push(n.persistence.Cs.vo(o,i))}))}))),!r.isEqual(_.MIN)){var h=n.Os.oo(o).next((function(t){return xe(r.k(t)>=0,\"Watch stream reverted to previous snapshot?? \"+r+\" < \"+t),n.Os.wo(o,o.fo,r)}));a.push(h)}return Qe.pu(a).next((function(){return s.apply(o)})).next((function(){return n.Us.mo(o,u)}))})).then((function(t){return n.Ds=i,t}))},t.lo=function(t,e,n){return xe(e.resumeToken.Lt()>0,\"Attempted to persist target data with no resume token\"),0===t.resumeToken.Lt()||e.ni.N()-t.ni.N()>=this.po||n.Ii.size+n.Ti.size+n.Ei.size>0},t.prototype.bo=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Es.rs(i.Rr,o),this.Es.os(i.Sr,o),!i.fromCache){var s=this.Ds.get(o);xe(null!==s,\"Can't set limbo-free snapshot version for unknown target: \"+o);var a=s.ni,u=s.ri(a);this.Ds=this.Ds.ut(o,u)}}return this.persistence.runTransaction(\"notifyLocalViewChanges\",\"readwrite\",(function(n){return Qe.forEach(t,(function(t){return Qe.forEach(t.Sr,(function(t){return e.persistence.Cs.us(n,t)}))}))}))},t.prototype.yo=function(t){var e=this;return this.persistence.runTransaction(\"Get next mutation batch\",\"readonly\",(function(n){return void 0===t&&(t=-1),e.Ps._o(n,t)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction(\"read document\",\"readonly\",(function(n){return e.Us.To(n,t)}))},t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction(\"Allocate target\",\"readwrite\",(function(n){var r;return e.Os.Do(n,t).next((function(i){return i?(r=i,Qe.resolve(r)):e.Os.Ro(n).next((function(i){return r=new Gt(t,i,0,n.fo),e.Os.So(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Ds.get(n.targetId)&&(e.Ds=e.Ds.ut(n.targetId,n),e.Rs.set(t,n.targetId)),n}))},t.prototype.Do=function(t,e){var n=this.Rs.get(e);return void 0!==n?Qe.resolve(this.Ds.get(n)):this.Os.Do(t,e)},t.prototype.Ao=function(t,e){var n=this,r=this.Ds.get(t);xe(null!==r,\"Tried to release nonexistent target: \"+t);var i=e?\"readwrite\":\"readwrite-primary\";return this.persistence.runTransaction(\"Release target\",i,(function(i){var o=n.Es.hs(t);return e?Qe.resolve():Qe.forEach(o,(function(t){return n.persistence.Cs.us(i,t)})).next((function(){n.persistence.Cs.removeTarget(i,r)}))})).then((function(){n.Ds=n.Ds.remove(t),n.Rs.delete(r.target)}))},t.prototype.Co=function(t,e){var n=this,r=_.MIN,i=re();return this.persistence.runTransaction(\"Execute query\",\"readonly\",(function(o){return n.Do(o,t.qn()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Os.Po(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Ts.Vo(o,t,e?r:_.MIN,e?i:re())})).next((function(t){return{documents:t,ko:i}}))}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction(\"Remote document keys\",\"readonly\",(function(n){return e.Os.Po(n,t)}))},t.prototype.Oo=function(){return this.persistence.Oo()},t.prototype.Fo=function(t){this.Ps.Uo(t)},t.prototype.jo=function(t){this.persistence.jo(t)},t.prototype.Zs=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Qe.resolve();return o.forEach((function(r){s=s.next((function(){return n.gs(t,r)})).next((function(t){var o=t,s=e.Tr.get(r);xe(null!==s,\"ackVersions should contain every doc in the write.\"),(!o||o.version.k(s)<0)&&((o=i.Bt(r,o,e))?n.ms(o,e.Ir):xe(!t,\"Mutation batch \"+i+\" applied to document \"+t+\" resulted in null\"))}))})),s.next((function(){return r.Ps.eo(t,i)}))},t.prototype.Bu=function(t){var e=this;return this.persistence.runTransaction(\"Collect garbage\",\"readwrite-primary\",(function(n){return t.Yu(n,e.Ds)}))},t.prototype.xo=function(t){var e=this,n=this.Ds.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction(\"Get target data\",\"readonly\",(function(n){return e.Os.ce(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.Lo=function(){var t=this;return this.persistence.runTransaction(\"Get new document changes\",\"readonly\",(function(e){return t.ks.Lo(e,t.Ss)})).then((function(e){var n=e.Mo,r=e.readTime;return t.Ss=r,n}))},t.prototype.Ls=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction(\"Synchronize last document change read time\",\"readonly\",(function(t){return e.ks.qo(t)}))];case 1:return t.Ss=n.sent(),[2]}}))}))},t.po=3e8,t}();function sn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==f.FAILED_PRECONDITION||t.message!==mn)throw t;return Ae(\"LocalStore\",\"Unexpectedly lost primary lease\"),[2]}))}))}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function an(t,e){return xe(-1===e.indexOf(\"_\"),\"Client key cannot contain '_', but was '\"+e+\"'\"),\"firestore_clients_\"+t+\"_\"+e}function un(t,e,n){var r=\"firestore_mutations_\"+t+\"_\"+n;return e.t()&&(r+=\"_\"+e.uid),r}function cn(t,e){return\"firestore_targets_\"+t+\"_\"+e}\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var hn=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,xe(void 0!==r==(\"rejected\"===n),\"MutationMetadata must contain an error iff state is 'rejected'\")}return t.Bo=function(e,n,r){var i=JSON.parse(r),o=\"object\"==typeof i&&-1!==[\"pending\",\"acknowledged\",\"rejected\"].indexOf(i.state)&&(void 0===i.error||\"object\"==typeof i.error),s=void 0;return o&&i.error&&(o=\"string\"==typeof i.error.message&&\"string\"==typeof i.error.code)&&(s=new p(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Oe(\"SharedClientState\",\"Failed to parse mutation state for ID '\"+n+\"': \"+r),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ln=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,xe(void 0!==n==(\"rejected\"===e),\"QueryTargetMetadata must contain an error iff state is 'rejected'\")}return t.Bo=function(e,n){var r=JSON.parse(n),i=\"object\"==typeof r&&-1!==[\"not-current\",\"current\",\"rejected\"].indexOf(r.state)&&(void 0===r.error||\"object\"==typeof r.error),o=void 0;return i&&r.error&&(i=\"string\"==typeof r.error.message&&\"string\"==typeof r.error.code)&&(o=new p(r.error.code,r.error.message)),i?new t(e,r.state,o):(Oe(\"SharedClientState\",\"Failed to parse target state for ID '\"+e+\"': \"+n),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fn=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Bo=function(e,n){for(var r=JSON.parse(n),i=\"object\"==typeof r&&r.activeTargetIds instanceof Array,o=oe(),s=0;i&&s<r.activeTargetIds.length;++s)i=j(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Oe(\"SharedClientState\",\"Failed to parse client data for instance '\"+e+\"': \"+n),null)},t}(),pn=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Bo=function(e){var n=JSON.parse(e);return\"object\"==typeof n&&-1!==[\"Unknown\",\"Online\",\"Offline\"].indexOf(n.onlineState)&&\"string\"==typeof n.clientId?new t(n.clientId,n.onlineState):(Oe(\"SharedClientState\",\"Failed to parse online state: \"+e),null)},t}(),dn=function(){function t(){this.activeTargetIds=oe()}return t.prototype.Go=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Wo=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Qo=function(){var t={activeTargetIds:this.activeTargetIds.K(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),vn=function(){function t(e,n,r,i,o){if(this.zo=e,this.platform=n,this.persistenceKey=r,this.Ko=i,this.Jo=null,this.Ho=null,this.Cr=null,this.Yo={},this.Xo=this.$o.bind(this),this.qu=!1,this.Zo=[],!t.th(this.platform))throw new p(f.UNIMPLEMENTED,\"LocalStorage is not available on this platform.\");var s=r.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");this.storage=this.platform.window.localStorage,this.currentUser=o,this.nh=an(this.persistenceKey,this.Ko),this.ih=function(t){return\"firestore_sequence_number_\"+t}(this.persistenceKey),this.Yo[this.Ko]=new dn,this.eh=new RegExp(\"^firestore_clients_\"+s+\"_([^_]*)$\"),this.rh=new RegExp(\"^firestore_mutations_\"+s+\"_(\\\\d+)(?:_(.*))?$\"),this.uh=new RegExp(\"^firestore_targets_\"+s+\"_(\\\\d+)$\"),this.sh=function(t){return\"firestore_online_state_\"+t}(this.persistenceKey),this.platform.window.addEventListener(\"storage\",this.Xo)}return t.th=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,u,c,h,l,f=this;return o.__generator(this,(function(o){switch(o.label){case 0:return xe(!this.qu,\"WebStorageSharedClientState already started\"),xe(null!==this.Jo,\"syncEngine property must be set before calling start()\"),xe(null!==this.Ho,\"onlineStateHandler property must be set before calling start()\"),[4,this.Jo.Oo()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ko&&(i=this.getItem(an(this.persistenceKey,r)))&&(s=fn.Bo(r,i))&&(this.Yo[s.clientId]=s);for(this.oh(),(a=this.storage.getItem(this.sh))&&(u=this.hh(a))&&this.ah(u),c=0,h=this.Zo;c<h.length;c++)l=h[c],this.$o(l);return this.Zo=[],this.platform.window.addEventListener(\"unload\",(function(){return f.shutdown()})),this.qu=!0,[2]}}))}))},t.prototype.kr=function(t){this.setItem(this.ih,JSON.stringify(t))},t.prototype.fh=function(){var t=oe();return D(this.Yo,(function(e,n){t=t.Ft(n.activeTargetIds)})),t},t.prototype.lh=function(t){for(var e in this.Yo)if(this.Yo.hasOwnProperty(e)&&this.Yo[e].activeTargetIds.has(t))return!0;return!1},t.prototype.dh=function(t){this.vh(t,\"pending\")},t.prototype.wh=function(t,e,n){this.vh(t,e,n),this.mh(t)},t.prototype.ph=function(t){var e=\"not-current\";if(this.lh(t)){var n=this.storage.getItem(cn(this.persistenceKey,t));if(n){var r=ln.Bo(t,n);r&&(e=r.state)}}return this.bh.Go(t),this.oh(),e},t.prototype.gh=function(t){this.bh.Wo(t),this.oh()},t.prototype.yh=function(t){return this.bh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(cn(this.persistenceKey,t))},t.prototype.Ih=function(t,e,n){this.Th(t,e,n)},t.prototype.Ms=function(t,e,n){var r=this;e.forEach((function(t){r.mh(t)})),this.currentUser=t,n.forEach((function(t){r.dh(t)}))},t.prototype.Eh=function(t){this.Dh(t)},t.prototype.shutdown=function(){this.qu&&(this.platform.window.removeEventListener(\"storage\",this.Xo),this.removeItem(this.nh),this.qu=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ae(\"SharedClientState\",\"READ\",t,e),e},t.prototype.setItem=function(t,e){Ae(\"SharedClientState\",\"SET\",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ae(\"SharedClientState\",\"REMOVE\",t),this.storage.removeItem(t)},t.prototype.$o=function(t){var e=this;if(t.storageArea===this.storage){if(Ae(\"SharedClientState\",\"EVENT\",t.key,t.newValue),t.key===this.nh)return void Oe(\"Received WebStorage notification for local change. Another client might have garbage-collected our state\");this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,s,a;return o.__generator(this,(function(o){if(!this.qu)return this.Zo.push(t),[2];if(null===t.key)return[2];if(this.eh.test(t.key)){if(null==t.newValue)return n=this.Rh(t.key),[2,this.Sh(n,null)];if(e=this.Ah(t.key,t.newValue))return[2,this.Sh(e.clientId,e)]}else if(this.rh.test(t.key)){if(null!==t.newValue&&(r=this.Ch(t.key,t.newValue)))return[2,this.Ph(r)]}else if(this.uh.test(t.key)){if(null!==t.newValue&&(i=this.Vh(t.key,t.newValue)))return[2,this.kh(i)]}else if(t.key===this.sh){if(null!==t.newValue&&(s=this.hh(t.newValue)))return[2,this.ah(s)]}else t.key===this.ih&&(xe(!!this.Cr,\"Missing sequenceNumberHandler\"),(a=function(t){var e=ze.Nr;if(null!=t)try{var n=JSON.parse(t);xe(\"number\"==typeof n,\"Found non-numeric sequence number\"),e=n}catch(t){Oe(\"SharedClientState\",\"Failed to read sequence number from WebStorage\",t)}return e}(t.newValue))!==ze.Nr&&this.Cr(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,\"bh\",{get:function(){return this.Yo[this.Ko]},enumerable:!0,configurable:!0}),t.prototype.oh=function(){this.setItem(this.nh,this.bh.Qo())},t.prototype.vh=function(t,e,n){var r=new hn(this.currentUser,t,e,n),i=un(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Qo())},t.prototype.mh=function(t){var e=un(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Dh=function(t){var e={clientId:this.Ko,onlineState:t};this.storage.setItem(this.sh,JSON.stringify(e))},t.prototype.Th=function(t,e,n){var r=cn(this.persistenceKey,t),i=new ln(t,e,n);this.setItem(r,i.Qo())},t.prototype.Rh=function(t){var e=this.eh.exec(t);return e?e[1]:null},t.prototype.Ah=function(t,e){var n=this.Rh(t);return xe(null!==n,\"Cannot parse client state key '\"+t+\"'\"),fn.Bo(n,e)},t.prototype.Ch=function(t,e){var n=this.rh.exec(t);xe(null!==n,\"Cannot parse mutation batch key '\"+t+\"'\");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hn.Bo(new l(i),r,e)},t.prototype.Vh=function(t,e){var n=this.uh.exec(t);xe(null!==n,\"Cannot parse query target key '\"+t+\"'\");var r=Number(n[1]);return ln.Bo(r,e)},t.prototype.hh=function(t){return pn.Bo(t)},t.prototype.Ph=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(Ae(\"SharedClientState\",\"Ignoring mutation for non-active user \"+t.user.uid),[2]):[2,this.Jo.Nh(t.batchId,t.state,t.error)]}))}))},t.prototype.kh=function(t){return this.Jo.Oh(t.targetId,t.state,t.error)},t.prototype.Sh=function(t,e){var n=this,r=this.fh();e?this.Yo[t]=e:delete this.Yo[t];var i=this.fh(),s=[],a=[];return i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.Jo.Fh(s,a)},t.prototype.ah=function(t){this.Yo[t.clientId]&&this.Ho(t.onlineState)},t}(),gn=function(){function t(){this.Uh=new dn,this.jh={},this.Jo=null,this.Ho=null,this.Cr=null}return t.prototype.dh=function(t){},t.prototype.wh=function(t,e,n){},t.prototype.ph=function(t){return this.Uh.Go(t),this.jh[t]||\"not-current\"},t.prototype.Ih=function(t,e,n){this.jh[t]=e},t.prototype.gh=function(t){this.Uh.Wo(t)},t.prototype.yh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.jh[t]},t.prototype.fh=function(){return this.Uh.activeTargetIds},t.prototype.lh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype.start=function(){return this.Uh=new dn,Promise.resolve()},t.prototype.Ms=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.shutdown=function(){},t.prototype.kr=function(t){},t}(),mn=\"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.\",yn=function(){function t(){this.xh=[]}return t.prototype.Lh=function(t){this.xh.push(t)},t.prototype.Mh=function(){this.xh.forEach((function(t){return t()}))},t}(),wn=function(){function t(t,e,n){this.qh=t,this.Ps=e,this.Bh=n}return t.prototype.To=function(t,e){var n=this;return this.Ps.Qh(t,e).next((function(r){return n.Gh(t,e,r)}))},t.prototype.Gh=function(t,e,n){return this.qh.gs(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].qt(e,t);return t}))},t.prototype.Wh=function(t,e,n){var r=Jt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].qt(t,e);r=r.ut(t,e)})),r},t.prototype.Bs=function(t,e){var n=this;return this.qh.getEntries(t,e).next((function(e){return n.mo(t,e)}))},t.prototype.mo=function(t,e){var n=this;return this.Ps.zh(t,e).next((function(r){var i=n.Wh(t,e,r),o=$t();return i.forEach((function(t,e){e||(e=new kt(t,_.V())),o=o.ut(t,e)})),o}))},t.prototype.Vo=function(t,e,n){return e.Tn()?this.Kh(t,e.path):e.Yn()?this.Jh(t,e,n):this.Hh(t,e,n)},t.prototype.Kh=function(t,e){return this.To(t,new S(e)).next((function(t){var e=Zt();return t instanceof Nt&&(e=e.ut(t.key,t)),e}))},t.prototype.Jh=function(t,e,n){var r=this;xe(e.path.M(),\"Currently we only support collection group queries at the root.\");var i=e.collectionGroup,o=Zt();return this.Bh.Yh(t,i).next((function(s){return Qe.forEach(s,(function(s){var a=e.Ln(s.child(i));return r.Hh(t,a,n).next((function(t){t.forEach((function(t,e){o=o.ut(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Hh=function(t,e,n){var r,i,o=this;return this.qh.Vo(t,e,n).next((function(n){return r=n,o.Ps.Xh(t,e)})).next((function(e){return i=e,o.$h(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=u.qt(h,h,o.gr);r=l instanceof Nt?r.ut(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.$h=function(t,e,n){for(var r=re(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof bt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.qh.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Nt&&(c=c.ut(t,e))})),c}))},t}(),bn=function(){function t(){}return t.prototype.xs=function(t){this.Zh=t},t.prototype.Vo=function(t,e,n,r){var i=this;return xe(void 0!==this.Zh,\"setLocalDocumentsView() not called\"),e.Mn()||n.isEqual(_.MIN)?this.tc(t,e):this.Zh.Bs(t,r).next((function(o){var a=i.nc(e,o);return(e.Kn()||e.Jn())&&i.ic(e.Dn,a,r,n)?i.tc(t,e):(Ne()<=s.LogLevel.DEBUG&&Ae(\"IndexFreeQueryEngine\",\"Re-using previous result from %s to execute query: %s\",n.toString(),e.toString()),i.Zh.Vo(t,e,n).next((function(t){return a.forEach((function(e){t=t.ut(e.key,e)})),t})))}))},t.prototype.nc=function(t,e){var n=new R((function(e,n){return t.Bn(e,n)}));return e.forEach((function(e,r){r instanceof Nt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.ic=function(t,e,n,r){if(n.size!==e.size)return!0;var i=\"F\"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.k(r)>0)},t.prototype.tc=function(t,e){return Ne()<=s.LogLevel.DEBUG&&Ae(\"IndexFreeQueryEngine\",\"Using full collection scan to execute query: %s\",e.toString()),this.Zh.Vo(t,e,_.MIN)},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction _n(t){for(var e=\"\",n=0;n<t.length;n++)e.length>0&&(e=In(e)),e=En(t.get(n),e);return In(e)}function En(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case\"\\0\":n+=\"\u0001\u0010\";break;case\"\u0001\":n+=\"\u0001\u0011\";break;default:n+=o}}return n}function In(t){return t+\"\u0001\u0001\"}function Tn(t){var e=t.length;if(xe(e>=2,\"Invalid path \"+t),2===e)return xe(\"\u0001\"===t.charAt(0)&&\"\u0001\"===t.charAt(1),\"Non-empty path \"+t+\" had length 2\"),I.Y;for(var n=e-2,r=[],i=\"\",o=0;o<e;){var s=t.indexOf(\"\u0001\",o);switch((s<0||s>n)&&Pe('Invalid encoded resource path: \"'+t+'\"'),t.charAt(s+1)){case\"\u0001\":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=\"\"),r.push(u);break;case\"\u0010\":i+=t.substring(o,s),i+=\"\\0\";break;case\"\u0011\":i+=t.substring(o,s+1);break;default:Pe('Invalid encoded resource path: \"'+t+'\"')}o=s+2}return new I(r)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Cn=function(){function t(){this.ec=new Sn}return t.prototype.rc=function(t,e){return this.ec.add(e),Qe.resolve()},t.prototype.Yh=function(t,e){return Qe.resolve(this.ec.getEntries(e))},t}(),Sn=function(){function t(){this.index={}}return t.prototype.add=function(t){xe(t.length%2==1,\"Expected a collection path.\");var e=t.B(),n=t.L(),r=this.index[e]||new R(I.F),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.B(),n=t.L(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new R(I.F)).K()},t}(),Nn=function(){function t(t,e){this.Bh=t,this.Cs=e,this.Ps=[],this.uc=1,this.lastStreamToken=M.Mt,this.sc=new R(nn.bn)}return t.prototype.oc=function(t){return Qe.resolve(0===this.Ps.length)},t.prototype.Ys=function(t,e,n){var r=e.batchId,i=this.hc(r,\"acknowledged\");xe(0===i,\"Can only acknowledge the first batch in the mutation queue\");var o=this.Ps[i];return xe(r===o.batchId,\"Queue ordering failure: expected batch \"+r+\", got batch \"+o.batchId),this.lastStreamToken=n,Qe.resolve()},t.prototype.uo=function(t){return Qe.resolve(this.lastStreamToken)},t.prototype.so=function(t,e){return this.lastStreamToken=e,Qe.resolve()},t.prototype.Ks=function(t,e,n,r){xe(0!==r.length,\"Mutation batches should not be empty\");var i=this.uc;this.uc++,this.Ps.length>0&&xe(this.Ps[this.Ps.length-1].batchId<i,\"Mutation batchIDs must be monotonically increasing order\");var o=new Ve(i,e,n,r);this.Ps.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sc=this.sc.add(new nn(u.key,i)),this.Bh.rc(t,u.key.path.L())}return Qe.resolve(o)},t.prototype.io=function(t,e){return Qe.resolve(this.cc(e))},t.prototype.Hs=function(t,e){var n=this.cc(e);return xe(null!=n,\"Failed to find local mutation batch.\"),Qe.resolve(n.keys())},t.prototype._o=function(t,e){var n=e+1,r=this.ac(n),i=r<0?0:r;return Qe.resolve(this.Ps.length>i?this.Ps[i]:null)},t.prototype.ro=function(){return Qe.resolve(0===this.Ps.length?-1:this.uc-1)},t.prototype.qs=function(t){return Qe.resolve(this.Ps.slice())},t.prototype.Qh=function(t,e){var n=this,r=new nn(e,0),i=new nn(e,Number.POSITIVE_INFINITY),o=[];return this.sc.kt([r,i],(function(t){xe(e.isEqual(t.key),\"Should only iterate over a single key's batches\");var r=n.cc(t.ls);xe(null!==r,\"Batches in the index must exist in the main table\"),o.push(r)})),Qe.resolve(o)},t.prototype.zh=function(t,e){var n=this,r=new R(Le);return e.forEach((function(t){var e=new nn(t,0),i=new nn(t,Number.POSITIVE_INFINITY);n.sc.kt([e,i],(function(e){xe(t.isEqual(e.key),\"For each key, should only iterate over a single key's batches\"),r=r.add(e.ls)}))})),Qe.resolve(this.fc(r))},t.prototype.Xh=function(t,e){xe(!e.Yn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var n=e.path,r=n.length+1,i=n;S.nt(i)||(i=i.child(\"\"));var o=new nn(new S(i),0),s=new R(Le);return this.sc.Nt((function(t){var e=t.key.path;return!!n.G(e)&&(e.length===r&&(s=s.add(t.ls)),!0)}),o),Qe.resolve(this.fc(s))},t.prototype.fc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.cc(t);null!==r&&n.push(r)})),n},t.prototype.eo=function(t,e){var n=this;xe(0===this.hc(e.batchId,\"removed\"),\"Can only remove the first entry of the mutation queue\"),this.Ps.shift();var r=this.sc;return Qe.forEach(e.mutations,(function(i){var o=new nn(i.key,e.batchId);return r=r.delete(o),n.Cs.lc(t,i.key)})).next((function(){n.sc=r}))},t.prototype.Uo=function(t){},t.prototype.fs=function(t,e){var n=new nn(e,0),r=this.sc.Ot(n);return Qe.resolve(e.isEqual(r&&r.key))},t.prototype.to=function(t){return 0===this.Ps.length&&xe(this.sc.M(),\"Document leak -- detected dangling mutation references when queue is empty.\"),Qe.resolve()},t.prototype.hc=function(t,e){var n=this.ac(t);return xe(n>=0&&n<this.Ps.length,\"Batches must exist to be \"+e),n},t.prototype.ac=function(t){return 0===this.Ps.length?0:t-this.Ps[0].batchId},t.prototype.cc=function(t){var e=this.ac(t);if(e<0||e>=this.Ps.length)return null;var n=this.Ps[e];return xe(n.batchId===t,\"If found batch must match\"),n},t}(),kn=function(){function t(t,e){this.Bh=t,this.dc=e,this.docs=new N(S.F),this.size=0}return t.prototype.ms=function(t,e,n){xe(!n.isEqual(_.MIN),\"Cannot add a document with a read time of zero\");var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.dc(e);return this.docs=this.docs.ut(r,{vc:e,size:s,readTime:n}),this.size+=s-o,this.Bh.rc(t,r.path.L())},t.prototype.bs=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.gs=function(t,e){var n=this.docs.get(e);return Qe.resolve(n?n.vc:null)},t.prototype.getEntries=function(t,e){var n=this,r=Jt();return e.forEach((function(t){var e=n.docs.get(t);r=r.ut(t,e?e.vc:null)})),Qe.resolve(r)},t.prototype.Vo=function(t,e,n){xe(!e.Yn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");for(var r=Zt(),i=new S(e.path.child(\"\")),o=this.docs.lt(i);o.gt();){var s=o.bt(),a=s.key,u=s.value,c=u.vc,h=u.readTime;if(!e.path.G(a.path))break;h.k(n)<=0||c instanceof Nt&&e.matches(c)&&(r=r.ut(c.key,c))}return Qe.resolve(r)},t.prototype.wc=function(t,e){return Qe.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Lo=function(t,e){throw new Error(\"getNewDocumentChanges() is not supported with MemoryPersistence\")},t.prototype.qo=function(t){return Qe.resolve(_.MIN)},t.prototype.Xs=function(e){return new t.mc(this)},t.prototype.pc=function(t){return Qe.resolve(this.size)},t.mc=function(t){function e(e){var n=t.call(this)||this;return n.bc=e,n}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[];return this.ds.forEach((function(r,i){i?n.push(e.bc.ms(t,i,e.readTime)):e.bc.bs(r)})),Qe.pu(n)},e.prototype.ys=function(t,e){return this.bc.gs(t,e)},e.prototype._s=function(t,e){return this.bc.getEntries(t,e)},e}(rn),t}(),An=function(){function t(t,e){this.gc=t,xe((1&t)===t,\"Generator ID \"+t+\" contains more than 1 reserved bits\"),this.yc(void 0!==e?e:this.gc)}return t.prototype.next=function(){var t=this._c;return this._c+=2,t},t.prototype.after=function(t){return this.yc(t+2),this.next()},t.prototype.yc=function(t){xe((1&t)===this.gc,\"Cannot supply target ID from different generator ID\"),this._c=t},t.Ic=function(){return new t(0,2)},t.Tc=function(){return new t(1)},t}(),On=function(){function t(t){this.persistence=t,this.Ec=new Be((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=_.MIN,this.highestTargetId=0,this.Dc=0,this.Rc=new en,this.targetCount=0,this.Sc=An.Ic()}return t.prototype.$i=function(t,e){return this.Ec.forEach((function(t,n){return e(n)})),Qe.resolve()},t.prototype.oo=function(t){return Qe.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ac=function(t){return Qe.resolve(this.Dc)},t.prototype.Ro=function(t){var e=this.Sc.after(this.highestTargetId);return this.highestTargetId=e,Qe.resolve(e)},t.prototype.wo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Dc&&(this.Dc=e),Qe.resolve()},t.prototype.Cc=function(t){this.Ec.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Dc&&(this.Dc=t.sequenceNumber)},t.prototype.So=function(t,e){return xe(!this.Ec.has(e.target),\"Adding a target that already exists\"),this.Cc(e),this.targetCount+=1,Qe.resolve()},t.prototype.do=function(t,e){return xe(this.Ec.has(e.target),\"Updating a non-existent target\"),this.Cc(e),Qe.resolve()},t.prototype.Pc=function(t,e){return xe(this.targetCount>0,\"Removing a target from an empty cache\"),xe(this.Ec.has(e.target),\"Removing a non-existent target from the cache\"),this.Ec.delete(e.target),this.Rc.hs(e.targetId),this.targetCount-=1,Qe.resolve()},t.prototype.Ju=function(t,e,n){var r=this,i=0,o=[];return this.Ec.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Ec.delete(s),o.push(r.Vc(t,a.targetId)),i++)})),Qe.pu(o).next((function(){return i}))},t.prototype.kc=function(t){return Qe.resolve(this.targetCount)},t.prototype.Do=function(t,e){var n=this.Ec.get(e)||null;return Qe.resolve(n)},t.prototype.ce=function(t,e){return Pe(\"Not yet implemented.\")},t.prototype.ao=function(t,e,n){this.Rc.rs(e,n);var r=this.persistence.Cs,i=[];return r&&e.forEach((function(e){i.push(r.es(t,e))})),Qe.pu(i)},t.prototype.co=function(t,e,n){this.Rc.os(e,n);var r=this.persistence.Cs,i=[];return r&&e.forEach((function(e){i.push(r.us(t,e))})),Qe.pu(i)},t.prototype.Vc=function(t,e){return this.Rc.hs(e),Qe.resolve()},t.prototype.Po=function(t,e){var n=this.Rc.as(e);return Qe.resolve(n)},t.prototype.fs=function(t,e){return Qe.resolve(this.Rc.fs(e))},t}(),Rn=\"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.\",Pn=function(){function t(t,e){var n=this;this.clientId=t,this.Nc={},this.Oc=new ze(0),this.Fc=!1,this.Fc=!0,this.Cs=e(this),this.Os=new On(this),this.Bh=new Cn,this.qh=new kn(this.Bh,(function(t){return n.Cs.Uc(t)}))}return t.prototype.shutdown=function(){return this.Fc=!1,Promise.resolve()},Object.defineProperty(t.prototype,\"qu\",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Oo=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.jc=function(t){return t(!0)},t.prototype.xc=function(){},t.prototype.jo=function(t){},t.prototype.js=function(){return this.Bh},t.prototype.Vs=function(t){var e=this.Nc[t.i()];return e||(e=new Nn(this.Bh,this.Cs),this.Nc[t.i()]=e),e},t.prototype.Fs=function(){return this.Os},t.prototype.Ns=function(){return this.qh},t.prototype.runTransaction=function(t,e,n){var r=this;Ae(\"MemoryPersistence\",\"Starting transaction:\",t);var i=new xn(this.Oc.next());return this.Cs.Lc(),n(i).next((function(t){return r.Cs.Mc(i).next((function(){return t}))})).wu().then((function(t){return i.Mh(),t}))},t.prototype.qc=function(t,e){return Qe.bu(Object.values(this.Nc).map((function(n){return function(){return n.fs(t,e)}})))},t}(),xn=function(t){function e(e){var n=t.call(this)||this;return n.fo=e,n}return o.__extends(e,t),e}(yn),Dn=function(){function t(t){this.persistence=t,this.Bc=null,this.Qc=null}return Object.defineProperty(t.prototype,\"Gc\",{get:function(){if(this.Qc)return this.Qc;throw Pe(\"orphanedDocuments is only valid during a transaction.\")},enumerable:!0,configurable:!0}),t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return this.Gc.delete(e),Qe.resolve()},t.prototype.us=function(t,e){return this.Gc.add(e),Qe.resolve()},t.prototype.lc=function(t,e){return this.Gc.add(e),Qe.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Fs();return r.Po(t,e.targetId).next((function(t){t.forEach((function(t){return n.Gc.add(t)}))})).next((function(){return r.Pc(t,e)}))},t.prototype.Lc=function(){this.Qc=new Set},t.prototype.Mc=function(t){var e=this,n=this.persistence.Ns().Xs();return Qe.forEach(this.Gc,(function(r){return e.Wc(t,r).next((function(t){t||n.bs(r)}))})).next((function(){return e.Qc=null,n.apply(t)}))},t.prototype.vo=function(t,e){var n=this;return this.Wc(t,e).next((function(t){t?n.Gc.delete(e):n.Gc.add(e)}))},t.prototype.Uc=function(t){return 0},t.prototype.Wc=function(t,e){var n=this;return Qe.bu([function(){return n.persistence.Fs().fs(t,e)},function(){return n.persistence.qc(t,e)},function(){return Qe.resolve(n.Bc.fs(e))}])},t}(),Ln=function(){function t(){}return t.prototype.initialize=function(t,e,n,r,i,o){if(o.zc)throw new p(f.FAILED_PRECONDITION,Rn);return this.clientId=r,Promise.resolve()},t.prototype.Kc=function(){var t=!1;return{qu:t,start:function(){return t=!0},stop:function(){return t=!1}}},t.prototype.Jc=function(){return xe(!!this.clientId,\"initialize() not called\"),new Pn(this.clientId,(function(t){return new Dn(t)}))},t.prototype.Hc=function(){return new gn},t.prototype.clearPersistence=function(){throw new p(f.FAILED_PRECONDITION,Rn)},t}(),Mn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.zo=t,this.Fr=e,this.Yc=n,this.Xc=r,this.$c=i,this.Zc=0,this.ta=null,this.na=Date.now(),this.reset()}return t.prototype.reset=function(){this.Zc=0},t.prototype.ia=function(){this.Zc=this.$c},t.prototype.ea=function(t){var e=this;this.cancel();var n=Math.floor(this.Zc+this.ra()),r=Math.max(0,Date.now()-this.na),i=Math.max(0,n-r);this.Zc>0&&Ae(\"ExponentialBackoff\",\"Backing off for \"+i+\" ms (base delay: \"+this.Zc+\" ms, delay with jitter: \"+n+\" ms, last attempt: \"+r+\" ms ago)\"),this.ta=this.zo.iu(this.Fr,i,(function(){return e.na=Date.now(),t()})),this.Zc*=this.Xc,this.Zc<this.Yc&&(this.Zc=this.Yc),this.Zc>this.$c&&(this.Zc=this.$c)},t.prototype.cancel=function(){null!==this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.ra=function(){return(Math.random()-.5)*this.Zc},t}(),Fn=function(){function t(t,e,n,r,i,o){this.zo=t,this.ua=n,this.connection=r,this.sa=i,this.listener=o,this.state=0,this.oa=0,this.ha=null,this.stream=null,this.ca=new Mn(t,e)}return t.prototype.aa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.fa=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(xe(0===this.state,\"Already started\"),this.auth()):this.la()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.aa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.da=function(){xe(!this.aa(),\"Can only inhibit backoff in a stopped state\"),this.state=0,this.ca.reset()},t.prototype.va=function(){var t=this;this.fa()&&null===this.ha&&(this.ha=this.zo.iu(this.ua,6e4,(function(){return t.wa()})))},t.prototype.ma=function(t){this.pa(),this.stream.send(t)},t.prototype.wa=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.fa()?[2,this.close(0)]:[2]}))}))},t.prototype.pa=function(){this.ha&&(this.ha.cancel(),this.ha=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return xe(this.aa(),\"Only started streams should be closed.\"),xe(3===t||F(e),\"Can't provide an error when not in an error state.\"),this.pa(),this.ca.cancel(),this.oa++,3!==t?this.ca.reset():e&&e.code===f.RESOURCE_EXHAUSTED?(Oe(e.toString()),Oe(\"Using maximum backoff delay to prevent overloading the backend.\"),this.ca.ia()):e&&e.code===f.UNAUTHENTICATED&&this.sa.l(),null!==this.stream&&(this.ba(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ga(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ba=function(){},t.prototype.auth=function(){var t=this;xe(0===this.state,\"Must be in initial state to auth\"),this.state=1;var e=this.ya(this.oa),n=this.oa;this.sa.getToken().then((function(e){t.oa===n&&t._a(e)}),(function(n){e((function(){var e=new p(f.UNKNOWN,\"Fetching auth token failed: \"+n.message);return t.Ia(e)}))}))},t.prototype._a=function(t){var e=this;xe(1===this.state,\"Trying to start stream in a non-starting state\");var n=this.ya(this.oa);this.stream=this.Ta(t),this.stream.Ea((function(){n((function(){return xe(1===e.state,\"Expected stream to be in state Starting, but was \"+e.state),e.state=2,e.listener.Ea()}))})),this.stream.ga((function(t){n((function(){return e.Ia(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.la=function(){var t=this;xe(3===this.state,\"Should only perform backoff when in Error state\"),this.state=4,this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return xe(4===this.state,\"Backoff elapsed but state is now: \"+this.state),this.state=0,this.start(),xe(this.aa(),\"PersistentStream should have started\"),[2]}))}))}))},t.prototype.Ia=function(t){return xe(this.aa(),\"Can't handle server close on non-started stream\"),Ae(\"PersistentStream\",\"close with error: \"+t),this.stream=null,this.close(3,t)},t.prototype.ya=function(t){var e=this;return function(n){e.zo.Qr((function(){return e.oa===t?n():(Ae(\"PersistentStream\",\"stream callback skipped by getCloseGuardedDispatcher.\"),Promise.resolve())}))}},t}(),Un=function(t){function e(e,n,r,i,o){var s=t.call(this,e,\"listen_stream_connection_backoff\",\"listen_stream_idle\",n,r,o)||this;return s.serializer=i,s}return o.__extends(e,t),e.prototype.Ta=function(t){return this.connection.Da(\"Listen\",t)},e.prototype.onMessage=function(t){this.ca.reset();var e=this.serializer.ke(t),n=this.serializer.Oe(t);return this.listener.Ra(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.De,e.addTarget=this.serializer.qn(t);var n=this.serializer.nr(t);n&&(e.labels=n),this.ma(e)},e.prototype.Sa=function(t){var e={};e.database=this.serializer.De,e.removeTarget=t,this.ma(e)},e}(Fn),jn=function(t){function e(e,n,r,i,o){var s=t.call(this,e,\"write_stream_connection_backoff\",\"write_stream_idle\",n,r,o)||this;return s.serializer=i,s.Aa=!1,s.lastStreamToken=M.Mt,s}return o.__extends(e,t),Object.defineProperty(e.prototype,\"Ca\",{get:function(){return this.Aa},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.Aa=!1,t.prototype.start.call(this)},e.prototype.ba=function(){this.Aa&&this.Pa([])},e.prototype.Ta=function(t){return this.connection.Da(\"Write\",t)},e.prototype.onMessage=function(t){if(xe(!!t.streamToken,\"Got a write response without a stream token\"),this.lastStreamToken=this.serializer.pe(t.streamToken),this.Aa){this.ca.reset();var e=this.serializer.Ge(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Va(n,e)}return xe(!t.writeResults||0===t.writeResults.length,\"Got mutation results for handshake\"),this.Aa=!0,this.listener.ka()},e.prototype.Na=function(){xe(this.fa(),\"Writing handshake requires an opened stream\"),xe(!this.Aa,\"Handshake already completed\");var t={};t.database=this.serializer.De,this.ma(t)},e.prototype.Pa=function(t){var e=this;xe(this.fa(),\"Writing mutations requires an opened stream\"),xe(this.Aa,\"Handshake must be complete before writing mutations\"),xe(this.lastStreamToken.Lt()>0,\"Trying to write mutation without a token\");var n={streamToken:this.serializer.me(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Fe(t)}))};this.ma(n)},e}(Fn),Vn=function(){function t(t,e,n,r){this.zo=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Oa=function(t){return new jn(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.Fa=function(t){return new Un(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.De,writes:t.map((function(t){return e.serializer.Fe(t)}))};return this.Ua(\"Commit\",n).then((function(t){return e.serializer.Ge(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.De,documents:t.map((function(t){return e.serializer._e(t)}))};return this.ja(\"BatchGetDocuments\",n).then((function(n){var r=$t();n.forEach((function(t){var n=e.serializer.Ve(t);r=r.ut(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);xe(!!e,\"Missing entity in write response for \"+t),i.push(e)})),i}))},t.prototype.Ua=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Ua(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials.l(),t}))},t.prototype.ja=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.ja(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials.l(),t}))},t}();\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction qn(t,e){if(0!==e.length)throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() does not support arguments, but was called with \"+ar(e.length,\"argument\")+\".\")}function Bn(t,e,n){if(e.length!==n)throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires \"+ar(n,\"argument\")+\", but was called with \"+ar(e.length,\"argument\")+\".\")}function Wn(t,e,n){if(e.length<n)throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires at least \"+ar(n,\"argument\")+\", but was called with \"+ar(e.length,\"argument\")+\".\")}function zn(t,e,n,r){if(e.length<n||e.length>r)throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires between \"+n+\" and \"+r+\" arguments, but was called with \"+ar(e.length,\"argument\")+\".\")}function Gn(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+n+\" argument to be an array with at least \"+ar(r,\"element\")+\".\")}function Hn(t,e,n,r){Zn(t,e,sr(n)+\" argument\",r)}function Kn(t,e,n,r){void 0!==r&&Hn(t,e,n,r)}function Qn(t,e,n,r){Zn(t,e,n+\" option\",r)}function Yn(t,e,n,r){void 0!==r&&Qn(t,e,n,r)}function $n(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+e+\" option to be an array, but it was: \"+er(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires all \"+e+\" elements to be \"+n+\", but the value at index \"+o+\" was: \"+er(r[o]))}(t,e,n,r,i)}function Jn(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(er(u))}var c=er(r);throw new p(f.INVALID_ARGUMENT,\"Invalid value \"+c+\" provided to function \"+t+'() for option \"'+n+'\". Acceptable values: '+o.join(\", \"))}(t,0,n,r,i)}function Xn(t,e,n,r){if(!e.some((function(t){return t===r})))throw new p(f.INVALID_ARGUMENT,\"Invalid value \"+er(r)+\" provided to function \"+t+\"() for its \"+sr(n)+\" argument. Acceptable values: \"+e.join(\", \"))}function Zn(t,e,n,r){if(!(\"object\"===e?tr(r):\"non-empty string\"===e?\"string\"==typeof r&&\"\"!==r:typeof r===e)){var i=er(r);throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+n+\" to be of type \"+e+\", but it was: \"+i)}}function tr(t){return\"object\"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function er(t){if(void 0===t)return\"undefined\";if(null===t)return\"null\";if(\"string\"==typeof t)return t.length>20&&(t=t.substring(0,20)+\"...\"),JSON.stringify(t);if(\"number\"==typeof t||\"boolean\"==typeof t)return\"\"+t;if(\"object\"==typeof t){if(t instanceof Array)return\"an array\";var e=function(t){if(t.constructor){var e=/function\\s+([^\\s(]+)\\s*\\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?\"a custom \"+e+\" object\":\"an object\"}return\"function\"==typeof t?\"a function\":Pe(\"Unknown wrong type: \"+typeof t)}function nr(t,e,n){if(void 0===n)throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires a valid \"+sr(e)+\" argument, but it was undefined.\")}function rr(t,e,n){D(e,(function(e,r){if(n.indexOf(e)<0)throw new p(f.INVALID_ARGUMENT,\"Unknown option '\"+e+\"' passed to function \"+t+\"(). Available options: \"+n.join(\", \"))}))}function ir(t,e,n,r){var i=er(r);return new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+sr(n)+\" argument to be a \"+e+\", but it was: \"+i)}function or(t,e,n){if(n<=0)throw new p(f.INVALID_ARGUMENT,'Function \"'+t+'()\" requires its '+sr(e)+\" argument to be a positive number, but it was: \"+n+\".\")}function sr(t){switch(t){case 1:return\"first\";case 2:return\"second\";case 3:return\"third\";default:return t+\"th\"}}function ar(t,e){return t+\" \"+e+(1===t?\"\":\"s\")}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function ur(t,e){function n(){var t=\"This constructor is private.\";throw e&&(t+=\" \",t+=e),new p(f.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */}function cr(){if(\"undefined\"==typeof Uint8Array)throw new p(f.UNIMPLEMENTED,\"Uint8Arrays are not available in this environment.\")}function hr(){if(!Ce.xt().xa)throw new p(f.UNIMPLEMENTED,\"Blobs are unavailable in Firestore in this environment.\")}var lr=function(){function t(t){hr(),this.La=t}return t.fromBase64String=function(e){Bn(\"Blob.fromBase64String\",arguments,1),Hn(\"Blob.fromBase64String\",\"string\",1,e),hr();try{return new t(M.fromBase64String(e))}catch(t){throw new p(f.INVALID_ARGUMENT,\"Failed to construct Blob from Base64 string: \"+t)}},t.fromUint8Array=function(e){if(Bn(\"Blob.fromUint8Array\",arguments,1),cr(),!(e instanceof Uint8Array))throw ir(\"Blob.fromUint8Array\",\"Uint8Array\",1,e);return new t(M.fromUint8Array(e))},t.prototype.toBase64=function(){return Bn(\"Blob.toBase64\",arguments,0),hr(),this.La.toBase64()},t.prototype.toUint8Array=function(){return Bn(\"Blob.toUint8Array\",arguments,0),cr(),this.La.toUint8Array()},t.prototype.toString=function(){return\"Blob(base64: \"+this.toBase64()+\")\"},t.prototype.isEqual=function(t){return this.La.isEqual(t.La)},t}(),fr=ur(lr,\"Use Blob.fromUint8Array() or Blob.fromBase64String() instead.\"),pr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Gn(\"FieldPath\",t,\"fieldNames\",1);for(var n=0;n<t.length;++n)if(Hn(\"FieldPath\",\"string\",n,t[n]),0===t[n].length)throw new p(f.INVALID_ARGUMENT,\"Invalid field name at argument $(i + 1). Field names must not be empty.\");this.Ma=new C(t)}return t.documentId=function(){return t.qa},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ir(\"isEqual\",\"FieldPath\",1,e);return this.Ma.isEqual(e.Ma)},t.qa=new t(C.Z().J()),t}(),dr=new RegExp(\"[~\\\\*/\\\\[\\\\]]\"),vr=function(){function t(t){this.Ba=t}return t.delete=function(){return qn(\"FieldValue.delete\",arguments),gr.instance},t.serverTimestamp=function(){return qn(\"FieldValue.serverTimestamp\",arguments),mr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wn(\"FieldValue.arrayUnion\",arguments,1),new yr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wn(\"FieldValue.arrayRemove\",arguments,1),new wr(t)},t.increment=function(t){return Hn(\"FieldValue.increment\",\"number\",1,t),Bn(\"FieldValue.increment\",arguments,1),new br(t)},t.prototype.isEqual=function(t){return this===t},t}(),gr=function(t){function e(){return t.call(this,\"FieldValue.delete\")||this}return o.__extends(e,t),e.instance=new e,e}(vr),mr=function(t){function e(){return t.call(this,\"FieldValue.serverTimestamp\")||this}return o.__extends(e,t),e.instance=new e,e}(vr),yr=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayUnion\")||this;return n.Qa=e,n}return o.__extends(e,t),e}(vr),wr=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayRemove\")||this;return n.Qa=e,n}return o.__extends(e,t),e}(vr),br=function(t){function e(e){var n=t.call(this,\"FieldValue.increment\")||this;return n.Ga=e,n}return o.__extends(e,t),e}(vr),_r=ur(vr,\"Use FieldValue.<field>() instead.\"),Er=function(){function t(t,e){if(Bn(\"GeoPoint\",arguments,2),Hn(\"GeoPoint\",\"number\",1,t),Hn(\"GeoPoint\",\"number\",2,e),!isFinite(t)||t<-90||t>90)throw new p(f.INVALID_ARGUMENT,\"Latitude must be a number between -90 and 90, but was: \"+t);if(!isFinite(e)||e<-180||e>180)throw new p(f.INVALID_ARGUMENT,\"Longitude must be a number between -180 and 180, but was: \"+e);this.Wa=t,this.za=e}return Object.defineProperty(t.prototype,\"latitude\",{get:function(){return this.Wa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"longitude\",{get:function(){return this.za},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Wa===t.Wa&&this.za===t.za},t.prototype.A=function(t){return Le(this.Wa,t.Wa)||Le(this.za,t.za)},t}(),Ir=/^__.*__$/,Tr=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[];return null!==this.en?n.push(new bt(t,this.data,this.en,e)):n.push(new wt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _t(t,this.fieldTransforms)),n},t}(),Cr=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[new bt(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new _t(t,this.fieldTransforms)),n},t}();\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Sr(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(\"Unexpected case for UserDataSource: \"+t)}}var Nr=function(){function t(t,e,n,r,i,o){this.Ja=t,this.methodName=e,this.path=n,this.Ha=r,void 0===i&&this.Ya(),this.Ha=void 0!==r&&r,this.fieldTransforms=i||[],this.en=o||[]}return t.prototype.Xa=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return r.$a(e),r},t.prototype.Za=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return r.Ya(),r},t.prototype.tf=function(e){return new t(this.Ja,this.methodName,null,!0,this.fieldTransforms,this.en)},t.prototype.nf=function(t){var e=null===this.path||this.path.M()?\"\":\" (found in field \"+this.path.toString()+\")\";return new p(f.INVALID_ARGUMENT,\"Function \"+this.methodName+\"() called with invalid data. \"+t+e)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.G(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.G(e.field)}))},t.prototype.Ya=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.$a(this.path.get(t))},t.prototype.$a=function(t){if(0===t.length)throw this.nf(\"Document fields must not be empty\");if(Sr(this.Ja)&&Ir.test(t))throw this.nf('Document fields cannot begin and end with \"__\"')},t}(),kr=function(t,e){this.ae=t,this.key=e},Ar=function(){function t(t,e){this.serializer=t,this.if=e}return t.prototype.ef=function(t,e){var n=new Nr(0,t,C.Y);Rr(\"Data must be an object, but it was:\",n,e);var r=this.rf(e,n);return new Tr(new Tt(r),null,n.fieldTransforms)},t.prototype.uf=function(t,e,n){var r=new Nr(2,t,C.Y);Rr(\"Data must be an object, but it was:\",r,e);var i,o,s=this.rf(e,r);if(n){for(var a=new R(C.F),u=0,c=n;u<c.length;u++){var h=c[u],l=void 0;if(h instanceof pr)l=h.Ma;else{if(\"string\"!=typeof h)throw Pe(\"Expected stringOrFieldPath to be a string or a FieldPath\");l=xr(t,h)}if(!r.contains(l))throw new p(f.INVALID_ARGUMENT,\"Field '\"+l+\"' is specified in your field mask but missing from your input data.\");a=a.add(l)}i=dt.Kt(a),o=r.fieldTransforms.filter((function(t){return i.Ht(t.field)}))}else i=dt.Jt(r.en),o=r.fieldTransforms;return new Tr(new Tt(s),i,o)},t.prototype.sf=function(t,e){var n=this,r=new Nr(1,t,C.Y);Rr(\"Data must be an object, but it was:\",r,e);var i=new R(C.F),o=Tt.ln();D(e,(function(e,s){var a=xr(t,e),u=r.Za(a);if((s=n.hf(s,u))instanceof gr)i=i.add(a);else{var c=n.cf(s,u);null!=c&&(i=i.add(a),o.set(a,c))}}));var s=dt.Kt(i);return new Cr(o.on(),s,r.fieldTransforms)},t.prototype.af=function(t,e,n,r){var i=new Nr(1,t,C.Y),o=[Pr(t,e)],s=[n];if(r.length%2!=0)throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() needs to be called with an even number of arguments that alternate between field names and values.\");for(var a=0;a<r.length;a+=2)o.push(Pr(t,r[a])),s.push(r[a+1]);var u=new R(C.F),c=Tt.ln();for(a=0;a<o.length;++a){var h=o[a],l=i.Za(h),d=this.hf(s[a],l);if(d instanceof gr)u=u.add(h);else{var v=this.cf(d,l);null!=v&&(u=u.add(h),c.set(h,v))}}var g=dt.Kt(u);return new Cr(c.on(),g,i.fieldTransforms)},t.prototype.ff=function(t,e,n){void 0===n&&(n=!1);var r=new Nr(n?4:3,t,C.Y),i=this.cf(e,r);return xe(null!=i,\"Parsed data should not be null.\"),xe(0===r.fieldTransforms.length,\"Field transforms should have been disallowed.\"),i},t.prototype.hf=function(t,e){try{return this.if(t)}catch(t){var n=Dr(t);throw e.nf(n)}},t.prototype.cf=function(t,e){if(Or(t=this.hf(t,e)))return Rr(\"Unsupported field value:\",e,t),this.rf(t,e);if(t instanceof vr)return this.lf(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.Ha&&4!==e.Ja)throw e.nf(\"Nested arrays are not supported\");return this.df(t,e)}return this.vf(t,e)},t.prototype.rf=function(t,e){var n=this,r={};return L(t)?e.path&&e.path.length>0&&e.en.push(e.path):D(t,(function(t,i){var o=n.cf(i,e.Xa(t));null!=o&&(r[t]=o)})),{mapValue:{fields:r}}},t.prototype.df=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=o[i],a=this.cf(s,e.tf(r));null==a&&(a={nullValue:\"NULL_VALUE\"}),n.push(a),r++}return{arrayValue:{values:n}}},t.prototype.lf=function(t,e){if(!Sr(e.Ja))throw e.nf(t.Ba+\"() can only be used with update() and set()\");if(null===e.path)throw e.nf(t.Ba+\"() is not currently supported inside arrays\");if(t instanceof gr){if(2!==e.Ja)throw 1===e.Ja?(xe(e.path.length>0,\"FieldValue.delete() at the top level should have already been handled.\"),e.nf(\"FieldValue.delete() can only appear at the top level of your update data\")):e.nf(\"FieldValue.delete() cannot be used with set() unless you pass {merge:true}\");e.en.push(e.path)}else if(t instanceof mr)e.fieldTransforms.push(new vt(e.path,at.instance));else if(t instanceof yr){var n=this.wf(t.Ba,t.Qa),r=new ut(n);e.fieldTransforms.push(new vt(e.path,r))}else if(t instanceof wr){n=this.wf(t.Ba,t.Qa);var i=new ct(n);e.fieldTransforms.push(new vt(e.path,i))}else if(t instanceof br){var o=this.ff(\"FieldValue.increment\",t.Ga),s=new ht(this.serializer,o);e.fieldTransforms.push(new vt(e.path,s))}else Pe(\"Unknown FieldValue type: \"+t)},t.prototype.vf=function(t,e){if(null===t)return{nullValue:\"NULL_VALUE\"};if(\"number\"==typeof t)return this.serializer.we(t);if(\"boolean\"==typeof t)return{booleanValue:t};if(\"string\"==typeof t)return{stringValue:t};if(t instanceof Date){var n=b.fromDate(t);return{timestampValue:this.serializer.O(n)}}if(t instanceof b)return n=new b(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:this.serializer.O(n)};if(t instanceof Er)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lr)return{bytesValue:this.serializer.me(t)};if(t instanceof kr)return{referenceValue:this.serializer.be(t.key.path,t.ae)};throw e.nf(\"Unsupported field value: \"+er(t))},t.prototype.wf=function(t,e){var n=this;return e.map((function(e,r){var i=new Nr(3,t,C.Y);return n.cf(e,i.tf(r))}))},t}();function Or(t){return!(\"object\"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof b||t instanceof Er||t instanceof lr||t instanceof kr||t instanceof vr)}function Rr(t,e,n){if(!Or(n)||!tr(n)){var r=er(n);throw\"an object\"===r?e.nf(t+\" a custom object\"):e.nf(t+\" \"+r)}}function Pr(t,e){if(e instanceof pr)return e.Ma;if(\"string\"==typeof e)return xr(t,e);throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. Field path arguments must be of type string or FieldPath.\")}function xr(t,e){try{return function(t){if(t.search(dr)>=0)throw new p(f.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not contain '~', '*', '/', '[', or ']'\");try{return new(pr.bind.apply(pr,o.__spreadArrays([void 0],t.split(\".\"))))}catch(e){throw new p(f.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\")}}(e).Ma}catch(e){var n=Dr(e);throw new p(f.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. \"+n)}}function Dr(t){return t instanceof Error?t.message:t.toString()}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Lr=function(){function t(t){this.mf=t,this.pf=ee(),this.mutations=[],this.bf=!1,this.gf=null,this.yf=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this._f(),this.mutations.length>0)throw new p(f.INVALID_ARGUMENT,\"Firestore transactions require all reads to be executed before all writes.\");return[4,this.mf.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof kt||t instanceof Nt?n.If(t):Pe(\"Document in a transaction was a \"+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ka(t,this.tn(t))),this.yf.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ka(t,this.Tf(t)))}catch(t){this.gf=t}this.yf.add(t)},t.prototype.delete=function(t){this.write([new Et(t,this.tn(t))]),this.yf.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this._f(),this.gf)throw this.gf;return t=this.pf,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new It(t,e.tn(t)))})),[4,this.mf.commit(this.mutations)];case 1:return n.sent(),this.bf=!0,[2]}}))}))},t.prototype.If=function(t){var e;if(t instanceof Nt)e=t.version;else{if(!(t instanceof kt))throw Pe(\"Document in a transaction was a \"+t.constructor.name);e=_.V()}var n=this.pf.get(t.key);if(null!==n){if(!e.isEqual(n))throw new p(f.ABORTED,\"Document version changed between two reads.\")}else this.pf=this.pf.ut(t.key,e)},t.prototype.tn=function(t){var e=this.pf.get(t);return!this.yf.has(t)&&e?mt.updateTime(e):mt.NONE},t.prototype.Tf=function(t){var e=this.pf.get(t);if(!this.yf.has(t)&&e){if(e.isEqual(_.V()))throw new p(f.INVALID_ARGUMENT,\"Can't update a document that doesn't exist.\");return mt.updateTime(e)}return mt.exists(!0)},t.prototype.write=function(t){this._f(),this.mutations=this.mutations.concat(t)},t.prototype._f=function(){xe(!this.bf,\"A transaction object cannot be used after its update callback has been invoked.\")},t}(),Mr=function(){function t(t,e){this.Or=t,this.Ho=e,this.state=\"Unknown\",this.Ef=0,this.Df=null,this.Rf=!0}return t.prototype.Sf=function(){var t=this;0===this.Ef&&(this.Af(\"Unknown\"),xe(null===this.Df,\"onlineStateTimer shouldn't be started yet\"),this.Df=this.Or.iu(\"online_state_timeout\",1e4,(function(){return t.Df=null,xe(\"Unknown\"===t.state,\"Timer should be canceled if we transitioned to a different state.\"),t.Cf(\"Backend didn't respond within 10 seconds.\"),t.Af(\"Offline\"),Promise.resolve()})))},t.prototype.Pf=function(t){\"Online\"===this.state?(this.Af(\"Unknown\"),xe(0===this.Ef,\"watchStreamFailures must be 0\"),xe(null===this.Df,\"onlineStateTimer must be null\")):(this.Ef++,this.Ef>=1&&(this.Vf(),this.Cf(\"Connection failed 1 times. Most recent error: \"+t.toString()),this.Af(\"Offline\")))},t.prototype.set=function(t){this.Vf(),this.Ef=0,\"Online\"===t&&(this.Rf=!1),this.Af(t)},t.prototype.Af=function(t){t!==this.state&&(this.state=t,this.Ho(t))},t.prototype.Cf=function(t){var e=\"Could not reach Cloud Firestore backend. \"+t+\"\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\";this.Rf?(Oe(e),this.Rf=!1):Ae(\"OnlineStateTracker\",e)},t.prototype.Vf=function(){null!==this.Df&&(this.Df.cancel(),this.Df=null)},t}(),Fr=function(){function t(t,e,n,r,i){var s=this;this.kf=t,this.mf=e,this.Nf=[],this.Of=new Map,this.Ff=null,this.networkEnabled=!1,this.isPrimary=!1,this.Uf=i,this.Uf.jf((function(t){n.Qr((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(Ae(\"RemoteStore\",\"Restarting streams for network reachability change.\"),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mf=new Mr(n,r),this.qf=this.mf.Fa({Ea:this.Bf.bind(this),ga:this.Qf.bind(this),Ra:this.Gf.bind(this)}),this.Wf=this.mf.Oa({Ea:this.zf.bind(this),ga:this.Kf.bind(this),ka:this.Jf.bind(this),Va:this.Va.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.xf()?(t=this.Wf,[4,this.kf.uo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Hf()?this.Yf():this.Mf.set(\"Unknown\"),[4,this.Xf()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set(\"Offline\"),[2]}}))}))},t.prototype.$f=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Wf.stop()];case 1:return t.sent(),[4,this.qf.stop()];case 2:return t.sent(),this.Nf.length>0&&(Ae(\"RemoteStore\",\"Stopping write stream with \"+this.Nf.length+\" pending writes\"),this.Nf=[]),this.Zf(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return Ae(\"RemoteStore\",\"RemoteStore shutting down.\"),this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Uf.shutdown(),this.Mf.set(\"Unknown\"),[2]}}))}))},t.prototype.listen=function(t){this.Of.has(t.targetId)||(this.Of.set(t.targetId,t),this.Hf()?this.Yf():this.qf.fa()&&this.tl(t))},t.prototype.nl=function(t){xe(this.Of.has(t),\"unlisten called on target no currently watched: \"+t),this.Of.delete(t),this.qf.fa()&&this.il(t),0===this.Of.size&&(this.qf.fa()?this.qf.va():this.xf()&&this.Mf.set(\"Unknown\"))},t.prototype.ce=function(t){return this.Of.get(t)||null},t.prototype.he=function(t){return this.Jo.he(t)},t.prototype.tl=function(t){this.Ff.Mi(t.targetId),this.qf.watch(t)},t.prototype.il=function(t){this.Ff.Mi(t),this.qf.Sa(t)},t.prototype.Yf=function(){xe(this.Hf(),\"startWatchStream() called when shouldStartWatchStream() is false.\"),this.Ff=new ve(this),this.qf.start(),this.Mf.Sf()},t.prototype.Hf=function(){return this.xf()&&!this.qf.aa()&&this.Of.size>0},t.prototype.xf=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Zf=function(){this.Ff=null},t.prototype.Bf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return this.Of.forEach((function(e,n){t.tl(e)})),[2]}))}))},t.prototype.Qf=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&xe(!this.Hf(),\"Watch stream was stopped gracefully while still needed.\"),this.Zf(),this.Hf()?(this.Mf.Pf(t),this.Yf()):this.Mf.set(\"Unknown\"),[2]}))}))},t.prototype.Gf=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Mf.set(\"Online\"),t instanceof pe&&2===t.state&&t.cause?[2,this.el(t)]:(t instanceof le?this.Ff.Ji(t):t instanceof fe?this.Ff.ie(t):(xe(t instanceof pe,\"Expected watchChange to be an instance of WatchTargetChange\"),this.Ff.Xi(t)),e.isEqual(_.MIN)?[3,3]:[4,this.kf.oo()]);case 1:return n=r.sent(),e.k(n)>=0?[4,this.rl(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.rl=function(t){var e=this;xe(!t.isEqual(_.MIN),\"Can't raise event for unknown SnapshotVersion\");var n=this.Ff.ue(t);return n.wi.forEach((function(n,r){if(n.resumeToken.Lt()>0){var i=e.Of.get(r);i&&e.Of.set(r,i.ei(n.resumeToken,t))}})),n.mi.forEach((function(t){var n=e.Of.get(t);if(n){e.Of.set(t,n.ei(M.Mt,n.ni)),e.il(t);var r=new Gt(n.target,t,1,n.sequenceNumber);e.tl(r)}})),this.Jo.ho(n)},t.prototype.el=function(t){var e=this;xe(!!t.cause,\"Handling target error without a cause\");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.Of.has(t)?(this.Of.delete(t),this.Ff.removeTarget(t),[2,this.Jo.ul(t,n)]):[2]}))}))}))})),r},t.prototype.Xf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:return this.sl()?(t=this.Nf.length>0?this.Nf[this.Nf.length-1].batchId:-1,[4,this.kf.yo(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.Nf.length&&this.Wf.va(),[3,4]);case 2:return this.ol(e),[4,this.Xf()];case 3:n.sent(),n.label=4;case 4:return this.hl()&&this.cl(),[2]}}))}))},t.prototype.sl=function(){return this.xf()&&this.Nf.length<10},t.prototype.al=function(){return this.Nf.length},t.prototype.ol=function(t){xe(this.sl(),\"addToWritePipeline called when pipeline is full\"),this.Nf.push(t),this.Wf.fa()&&this.Wf.Ca&&this.Wf.Pa(t.mutations)},t.prototype.hl=function(){return this.xf()&&!this.Wf.aa()&&this.Nf.length>0},t.prototype.cl=function(){xe(this.hl(),\"startWriteStream() called when shouldStartWriteStream() is false.\"),this.Wf.start()},t.prototype.zf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.Wf.Na(),[2]}))}))},t.prototype.Jf=function(){var t=this;return this.kf.so(this.Wf.lastStreamToken).then((function(){for(var e=0,n=t.Nf;e<n.length;e++){var r=n[e];t.Wf.Pa(r.mutations)}})).catch(sn)},t.prototype.Va=function(t,e){var n=this;xe(this.Nf.length>0,\"Got result for empty write pipeline\");var r=this.Nf.shift(),i=qe.from(r,t,e,this.Wf.lastStreamToken);return this.Jo.fl(i).then((function(){return n.Xf()}))},t.prototype.Kf=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&xe(!this.hl(),\"Write stream was stopped gracefully while still needed.\"),t&&this.Nf.length>0?[2,(this.Wf.Ca?this.ll(t):this.dl(t)).then((function(){e.hl()&&e.cl()}))]:[2]}))}))},t.prototype.dl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return Kt(t.code)?(Ae(\"RemoteStore\",\"RemoteStore error before completed handshake; resetting stream token: \",this.Wf.lastStreamToken),this.Wf.lastStreamToken=M.Mt,[2,this.kf.so(M.Mt).catch(sn)]):[2]}))}))},t.prototype.ll=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){return Kt(i=t.code)&&i!==f.ABORTED?(e=this.Nf.shift(),this.Wf.da(),[2,this.Jo.vl(e.batchId,t).then((function(){return n.Xf()}))]):[2];var i}))}))},t.prototype.wl=function(){return new Lr(this.mf)},t.prototype.Lf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set(\"Unknown\"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.ml=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(Ae(\"RemoteStore\",\"RemoteStore restarting streams for new credential\"),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.$f()];case 3:e.sent(),this.Mf.set(\"Unknown\"),e.label=4;case 4:return[2]}}))}))},t}(),Ur=function(t){this.key=t},jr=function(t){this.key=t},Vr=function(){function t(t,e){this.query=t,this.bl=e,this.gl=null,this._i=!1,this.yl=re(),this.fi=re(),this._l=new se(t.Bn.bind(t))}return Object.defineProperty(t.prototype,\"Il\",{get:function(){return this.bl},enumerable:!0,configurable:!0}),t.prototype.Tl=function(t,e){var n=this,r=e?e.El:new ae,i=e?e._l:this._l,o=e?e.fi:this.fi,s=i,a=!1,u=this.query.Kn()&&i.size===this.query.limit?i.last():null,c=this.query.Jn()&&i.size===this.query.limit?i.first():null;if(t.ct((function(t,e){var h=i.get(t),l=e instanceof Nt?e:null;l&&(xe(t.isEqual(l.key),\"Mismatching keys found in document changes: \"+t+\" != \"+l.key),l=n.query.matches(l)?l:null);var f=!!h&&n.fi.has(h.key),p=!!l&&(l.nn||n.fi.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.Dl(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.query.Bn(l,u)>0||c&&n.query.Bn(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.Kn()||this.query.Jn())for(;s.size>this.query.limit;){var h=this.query.Kn()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return xe(!a||!e,\"View was refilled using docs that themselves needed refilling.\"),{_l:s,El:r,ic:a,fi:o}},t.prototype.Dl=function(t,e){return t.nn&&e.hasCommittedMutations&&!e.nn},t.prototype.Is=function(t,e,n){var r=this;xe(!t.ic,\"Cannot apply changes that need a refill\");var i=this._l;this._l=t._l,this.fi=t.fi;var o=t.El.ci();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(\"Unknown ChangeType: \"+t)}};return n(t)-n(e)}\n/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(t.type,e.type)||r.query.Bn(t.doc,e.doc)})),this.Rl(n);var s=e?this.Sl():[],a=0===this.yl.size&&this._i?1:0,u=a!==this.gl;return this.gl=a,0!==o.length||u?{snapshot:new ue(this.query,t._l,i,o,t.fi,0===a,u,!1),Al:s}:{Al:s}},t.prototype.Cl=function(t){return this._i&&\"Offline\"===t?(this._i=!1,this.Is({_l:this._l,El:new ae,fi:this.fi,ic:!1},!1)):{Al:[]}},t.prototype.Pl=function(t){return!this.bl.has(t)&&!!this._l.has(t)&&!this._l.get(t).nn},t.prototype.Rl=function(t){var e=this;t&&(t.Ii.forEach((function(t){return e.bl=e.bl.add(t)})),t.Ti.forEach((function(t){return xe(e.bl.has(t),\"Modified document \"+t+\" not found in view.\")})),t.Ei.forEach((function(t){return e.bl=e.bl.delete(t)})),this._i=t._i)},t.prototype.Sl=function(){var t=this;if(!this._i)return[];var e=this.yl;this.yl=re(),this._l.forEach((function(e){t.Pl(e.key)&&(t.yl=t.yl.add(e.key))}));var n=[];return e.forEach((function(e){t.yl.has(e)||n.push(new jr(e))})),this.yl.forEach((function(t){e.has(t)||n.push(new Ur(t))})),n},t.prototype.Vl=function(t){this.bl=t.ko,this.yl=re();var e=this.Tl(t.documents);return this.Is(e,!0)},t.prototype.kl=function(){return ue.vi(this.query,this._l,this.fi,0===this.gl)},t}(),qr=function(){function t(t,e,n,r){this.Or=t,this.Nl=e,this.updateFunction=n,this.xr=r,this.Ol=5,this.ca=new Mn(this.Or,\"retry_transaction\")}return t.prototype.run=function(){this.Fl()},t.prototype.Fl=function(){var t=this;this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=this.Nl.wl(),(e=this.Ul(t))&&e.then((function(e){n.Or.Qr((function(){return t.commit().then((function(){n.xr.resolve(e)})).catch((function(t){n.jl(t)}))}))})).catch((function(t){n.jl(t)})),[2]}))}))}))},t.prototype.Ul=function(t){try{var e=this.updateFunction(t);return!F(e)&&e.catch&&e.then?e:(this.xr.reject(Error(\"Transaction callback must return a Promise\")),null)}catch(t){return this.xr.reject(t),null}},t.prototype.jl=function(t){var e=this;this.Ol>0&&this.xl(t)?(this.Ol-=1,this.Or.Qr((function(){return e.Fl(),Promise.resolve()}))):this.xr.reject(t)},t.prototype.xl=function(t){if(\"FirebaseError\"===t.name){var e=t.code;return\"aborted\"===e||\"failed-precondition\"===e||!Kt(e)}return!1},t}(),Br=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Wr=function(t){this.key=t,this.Ll=!1},zr=function(){function t(t,e,n,r,i){this.kf=t,this.Nl=e,this.Ml=n,this.currentUser=r,this.ql=i,this.Bl=null,this.Ql=new Be((function(t){return t.canonicalId()})),this.Gl=new Map,this.Wl=[],this.zl=new N(S.F),this.Kl=new Map,this.Jl=new en,this.Hl={},this.Yl=new Map,this.Xl=An.Tc(),this.isPrimary=void 0,this.onlineState=\"Unknown\"}return Object.defineProperty(t.prototype,\"$l\",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){xe(null!==t,\"SyncEngine listener cannot be null\"),xe(null===this.Bl,\"SyncEngine already has a subscriber.\"),this.Bl=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl(\"listen()\"),(r=this.Ql.get(t))?(e=r.targetId,this.Ml.ph(e),n=r.view.kl(),[3,4]):[3,1];case 1:return[4,this.kf.Eo(t.qn())];case 2:return i=o.sent(),s=this.Ml.ph(i.targetId),e=i.targetId,[4,this.td(t,e,\"current\"===s)];case 3:n=o.sent(),this.isPrimary&&this.Nl.listen(i),o.label=4;case 4:return this.Bl.Ra([n]),[2,e]}}))}))},t.prototype.td=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return r=o.sent(),i=new Vr(t,r.ko),s=i.Tl(r.documents),a=he.yi(e,n&&\"Offline\"!==this.onlineState),xe(0===(u=i.Is(s,!0===this.isPrimary,a)).Al.length,\"View returned limbo docs before target ack from the server.\"),xe(!!u.snapshot,\"applyChanges for new view should always return a snapshot\"),c=new Br(t,e,i),this.Ql.set(t,c),this.Gl.has(e)?this.Gl.get(e).push(t):this.Gl.set(e,[t]),[2,u.snapshot]}}))}))},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.kf.Co(t.query,!0)];case 1:return e=r.sent(),n=t.view.Vl(e),this.isPrimary&&this.ed(t.targetId,n.Al),[2,n]}}))}))},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Zl(\"unlisten()\"),xe(!!(e=this.Ql.get(t)),\"Trying to unlisten on query not found:\"+t),(n=this.Gl.get(e.targetId)).length>1?(this.Gl.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),this.Ql.delete(t),[2]):this.isPrimary?(this.Ml.gh(e.targetId),this.Ml.lh(e.targetId)?[3,2]:[4,this.kf.Ao(e.targetId,!1).then((function(){r.Ml._h(e.targetId),r.Nl.nl(e.targetId),r.rd(e.targetId)})).catch(sn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.rd(e.targetId),[4,this.kf.Ao(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Zl(\"write()\"),[4,this.kf.zs(t)];case 1:return n=r.sent(),this.Ml.dh(n.batchId),this.ud(n.batchId,e),[4,this.sd(n.ds)];case 2:return r.sent(),[4,this.Nl.Xf()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new qr(t,this.Nl,e,n).run()},t.prototype.ho=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl(\"applyRemoteEvent()\"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.ho(t)];case 2:return e=r.sent(),t.wi.forEach((function(t,e){var r=n.Kl.get(e);r&&(xe(t.Ii.size+t.Ti.size+t.Ei.size<=1,\"Limbo resolution for single document contains multiple changes.\"),t.Ii.size>0?r.Ll=!0:t.Ti.size>0?xe(r.Ll,\"Received change for limbo target document without add.\"):t.Ei.size>0&&(xe(r.Ll,\"Received remove for limbo target document without add.\"),r.Ll=!1))})),[4,this.sd(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,sn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Cl=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.Zl(\"applyOnlineStateChange()\");var n=[];this.Ql.forEach((function(e,r){var i=r.view.Cl(t);xe(0===i.Al.length,\"OnlineState should not affect limbo documents.\"),i.snapshot&&n.push(i.snapshot)})),this.Bl.od(t),this.Bl.Ra(n),this.onlineState=t,this.isPrimary&&this.Ml.Eh(t)}},t.prototype.ul=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl(\"rejectListens()\"),this.Ml.Ih(t,\"rejected\",e),n=this.Kl.get(t),(r=n&&n.key)?(this.zl=this.zl.remove(r),this.Kl.delete(t),this.hd(),i=(i=new N(S.F)).ut(r,new kt(r,_.V())),s=re().add(r),a=new ce(_.MIN,new Map,new R(Le),i,s),[2,this.ho(a)]):[3,1];case 1:return[4,this.kf.Ao(t,!1).then((function(){return u.rd(t,e)})).catch(sn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.Nh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Zl(\"applyBatchState()\"),[4,this.kf.Js(t)];case 1:return null===(r=i.sent())?(Ae(\"SyncEngine\",\"Cannot apply mutation batch with id: \"+t),[2]):\"pending\"!==e?[3,3]:[4,this.Nl.Xf()];case 2:return i.sent(),[3,4];case 3:\"acknowledged\"===e||\"rejected\"===e?(this.ad(t,n||null),this.kf.Fo(t)):Pe(\"Unknown batchState: \"+e),i.label=4;case 4:return[4,this.sd(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.fl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl(\"applySuccessfulWrite()\"),e=t.batch.batchId,this.ad(e,null),this.fd(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.Ys(t)];case 2:return n=r.sent(),this.Ml.wh(e,\"acknowledged\"),[4,this.sd(n)];case 3:return r.sent(),[3,6];case 4:return[4,sn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vl=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl(\"rejectFailedWrite()\"),this.ad(t,e),this.fd(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.no(t)];case 2:return n=r.sent(),this.Ml.wh(t,\"rejected\",e),[4,this.sd(n)];case 3:return r.sent(),[3,6];case 4:return[4,sn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.ld=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Nl.xf()||Ae(\"SyncEngine\",\"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.\"),[4,this.kf.ro()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.Yl.get(e)||[]).push(t),this.Yl.set(e,n),[2])}}))}))},t.prototype.fd=function(t){(this.Yl.get(t)||[]).forEach((function(t){t.resolve()})),this.Yl.delete(t)},t.prototype.dd=function(t){this.Yl.forEach((function(e){e.forEach((function(e){e.reject(new p(f.CANCELLED,t))}))})),this.Yl.clear()},t.prototype.ud=function(t,e){var n=this.Hl[this.currentUser.i()];n||(n=new N(Le)),n=n.ut(t,e),this.Hl[this.currentUser.i()]=n},t.prototype.ad=function(t,e){var n=this.Hl[this.currentUser.i()];if(n){var r=n.get(t);r&&(xe(t===n.ot(),\"Mutation callbacks processed out-of-order?\"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Hl[this.currentUser.i()]=n}},t.prototype.rd=function(t,e){var n=this;void 0===e&&(e=null),this.Ml.gh(t),xe(this.Gl.has(t)&&0!==this.Gl.get(t).length,\"There are no queries mapped to target id \"+t);for(var r=0,i=this.Gl.get(t);r<i.length;r++){var o=i[r];this.Ql.delete(o),e&&this.Bl.vd(o,e)}if(this.Gl.delete(t),this.isPrimary){var s=this.Jl.as(t);this.Jl.hs(t),s.forEach((function(t){n.Jl.fs(t)||n.wd(t)}))}},t.prototype.wd=function(t){var e=this.zl.get(t);null!==e&&(this.Nl.nl(e),this.zl=this.zl.remove(t),this.Kl.delete(e),this.hd())},t.prototype.ed=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Ur?(this.Jl.es(i.key,t),this.md(i)):i instanceof jr?(Ae(\"SyncEngine\",\"Document no longer in limbo: \"+i.key),this.Jl.us(i.key,t),this.Jl.fs(i.key)||this.wd(i.key)):Pe(\"Unknown limbo change: \"+JSON.stringify(i))}},t.prototype.md=function(t){var e=t.key;this.zl.get(e)||(Ae(\"SyncEngine\",\"New document in limbo: \"+e),this.Wl.push(e),this.hd())},t.prototype.hd=function(){for(;this.Wl.length>0&&this.zl.size<this.ql;){var t=this.Wl.shift(),e=this.Xl.next();this.Kl.set(e,new Wr(t)),this.zl=this.zl.ut(t,e),this.Nl.listen(new Gt(Rt.Cn(t.path).qn(),e,2,ze.Nr))}},t.prototype.pd=function(){return this.zl},t.prototype.bd=function(){return this.Wl},t.prototype.sd=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.Ql.forEach((function(o,a){i.push(Promise.resolve().then((function(){var e=a.view.Tl(t);return e.ic?s.kf.Co(a.query,!1).then((function(t){var n=t.documents;return a.view.Tl(n,e)})):e})).then((function(t){var i=e&&e.wi.get(a.targetId),o=a.view.Is(t,!0===s.isPrimary,i);if(s.ed(a.targetId,o.Al),o.snapshot){s.isPrimary&&s.Ml.Ih(a.targetId,o.snapshot.fromCache?\"not-current\":\"current\"),n.push(o.snapshot);var u=We.Ar(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.Bl.Ra(n),[4,this.kf.bo(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.Zl=function(t){xe(null!==this.Bl,\"Trying to call \"+t+\" before calling subscribe().\")},t.prototype.ml=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.dd(\"'waitForPendingWrites' promise is rejected due to a user change.\"),[4,this.kf.Ms(t)]):[3,3];case 1:return n=r.sent(),this.Ml.Ms(t,n.Gs,n.Ws),[4,this.sd(n.Qs)];case 2:r.sent(),r.label=3;case 3:return[4,this.Nl.ml()];case 4:return r.sent(),[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Nl.pl(!0)]);case 1:return o.sent(),s=this.Ml.fh(),[4,this.gd(s.K())];case 2:for(e=o.sent(),n=0,r=e;n<r.length;n++)i=r[n],this.Nl.listen(i);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),this.Gl.forEach((function(t,e){u.Ml.yh(e)?s.push(e):a=a.then((function(){return u.rd(e),u.kf.Ao(e,!0)})),u.Nl.nl(e)})),[4,a]);case 4:return o.sent(),[4,this.gd(s)];case 5:return o.sent(),this.yd(),[4,this.Nl.pl(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.yd=function(){var t=this;this.Kl.forEach((function(e,n){t.Nl.nl(n)})),this.Jl.cs(),this.Kl=new Map,this.zl=new N(S.F)},t.prototype.gd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a,u,c,h,l,f,p,d;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(s=i[r],a=void 0,(u=this.Gl.get(s))&&0!==u.length?[4,this.kf.Ao(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.kf.Eo(u[0].qn())];case 3:a=o.sent(),c=0,h=u,o.label=4;case 4:return c<h.length?(l=h[c],xe(!!(f=this.Ql.get(l)),\"No query view found for \"+l),[4,this.nd(f)]):[3,7];case 5:(p=o.sent()).snapshot&&n.push(p.snapshot),o.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return xe(!0===this.isPrimary,\"A secondary tab should never have an active target without an active query.\"),[4,this.kf.xo(s)];case 9:return xe(!!(d=o.sent()),\"Target for id \"+s+\" not found\"),[4,this.kf.Eo(d)];case 10:return a=o.sent(),[4,this.td(this._d(d),s,!1)];case 11:o.sent(),o.label=12;case 12:e.push(a),o.label=13;case 13:return r++,[3,1];case 14:return this.Bl.Ra(n),[2,e]}}))}))},t.prototype._d=function(t){return new Rt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,\"F\",t.startAt,t.endAt)},t.prototype.Oo=function(){return this.kf.Oo()},t.prototype.Oh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return Ae(\"SyncEngine\",\"Ignoring unexpected query state notification.\"),[2];if(!this.Gl.has(t))return[3,7];switch(e){case\"current\":case\"not-current\":return[3,1];case\"rejected\":return[3,4]}return[3,6];case 1:return[4,this.kf.Lo()];case 2:return r=o.sent(),i=ce.gi(t,\"current\"===e),[4,this.sd(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.kf.Ao(t,!0)];case 5:return o.sent(),this.rd(t,n),[3,7];case 6:Pe(\"Unexpected target state: \"+e),o.label=7;case 7:return[2]}}))}))},t.prototype.Fh=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,h,l,f=this;return o.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(l=r[n],xe(!this.Gl.has(l),\"Trying to add an already active target\"),[4,this.kf.xo(l)]):[3,6];case 2:return xe(!!(i=p.sent()),\"Query data for active target \"+l+\" not found\"),[4,this.kf.Eo(i)];case 3:return s=p.sent(),[4,this.td(this._d(i),s.targetId,!1)];case 4:p.sent(),this.Nl.listen(s),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return u.Gl.has(t)?[4,u.kf.Ao(t,!1).then((function(){f.Nl.nl(t),f.rd(t)})).catch(sn)]:[2,\"continue\"];case 1:return e.sent(),[2]}}))},u=this,c=0,h=e,p.label=7;case 7:return c<h.length?(l=h[c],[5,a(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.kf.jo(!0),this.Nl.enableNetwork()},t.prototype.disableNetwork=function(){return this.kf.jo(!1),this.Nl.disableNetwork()},t.prototype.he=function(t){var e=this.Kl.get(t);if(e&&e.Ll)return re().add(e.key);var n=re(),r=this.Gl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.Ql.get(s);xe(!!a,\"No query view found for \"+s),n=n.Ft(a.view.Il)}return n},t}(),Gr=function(){this.Id=null,this.targetId=0,this.listeners=[]},Hr=function(){function t(t){this.Jo=t,this.Td=new Be((function(t){return t.canonicalId()})),this.onlineState=\"Unknown\",this.Ed=new Set,this.Jo.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.Td.get(e);return r||(n=!0,r=new Gr,this.Td.set(e,r)),r.listeners.push(t),xe(!t.Cl(this.onlineState),\"applyOnlineStateChange() shouldn't raise an event for brand-new listeners.\"),r.Id&&t.Dd(r.Id)&&this.Rd(),n?this.Jo.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){return e=t.query,n=!1,(r=this.Td.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.Td.delete(e),[2,this.Jo.nl(e)]):[2]}))}))},t.prototype.Ra=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.Td.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].Dd(i)&&(e=!0);s.Id=i}}e&&this.Rd()},t.prototype.vd=function(t,e){var n=this.Td.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.Td.delete(t)},t.prototype.od=function(t){this.onlineState=t;var e=!1;this.Td.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Cl(t)&&(e=!0)})),e&&this.Rd()},t.prototype.Sd=function(t){this.Ed.add(t),t.next()},t.prototype.Ad=function(t){this.Ed.delete(t)},t.prototype.Rd=function(){this.Ed.forEach((function(t){t.next()}))},t}(),Kr=function(){function t(t,e,n){this.query=t,this.Cd=e,this.Pd=!1,this.Vd=null,this.onlineState=\"Unknown\",this.options=n||{}}return t.prototype.Dd=function(t){if(xe(t.docChanges.length>0||t.li,\"We got a new snapshot with no changes?\"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ue(t.query,t.docs,t.ai,e,t.fi,t.fromCache,t.li,!0)}var o=!1;return this.Pd?this.kd(t)&&(this.Cd.next(t),o=!0):this.Nd(t,this.onlineState)&&(this.Od(t),o=!0),this.Vd=t,o},t.prototype.onError=function(t){this.Cd.error(t)},t.prototype.Cl=function(t){this.onlineState=t;var e=!1;return this.Vd&&!this.Pd&&this.Nd(this.Vd,t)&&(this.Od(this.Vd),e=!0),e},t.prototype.Nd=function(t,e){if(xe(!this.Pd,\"Determining whether to raise first event but already had first event\"),!t.fromCache)return!0;var n=\"Offline\"!==e;return this.options.Fd&&n?(xe(t.fromCache,\"Waiting for sync, but snapshot is not from cache\"),!1):!t.docs.M()||\"Offline\"===e},t.prototype.kd=function(t){if(t.docChanges.length>0)return!0;var e=this.Vd&&this.Vd.hasPendingWrites!==t.hasPendingWrites;return!(!t.li&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Od=function(t){xe(!this.Pd,\"Trying to raise initial events for second time\"),t=ue.vi(t.query,t.docs,t.fi,t.fromCache),this.Pd=!0,this.Cd.next(t)},t}(),Qr=function(){function t(t,e,n,r){this.platform=t,this.Ud=e,this.credentials=n,this.Or=r,this.clientId=De.pr()}return t.prototype.start=function(t,e){var n=this;this.jd();var r=new Ge,i=new Ge,o=!1;return this.credentials.v((function(s){o?n.Or.Qr((function(){return n.ml(s)})):(o=!0,n.xd(t,e,s,i).then((function(){return n.Ld(s)})).then(r.resolve,r.reject))})),this.Or.Qr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.enableNetwork()}))},t.prototype.xd=function(t,e,n,r){return o.__awaiter(this,void 0,void 0,(function(){var i;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.initialize(this.Or,this.Ud,this.platform,this.clientId,n,e)];case 1:return o.sent(),this.persistence=t.Jc(),this.Md=t.Kc(),this.Ml=t.Hc(),r.resolve(),[3,3];case 2:if(i=o.sent(),r.reject(i),!this.qd(i))throw i;return console.warn(\"Error enabling offline persistence. Falling back to persistence disabled: \"+i),[2,this.xd(new Ln,{zc:!1},n,r)];case 3:return[2]}}))}))},t.prototype.qd=function(t){return\"FirebaseError\"===t.name?t.code===f.FAILED_PRECONDITION||t.code===f.UNIMPLEMENTED:!(\"undefined\"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.jd=function(){if(this.Or.Yr)throw new p(f.FAILED_PRECONDITION,\"The client has already been terminated.\")},t.prototype.Ld=function(t){var e=this;return Ae(\"FirestoreClient\",\"Initializing. user=\",t.uid),this.platform.Bd(this.Ud).then((function(n){return o.__awaiter(e,void 0,void 0,(function(){var e,r,i,s,a,u,c=this;return o.__generator(this,(function(h){switch(h.label){case 0:return e=new bn,this.kf=new on(this.persistence,e,t),[4,this.kf.start()];case 1:return h.sent(),r=this.platform.Qd(),i=this.platform.Gd(this.Ud.ae),s=new Vn(this.Or,n,this.credentials,i),a=function(t){return c.Jo.Cl(t,0)},u=function(t){return c.Jo.Cl(t,1)},this.Nl=new Fr(this.kf,s,this.Or,a,r),this.Jo=new zr(this.kf,this.Nl,this.Ml,t,100),this.Ml.Ho=u,this.Nl.Jo=this.Jo,this.Ml.Jo=this.Jo,this.Wd=new Hr(this.Jo),[4,this.Ml.start()];case 2:return h.sent(),[4,this.Nl.start()];case 3:return h.sent(),[4,this.persistence.jc((function(t){return o.__awaiter(c,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Jo.pl(t)];case 1:return e.sent(),t&&!this.Md.qu?this.Md.start(this.kf):t||this.Md.stop(),[2]}}))}))}))];case 4:return h.sent(),[4,this.persistence.xc((function(){return o.__awaiter(c,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return h.sent(),[2]}}))}))}))},t.prototype.ml=function(t){return this.Or.ru(),Ae(\"FirestoreClient\",\"Credential Changed. Current user: \"+t.uid),this.Jo.ml(t)},t.prototype.disableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Or.nu((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Md.stop(),[4,this.Nl.shutdown()];case 1:return t.sent(),[4,this.Ml.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.m(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.jd();var e=new Ge;return this.Or.Qr((function(){return t.Jo.ld(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.jd();var i=new Kr(t,e,n);return this.Or.Qr((function(){return r.Wd.listen(i)})),i},t.prototype.nl=function(t){var e=this;this.zd||this.Or.Qr((function(){return e.Wd.nl(t)}))},t.prototype.Kd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return e.kf.Io(t)})).then((function(t){if(t instanceof Nt)return t;if(t instanceof kt)return null;throw new p(f.UNAVAILABLE,\"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\")}))},t.prototype.Jd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return e=i.sent(),n=new Vr(t,e.ko),r=n.Tl(e.documents),[2,n.Is(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.jd();var n=new Ge;return this.Or.Qr((function(){return e.Jo.write(t,n)})),n.promise},t.prototype.ae=function(){return this.Ud.ae},t.prototype.Sd=function(t){var e=this;this.jd(),this.Or.Qr((function(){return e.Wd.Sd(t),Promise.resolve()}))},t.prototype.Ad=function(t){this.zd||this.Wd.Ad(t)},Object.defineProperty(t.prototype,\"zd\",{get:function(){return this.Or.Yr},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.jd();var n=new Ge;return this.Or.Qr((function(){return e.Jo.runTransaction(e.Or,t,n),Promise.resolve()})),n.promise},t}(),Yr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Hd(this.observer.next,t)},t.prototype.error=function(t){this.Hd(this.observer.error,t)},t.prototype.Yd=function(){this.muted=!0},t.prototype.Hd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction $r(t){return function(t,e){if(\"object\"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&\"function\"==typeof n[o])return!0}return!1}\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */(t,[\"next\",\"error\",\"complete\"])}var Jr=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.Xd=n,this.converter=r}return t.prototype.$d=function(t){switch(W(t)){case 0:return null;case 1:return t.booleanValue;case 2:return J(t.integerValue||t.doubleValue);case 3:return this.Zd(t.timestampValue);case 4:return this.tv(t);case 5:return t.stringValue;case 6:return new lr(X(t.bytesValue));case 7:return this.nv(t.referenceValue);case 8:return new Er(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.iv(t.arrayValue);case 10:return this.ev(t.mapValue);default:throw Pe(\"Invalid value type: \"+JSON.stringify(t))}},t.prototype.ev=function(t){var e=this,n={};return D(t.fields||{},(function(t,r){n[t]=e.$d(r)})),n},t.prototype.iv=function(t){var e=this;return(t.values||[]).map((function(t){return e.$d(t)}))},t.prototype.tv=function(t){switch(this.Xd){case\"previous\":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return V(n)?t(n):n}(t);return null==e?null:this.$d(e);case\"estimate\":return this.Zd(q(t));default:return null}},t.prototype.Zd=function(t){var e=$(t),n=new b(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.nv=function(t){var e=I.H(t);xe(Te(e),\"ReferenceValue is not valid \"+t);var n=new je(e.get(1),e.get(3)),r=new S(e.j(5));return n.isEqual(this.firestore.rv)||Oe(\"Document \"+r+\" contains a document reference within a different database (\"+n.projectId+\"/\"+n.database+\") which is not supported. It will be treated as a reference in the current database (\"+this.firestore.rv.projectId+\"/\"+this.firestore.rv.database+\") instead.\"),new ri(r,this.firestore,this.converter)},t}(),Xr=Xe.Nu,Zr=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new p(f.INVALID_ARGUMENT,\"Can't provide ssl option if host option is not set\");this.host=\"firestore.googleapis.com\",this.ssl=!0}else Qn(\"settings\",\"non-empty string\",\"host\",t.host),this.host=t.host,Yn(\"settings\",\"boolean\",\"ssl\",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(rr(\"settings\",t,[\"host\",\"ssl\",\"credentials\",\"timestampsInSnapshots\",\"cacheSizeBytes\",\"experimentalForceLongPolling\"]),Yn(\"settings\",\"object\",\"credentials\",t.credentials),this.credentials=t.credentials,Yn(\"settings\",\"boolean\",\"timestampsInSnapshots\",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?Oe(\"\\n  The timestampsInSnapshots setting now defaults to true and you no\\n  longer need to explicitly set it. In a future release, the setting\\n  will be removed entirely and so it is recommended that you remove it\\n  from your firestore.settings() call now.\"):!1===t.timestampsInSnapshots&&Oe(\"\\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\\n  YOUR CODE.\\n\\n  To hide this warning, stop using the timestampsInSnapshots setting in your\\n  firestore.settings({ ... }) call.\\n\\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\\n  read back as Firebase Timestamp objects instead of as system Date objects.\\n  So you will also need to update code expecting a Date to instead expect a\\n  Timestamp. For example:\\n\\n  // Old:\\n  const date = snapshot.get('created_at');\\n  // New:\\n  const timestamp = snapshot.get('created_at'); const date =\\n  timestamp.toDate();\\n\\n  Please audit all existing usages of Date when you enable the new\\n  behavior.\"),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,Yn(\"settings\",\"number\",\"cacheSizeBytes\",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Xe.Fu;else{if(t.cacheSizeBytes!==Xr&&t.cacheSizeBytes<Xe.Ou)throw new p(f.INVALID_ARGUMENT,\"cacheSizeBytes must be at least \"+Xe.Ou);this.cacheSizeBytes=t.cacheSizeBytes}Yn(\"settings\",\"boolean\",\"experimentalForceLongPolling\",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),ti=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new Ln),this.uv=null,this.sv=new Ke,this.INTERNAL={delete:function(){return o.__awaiter(i,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.ov(),[4,this.hv.terminate()];case 1:return t.sent(),[2]}}))}))}},\"object\"==typeof e.options){var s=e;this.uv=s,this.rv=t.cv(s),this.av=s.name,this.fv=new g(n)}else{var a=e;if(!a.projectId)throw new p(f.INVALID_ARGUMENT,\"Must provide projectId\");this.rv=new je(a.projectId,a.database),this.av=\"[DEFAULT]\",this.fv=new v}this.lv=r,this.dv=new Zr({}),this.vv=this.wv(this.rv)}return t.prototype.settings=function(t){if(Bn(\"Firestore.settings\",arguments,1),Hn(\"Firestore.settings\",\"object\",1,t),gi(t,\"persistence\"))throw new p(f.INVALID_ARGUMENT,'\"persistence\" is now specified with a separate call to firestore.enablePersistence().');var e=new Zr(t);if(this.hv&&!this.dv.isEqual(e))throw new p(f.FAILED_PRECONDITION,\"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.\");this.dv=e,void 0!==e.credentials&&(this.fv=w(e.credentials))},t.prototype.enableNetwork=function(){return this.ov(),this.hv.enableNetwork()},t.prototype.disableNetwork=function(){return this.ov(),this.hv.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.hv)throw new p(f.FAILED_PRECONDITION,\"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.\");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&Oe(\"The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'.\"),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.mv(this.lv,{zc:!0,cacheSizeBytes:this.dv.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){if(void 0!==this.hv&&!this.hv.zd)throw new p(f.FAILED_PRECONDITION,\"Persistence cannot be cleared after this Firestore instance is initialized.\");return t=new Ge,this.sv.Xr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.pv(),[4,this.lv.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),[2,t.promise]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance(\"firestore\"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,\"bv\",{get:function(){return this.ov(),this.hv.zd},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ov(),this.hv.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.ov(),$r(t))return this.gv(t);Hn(\"Firestore.onSnapshotsInSync\",\"function\",1,t);var e={next:t};return this.gv(e)},t.prototype.gv=function(t){var e=this,n=new Yr({next:function(){t.next&&t.next()},error:function(t){throw Pe(\"Uncaught Error in onSnapshotsInSync\")}});return this.hv.Sd(n),function(){n.Yd(),e.hv.Ad(n)}},t.prototype.ov=function(){return this.hv||this.mv(new Ln,{zc:!1}),this.hv},t.prototype.pv=function(){return new Ue(this.rv,this.av,this.dv.host,this.dv.ssl,this.dv.forceLongPolling)},t.prototype.mv=function(t,e){xe(!!this.dv.host,\"FirestoreSettings.host is not set\"),xe(!this.hv,\"configureClient() called multiple times\");var n=this.pv();return this.hv=new Qr(Ce.xt(),n,this.fv,this.sv),this.hv.start(t,e)},t.prototype.wv=function(t){var e=new Ie(t,{de:Ce.xt().de});return new Ar(e,(function(e){if(e instanceof ri){var n=t,r=e.firestore.rv;if(!r.isEqual(n))throw new p(f.INVALID_ARGUMENT,\"Document reference is for database \"+r.projectId+\"/\"+r.database+\" but should be for database \"+n.projectId+\"/\"+n.database);return new kr(t,e.yv)}return e}))},t.cv=function(t){if(!gi(t.options,\"projectId\"))throw new p(f.INVALID_ARGUMENT,'\"projectId\" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||\"string\"!=typeof e)throw new p(f.INVALID_ARGUMENT,\"projectId must be a string in FirebaseApp.options\");return new je(e)},Object.defineProperty(t.prototype,\"app\",{get:function(){if(!this.uv)throw new p(f.FAILED_PRECONDITION,\"Firestore was not initialized using the Firebase SDK. 'app' is not available\");return this.uv},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return Bn(\"Firestore.collection\",arguments,1),Hn(\"Firestore.collection\",\"non-empty string\",1,t),this.ov(),new ci(I.H(t),this)},t.prototype.doc=function(t){return Bn(\"Firestore.doc\",arguments,1),Hn(\"Firestore.doc\",\"non-empty string\",1,t),this.ov(),ri._v(I.H(t),this)},t.prototype.collectionGroup=function(t){if(Bn(\"Firestore.collectionGroup\",arguments,1),Hn(\"Firestore.collectionGroup\",\"non-empty string\",1,t),t.indexOf(\"/\")>=0)throw new p(f.INVALID_ARGUMENT,\"Invalid collection ID '\"+t+\"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.\");return this.ov(),new ai(new Rt(I.Y,t),this)},t.prototype.runTransaction=function(t){var e=this;return Bn(\"Firestore.runTransaction\",arguments,1),Hn(\"Firestore.runTransaction\",\"function\",1,t),this.ov().transaction((function(n){return t(new ei(e,n))}))},t.prototype.batch=function(){return this.ov(),new ni(this)},Object.defineProperty(t,\"logLevel\",{get:function(){switch(Ne()){case s.LogLevel.DEBUG:return\"debug\";case s.LogLevel.SILENT:return\"silent\";default:return\"error\"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(Bn(\"Firestore.setLogLevel\",arguments,1),Hn(\"Firestore.setLogLevel\",\"non-empty string\",1,t),t){case\"debug\":ke(s.LogLevel.DEBUG);break;case\"error\":ke(s.LogLevel.ERROR);break;case\"silent\":ke(s.LogLevel.SILENT);break;default:throw new p(f.INVALID_ARGUMENT,\"Invalid log level: \"+t)}},t.prototype.Iv=function(){return this.dv.timestampsInSnapshots},t}(),ei=function(){function t(t,e){this.Tv=t,this.Ev=e}return t.prototype.get=function(t){var e=this;Bn(\"Transaction.get\",arguments,1);var n=pi(\"Transaction.get\",t,this.Tv);return this.Ev.lookup([n.yv]).then((function(t){if(!t||1!==t.length)return Pe(\"Mismatch in docs returned from document lookup.\");var r=t[0];if(r instanceof kt)return new oi(e.Tv,n.yv,null,!1,!1,n.Dv);if(r instanceof Nt)return new oi(e.Tv,n.yv,r,!1,!1,n.Dv);throw Pe(\"BatchGetDocumentsRequest returned unexpected document type: \"+r.constructor.name)}))},t.prototype.set=function(t,e,n){zn(\"Transaction.set\",arguments,2,3);var r=pi(\"Transaction.set\",t,this.Tv);n=hi(\"Transaction.set\",n);var i=vi(r.Dv,e,\"Transaction.set\"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.Tv.vv.uf(s,o,n.mergeFields):this.Tv.vv.ef(s,o);return this.Ev.set(r.yv,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return\"string\"==typeof e||e instanceof pr?(Wn(\"Transaction.update\",arguments,3),r=pi(\"Transaction.update\",t,this.Tv),i=this.Tv.vv.af(\"Transaction.update\",e,n,o)):(Bn(\"Transaction.update\",arguments,2),r=pi(\"Transaction.update\",t,this.Tv),i=this.Tv.vv.sf(\"Transaction.update\",e)),this.Ev.update(r.yv,i),this},t.prototype.delete=function(t){Bn(\"Transaction.delete\",arguments,1);var e=pi(\"Transaction.delete\",t,this.Tv);return this.Ev.delete(e.yv),this},t}(),ni=function(){function t(t){this.Tv=t,this.Rv=[],this.Sv=!1}return t.prototype.set=function(t,e,n){zn(\"WriteBatch.set\",arguments,2,3),this.Av();var r=pi(\"WriteBatch.set\",t,this.Tv);n=hi(\"WriteBatch.set\",n);var i=vi(r.Dv,e,\"WriteBatch.set\"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.Tv.vv.uf(s,o,n.mergeFields):this.Tv.vv.ef(s,o);return this.Rv=this.Rv.concat(a.Ka(r.yv,mt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Av(),\"string\"==typeof e||e instanceof pr?(Wn(\"WriteBatch.update\",arguments,3),r=pi(\"WriteBatch.update\",t,this.Tv),i=this.Tv.vv.af(\"WriteBatch.update\",e,n,o)):(Bn(\"WriteBatch.update\",arguments,2),r=pi(\"WriteBatch.update\",t,this.Tv),i=this.Tv.vv.sf(\"WriteBatch.update\",e)),this.Rv=this.Rv.concat(i.Ka(r.yv,mt.exists(!0))),this},t.prototype.delete=function(t){Bn(\"WriteBatch.delete\",arguments,1),this.Av();var e=pi(\"WriteBatch.delete\",t,this.Tv);return this.Rv=this.Rv.concat(new Et(e.yv,mt.NONE)),this},t.prototype.commit=function(){return this.Av(),this.Sv=!0,this.Rv.length>0?this.Tv.ov().write(this.Rv):Promise.resolve()},t.prototype.Av=function(){if(this.Sv)throw new p(f.FAILED_PRECONDITION,\"A write batch can no longer be used after commit() has been called.\")},t}(),ri=function(){function t(t,e,n){this.yv=t,this.firestore=e,this.Dv=n,this.hv=this.firestore.ov()}return t._v=function(e,n,r){if(e.length%2!=0)throw new p(f.INVALID_ARGUMENT,\"Invalid document reference. Document references must have an even number of segments, but \"+e.J()+\" has \"+e.length);return new t(new S(e),n,r)},Object.defineProperty(t.prototype,\"id\",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parent\",{get:function(){return new ci(this.yv.path.L(),this.firestore,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return this.yv.path.J()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Bn(\"DocumentReference.collection\",arguments,1),Hn(\"DocumentReference.collection\",\"non-empty string\",1,t),!t)throw new p(f.INVALID_ARGUMENT,\"Must provide a non-empty collection name to collection()\");var e=I.H(t);return new ci(this.yv.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ir(\"isEqual\",\"DocumentReference\",1,e);return this.firestore===e.firestore&&this.yv.isEqual(e.yv)&&this.Dv===e.Dv},t.prototype.set=function(t,e){zn(\"DocumentReference.set\",arguments,1,2),e=hi(\"DocumentReference.set\",e);var n=vi(this.Dv,t,\"DocumentReference.set\"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.vv.uf(i,r,e.mergeFields):this.firestore.vv.ef(i,r);return this.hv.write(o.Ka(this.yv,mt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return\"string\"==typeof t||t instanceof pr?(Wn(\"DocumentReference.update\",arguments,2),n=this.firestore.vv.af(\"DocumentReference.update\",t,e,r)):(Bn(\"DocumentReference.update\",arguments,1),n=this.firestore.vv.sf(\"DocumentReference.update\",t)),this.hv.write(n.Ka(this.yv,mt.exists(!0)))},t.prototype.delete=function(){return Bn(\"DocumentReference.delete\",arguments,0),this.hv.write([new Et(this.yv,mt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zn(\"DocumentReference.onSnapshot\",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;\"object\"!=typeof t[i]||$r(t[i])||(rr(\"DocumentReference.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),Yn(\"DocumentReference.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return $r(t[i])?n=t[i]:(Hn(\"DocumentReference.onSnapshot\",\"function\",i,t[i]),Kn(\"DocumentReference.onSnapshot\",\"function\",i+1,t[i+1]),Kn(\"DocumentReference.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Cv(o,n)},t.prototype.Cv=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new Yr({next:function(t){if(e.next){xe(t.docs.size<=1,\"Too many documents returned on a document query\");var r=t.docs.get(n.yv);e.next(new oi(n.firestore,n.yv,r,t.fromCache,t.hasPendingWrites,n.Dv))}},error:r}),o=this.hv.listen(Rt.Cn(this.yv.path),i,t);return function(){i.Yd(),n.hv.nl(o)}},t.prototype.get=function(t){var e=this;return zn(\"DocumentReference.get\",arguments,0,1),fi(\"DocumentReference.get\",t),new Promise((function(n,r){t&&\"cache\"===t.source?e.firestore.ov().Kd(e.yv).then((function(t){n(new oi(e.firestore,e.yv,t,!0,t instanceof Nt&&t.nn,e.Dv))}),r):e.Pv(n,r,t)}))},t.prototype.Pv=function(t,e,n){var r=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new p(f.UNAVAILABLE,\"Failed to get document because the client is offline.\")):i.exists&&i.metadata.fromCache&&n&&\"server\"===n.source?e(new p(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.yv,this.firestore,e)},t}(),ii=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),oi=function(){function t(t,e,n,r,i,o){this.Tv=t,this.yv=e,this.Vv=n,this.kv=r,this.Nv=i,this.Dv=o}return t.prototype.data=function(t){if(zn(\"DocumentSnapshot.data\",arguments,0,1),t=li(\"DocumentSnapshot.data\",t),this.Vv){if(this.Dv){var e=new si(this.Tv,this.yv,this.Vv,this.kv,this.Nv);return this.Dv.fromFirestore(e,t)}var n=new Jr(this.Tv,this.Tv.Iv(),t.serverTimestamps,void 0);return n.$d(this.Vv.yn())}},t.prototype.get=function(t,e){if(zn(\"DocumentSnapshot.get\",arguments,1,2),e=li(\"DocumentSnapshot.get\",e),this.Vv){var n=this.Vv.data().field(Pr(\"DocumentSnapshot.get\",t));if(null!==n){var r=new Jr(this.Tv,this.Tv.Iv(),e.serverTimestamps,this.Dv);return r.$d(n)}}},Object.defineProperty(t.prototype,\"id\",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ref\",{get:function(){return new ri(this.yv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"exists\",{get:function(){return null!==this.Vv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"metadata\",{get:function(){return new ii(this.Nv,this.kv)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw ir(\"isEqual\",\"DocumentSnapshot\",1,e);return this.Tv===e.Tv&&this.kv===e.kv&&this.yv.isEqual(e.yv)&&(null===this.Vv?null===e.Vv:this.Vv.isEqual(e.Vv))&&this.Dv===e.Dv},t}(),si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return xe(void 0!==n,\"Document in a QueryDocumentSnapshot should exist\"),n},e}(oi),ai=function(){function t(t,e,n){this.Ov=t,this.firestore=e,this.Dv=n}return t.prototype.where=function(e,n,r){Bn(\"Query.where\",arguments,3),nr(\"Query.where\",3,r);var i,o=[\"<\",\"<=\",\"==\",\">=\",\">\",\"array-contains\",\"in\",\"array-contains-any\"];Xn(\"Query.where\",o,2,n);var s=Pr(\"Query.where\",e),a=xt.H(n);if(s.$()){if(a===xt.ARRAY_CONTAINS||a===xt.ARRAY_CONTAINS_ANY)throw new p(f.INVALID_ARGUMENT,\"Invalid Query. You can't perform '\"+a.toString()+\"' queries on FieldPath.documentId().\");if(a===xt.IN){this.Fv(r,a);for(var u=[],c=0,h=r;c<h.length;c++){var l=h[c];u.push(this.Uv(l))}i={arrayValue:{values:u}}}else i=this.Uv(r)}else a!==xt.IN&&a!==xt.ARRAY_CONTAINS_ANY||this.Fv(r,a),i=this.firestore.vv.ff(\"Query.where\",r,a===xt.IN);var d=Dt.create(s,a,i);return this.jv(d),new t(this.Ov.kn(d),this.firestore,this.Dv)},t.prototype.orderBy=function(e,n){var r;if(zn(\"Query.orderBy\",arguments,1,2),Kn(\"Query.orderBy\",\"non-empty string\",2,n),void 0===n||\"asc\"===n)r=Vt.ASCENDING;else{if(\"desc\"!==n)throw new p(f.INVALID_ARGUMENT,\"Function Query.orderBy() has unknown direction '\"+n+\"', expected 'asc' or 'desc'.\");r=Vt.DESCENDING}if(null!==this.Ov.startAt)throw new p(f.INVALID_ARGUMENT,\"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().\");if(null!==this.Ov.endAt)throw new p(f.INVALID_ARGUMENT,\"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().\");var i=Pr(\"Query.orderBy\",e),o=new Bt(i,r);return this.xv(o),new t(this.Ov.On(o),this.firestore,this.Dv)},t.prototype.limit=function(e){return Bn(\"Query.limit\",arguments,1),Hn(\"Query.limit\",\"number\",1,e),or(\"Query.limit\",1,e),new t(this.Ov.Fn(e),this.firestore,this.Dv)},t.prototype.limitToLast=function(e){return Bn(\"Query.limitToLast\",arguments,1),Hn(\"Query.limitToLast\",\"number\",1,e),or(\"Query.limitToLast\",1,e),new t(this.Ov.Un(e),this.firestore,this.Dv)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Wn(\"Query.startAt\",arguments,1);var i=this.Lv(\"Query.startAt\",e,n,!0);return new t(this.Ov.jn(i),this.firestore,this.Dv)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Wn(\"Query.startAfter\",arguments,1);var i=this.Lv(\"Query.startAfter\",e,n,!1);return new t(this.Ov.jn(i),this.firestore,this.Dv)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Wn(\"Query.endBefore\",arguments,1);var i=this.Lv(\"Query.endBefore\",e,n,!0);return new t(this.Ov.xn(i),this.firestore,this.Dv)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Wn(\"Query.endAt\",arguments,1);var i=this.Lv(\"Query.endAt\",e,n,!1);return new t(this.Ov.xn(i),this.firestore,this.Dv)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ir(\"isEqual\",\"Query\",1,e);return this.firestore===e.firestore&&this.Ov.isEqual(e.Ov)},t.prototype.withConverter=function(e){return new t(this.Ov,this.firestore,e)},t.prototype.Lv=function(t,e,n,r){if(nr(t,1,e),e instanceof oi){if(n.length>0)throw new p(f.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"().\");var i=e;if(!i.exists)throw new p(f.NOT_FOUND,\"Can't use a DocumentSnapshot that doesn't exist for \"+t+\"().\");return this.Mv(i.Vv,r)}var o=[e].concat(n);return this.qv(t,o,r)},t.prototype.Mv=function(t,e){for(var n=[],r=0,i=this.Ov.orderBy;r<i.length;r++){var o=i[r];if(o.field.$())n.push(Z(this.firestore.rv,t.key));else{var s=t.field(o.field);if(V(s))throw new p(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field \"'+o.field+'\" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.J();throw new p(f.INVALID_ARGUMENT,\"Invalid query. You are trying to start or end a query using a document for which the field '\"+a+\"' (used as the orderBy) does not exist.\")}n.push(s)}}return new qt(n,e)},t.prototype.qv=function(t,e,n){var r=this.Ov.En;if(e.length>r.length)throw new p(f.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses\");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.$()){if(\"string\"!=typeof s)throw new p(f.INVALID_ARGUMENT,\"Invalid query. Expected a string for document ID in \"+t+\"(), but got a \"+typeof s);if(!this.Ov.Yn()&&-1!==s.indexOf(\"/\"))throw new p(f.INVALID_ARGUMENT,\"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to \"+t+\"() must be a plain document ID, but '\"+s+\"' contains a slash.\");var a=this.Ov.path.child(I.H(s));if(!S.nt(a))throw new p(f.INVALID_ARGUMENT,\"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to \"+t+\"() must result in a valid document path, but '\"+a+\"' is not because it contains an odd number of segments.\");var u=new S(a);i.push(Z(this.firestore.rv,u))}else{var c=this.firestore.vv.ff(t,s);i.push(c)}}return new qt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zn(\"Query.onSnapshot\",arguments,1,4);var n,r={},i=0;return\"object\"!=typeof t[i]||$r(t[i])||(rr(\"Query.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),Yn(\"Query.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++),$r(t[i])?n=t[i]:(Hn(\"Query.onSnapshot\",\"function\",i,t[i]),Kn(\"Query.onSnapshot\",\"function\",i+1,t[i+1]),Kn(\"Query.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Bv(this.Ov),this.Cv(r,n)},t.prototype.Cv=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new Yr({next:function(t){e.next&&e.next(new ui(n.firestore,n.Ov,t,n.Dv))},error:r}),o=this.firestore.ov(),s=o.listen(this.Ov,i,t);return function(){i.Yd(),o.nl(s)}},t.prototype.Bv=function(t){if(t.Jn()&&0===t.En.length)throw new p(f.UNIMPLEMENTED,\"limitToLast() queries require specifying at least one orderBy() clause\")},t.prototype.get=function(t){var e=this;return zn(\"Query.get\",arguments,0,1),fi(\"Query.get\",t),this.Bv(this.Ov),new Promise((function(n,r){t&&\"cache\"===t.source?e.firestore.ov().Jd(e.Ov).then((function(t){n(new ui(e.firestore,e.Ov,t,e.Dv))}),r):e.Pv(n,r,t)}))},t.prototype.Pv=function(t,e,n){var r=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(i){r(),i.metadata.fromCache&&n&&\"server\"===n.source?e(new p(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.Uv=function(t){if(\"string\"==typeof t){if(\"\"===t)throw new p(f.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.\");if(!this.Ov.Yn()&&-1!==t.indexOf(\"/\"))throw new p(f.INVALID_ARGUMENT,\"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '\"+t+\"' contains a '/' character.\");var e=this.Ov.path.child(I.H(t));if(!S.nt(e))throw new p(f.INVALID_ARGUMENT,\"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '\"+e+\"' is not because it has an odd number of segments (\"+e.length+\").\");return Z(this.firestore.rv,new S(e))}if(t instanceof ri){var n=t;return Z(this.firestore.rv,n.yv)}throw new p(f.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: \"+er(t)+\".\")},t.prototype.Fv=function(t,e){if(!Array.isArray(t)||0===t.length)throw new p(f.INVALID_ARGUMENT,\"Invalid Query. A non-empty array is required for '\"+e.toString()+\"' filters.\");if(t.length>10)throw new p(f.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters support a maximum of 10 elements in the value array.\");if(t.indexOf(null)>=0)throw new p(f.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters cannot contain 'null' in the value array.\");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new p(f.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters cannot contain 'NaN' in the value array.\")},t.prototype.jv=function(t){if(t instanceof Dt){var e=[xt.ARRAY_CONTAINS,xt.ARRAY_CONTAINS_ANY],n=[xt.IN,xt.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Nn()){var o=this.Ov.Pn();if(null!==o&&!o.isEqual(t.field))throw new p(f.INVALID_ARGUMENT,\"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '\"+o.toString()+\"' and '\"+t.field.toString()+\"'\");var s=this.Ov.Vn();null!==s&&this.Qv(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.Ov.Hn(n)),null===a&&r&&(a=this.Ov.Hn(e)),null!=a)throw a===t.op?new p(f.INVALID_ARGUMENT,\"Invalid query. You cannot use more than one '\"+t.op.toString()+\"' filter.\"):new p(f.INVALID_ARGUMENT,\"Invalid query. You cannot use '\"+t.op.toString()+\"' filters with '\"+a.toString()+\"' filters.\")}}},t.prototype.xv=function(t){if(null===this.Ov.Vn()){var e=this.Ov.Pn();null!==e&&this.Qv(e,t.field)}},t.prototype.Qv=function(t,e){if(!e.isEqual(t))throw new p(f.INVALID_ARGUMENT,\"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '\"+t.toString()+\"' and so you must also use '\"+t.toString()+\"' as your first Query.orderBy(), but your first Query.orderBy() is on field '\"+e.toString()+\"' instead.\")},t}(),ui=function(){function t(t,e,n,r){this.Tv=t,this.Gv=e,this.Wv=n,this.Dv=r,this.zv=null,this.Kv=null,this.metadata=new ii(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,\"docs\",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"empty\",{get:function(){return this.Wv.docs.M()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"size\",{get:function(){return this.Wv.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;zn(\"QuerySnapshot.forEach\",arguments,1,2),Hn(\"QuerySnapshot.forEach\",\"function\",1,t),this.Wv.docs.forEach((function(r){t.call(e,n.Jv(r))}))},Object.defineProperty(t.prototype,\"query\",{get:function(){return new ai(this.Gv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(rr(\"QuerySnapshot.docChanges\",t,[\"includeMetadataChanges\"]),Yn(\"QuerySnapshot.docChanges\",\"boolean\",\"includeMetadataChanges\",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Wv.di)throw new p(f.INVALID_ARGUMENT,\"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");return this.zv&&this.Kv===e||(this.zv=function(t,e,n,r){if(n.ai.M()){var i,o=0;return n.docChanges.map((function(e){var s=new si(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),r);return xe(0===e.type,\"Invalid event type for first snapshot\"),xe(!i||n.query.Bn(i,e.doc)<0,\"Got added events in wrong order\"),i=e.doc,{type:\"added\",doc:s,oldIndex:-1,newIndex:o++}}))}var s=n.ai;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new si(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),r),o=-1,a=-1;return 0!==e.type&&(xe((o=s.indexOf(e.doc.key))>=0,\"Index for document not found\"),s=s.delete(e.doc.key)),1!==e.type&&(a=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:di(e.type),doc:i,oldIndex:o,newIndex:a}}))}(this.Tv,e,this.Wv,this.Dv),this.Kv=e),this.zv},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ir(\"isEqual\",\"QuerySnapshot\",1,e);return this.Tv===e.Tv&&this.Gv.isEqual(e.Gv)&&this.Wv.isEqual(e.Wv)&&this.Dv===e.Dv},t.prototype.Jv=function(t){return new si(this.Tv,t.key,t,this.metadata.fromCache,this.Wv.fi.has(t.key),this.Dv)},t}();\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */o.__spreadArrays([\"length\",\"forEach\",\"map\"],\"undefined\"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(ui.prototype.docChanges,t,{get:function(){return function(){throw new p(f.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like \"querySnapshot.docChanges\" should become \"querySnapshot.docChanges()\"')}()}})}catch(t){}}));var ci=function(t){function e(e,n,r){var i=t.call(this,Rt.Cn(e),n,r)||this;if(i.Hv=e,e.length%2!=1)throw new p(f.INVALID_ARGUMENT,\"Invalid collection reference. Collection references must have an odd number of segments, but \"+e.J()+\" has \"+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,\"id\",{get:function(){return this.Ov.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){var t=this.Ov.path.L();return t.M()?null:new ri(new S(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return this.Ov.path.J()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(zn(\"CollectionReference.doc\",arguments,0,1),0===arguments.length&&(t=De.pr()),Hn(\"CollectionReference.doc\",\"non-empty string\",1,t),\"\"===t)throw new p(f.INVALID_ARGUMENT,\"Document path must be a non-empty string\");var e=I.H(t);return ri._v(this.Ov.path.child(e),this.firestore,this.Dv)},e.prototype.add=function(t){Bn(\"CollectionReference.add\",arguments,1);var e=this.Dv?this.Dv.toFirestore(t):t;Hn(\"CollectionReference.add\",\"object\",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Hv,this.firestore,t)},e}(ai);function hi(t,e){if(void 0===e)return{merge:!1};if(rr(t,e,[\"merge\",\"mergeFields\"]),Yn(t,\"boolean\",\"merge\",e.merge),$n(t,\"mergeFields\",\"a string or a FieldPath\",e.mergeFields,(function(t){return\"string\"==typeof t||t instanceof pr})),void 0!==e.mergeFields&&void 0!==e.merge)throw new p(f.INVALID_ARGUMENT,\"Invalid options passed to function \"+t+'(): You cannot specify both \"merge\" and \"mergeFields\".');return e}function li(t,e){return void 0===e?{}:(rr(t,e,[\"serverTimestamps\"]),Jn(t,0,\"serverTimestamps\",e.serverTimestamps,[\"estimate\",\"previous\",\"none\"]),e)}function fi(t,e){Kn(t,\"object\",1,e),e&&(rr(t,e,[\"source\"]),Jn(t,0,\"source\",e.source,[\"default\",\"server\",\"cache\"]))}function pi(t,e,n){if(e instanceof ri){if(e.firestore!==n)throw new p(f.INVALID_ARGUMENT,\"Provided document reference is from a different Firestore instance.\");return e}throw ir(t,\"DocumentReference\",1,e)}function di(t){switch(t){case 0:return\"added\";case 2:case 3:return\"modified\";case 1:return\"removed\";default:return Pe(\"Unknown change type: \"+t)}}function vi(t,e,n){var r;return t?(r=t.toFirestore(e),n=\"toFirestore() in \"+n):r=e,[r,n]}function gi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var mi=ur(ti,\"Use firebase.firestore() instead.\"),yi=ur(ei,\"Use firebase.firestore().runTransaction() instead.\"),wi=ur(ni,\"Use firebase.firestore().batch() instead.\"),bi=ur(ri,\"Use firebase.firestore().doc() instead.\"),_i=ur(oi),Ei=ur(si),Ii=ur(ai),Ti=ur(ui),Ci=ur(ci,\"Use firebase.firestore().collection() instead.\"),Si=function(){function e(t){this.db=t,12.2===e.Yv(a.getUA())&&Oe(\"Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\")}return e.Xv=function(t,n,r){return xe(e.th(),\"IndexedDB not supported in current environment.\"),Ae(\"SimpleDb\",\"Opening database:\",t),new Qe((function(i,o){var s=window.indexedDB.open(t,n);s.onsuccess=function(t){var n=t.target.result;i(new e(n))},s.onblocked=function(){o(new p(f.FAILED_PRECONDITION,\"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.\"))},s.onerror=function(t){var e=t.target.error;\"VersionError\"===e.name?o(new p(f.FAILED_PRECONDITION,\"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.\")):o(e)},s.onupgradeneeded=function(e){Ae(\"SimpleDb\",'Database \"'+t+'\" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.createOrUpgrade(n,s.transaction,e.oldVersion,Yi).next((function(){Ae(\"SimpleDb\",\"Database upgrade to version \"+Yi+\" complete\")}))}})).wu()},e.delete=function(t){return Ae(\"SimpleDb\",\"Removing database:\",t),Oi(window.indexedDB.deleteDatabase(t)).wu()},e.th=function(){if(\"undefined\"==typeof window||null==window.indexedDB)return!1;if(e.$v())return!0;if(void 0===window.navigator)return!1;var t=a.getUA(),n=e.Yv(t),r=0<n&&n<10,i=e.Zv(t),o=0<i&&i<4.5;return!(t.indexOf(\"MSIE \")>0||t.indexOf(\"Trident/\")>0||t.indexOf(\"Edge/\")>0||r||o)},e.$v=function(){var e;return\"undefined\"!=typeof t&&\"YES\"===(null===(e=Object({NODE_ENV:\"production\",VUE_APP_I18N_LOCALE:\"en\",VUE_APP_I18N_FALLBACK_LOCALE:\"en\",BASE_URL:\"/\"}))||void 0===e?void 0:e.tw)},e.nw=function(t,e){return t.store(e)},e.Yv=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\\d_]+)/i),n=e?e[1].split(\"_\").slice(0,2).join(\".\"):\"-1\";return Number(n)},e.Zv=function(t){var e=t.match(/Android ([\\d.]+)/i),n=e?e[1].split(\".\").slice(0,2).join(\".\"):\"-1\";return Number(n)},e.prototype.iw=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u;return o.__generator(this,(function(c){switch(c.label){case 0:r=\"readonly\"===t,i=0,s=function(){var t,s,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:++i,t=ki.open(a.db,r?\"readonly\":\"readwrite\",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(s=n(t).catch((function(e){return t.abort(e),Qe.reject(e)})).wu()).catch((function(){})),[4,t.ew];case 2:return o.sent(),[2,{value:s}];case 3:return u=o.sent(),c=\"FirebaseError\"!==u.name&&i<3,Ae(\"SimpleDb\",\"Transaction failed with error: %s. Retrying: %s.\",u.message,c),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:return\"object\"==typeof(u=c.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),Ni=function(){function t(t){this.rw=t,this.uw=!1,this.sw=null}return Object.defineProperty(t.prototype,\"fu\",{get:function(){return this.uw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ow\",{get:function(){return this.sw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"cursor\",{set:function(t){this.rw=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.uw=!0},t.prototype.hw=function(t){this.sw=t},t.prototype.delete=function(){return Oi(this.rw.delete())},t}(),ki=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.cw=new Ge,this.transaction.oncomplete=function(){e.cw.resolve()},this.transaction.onabort=function(){t.error?e.cw.reject(t.error):e.cw.resolve()},this.transaction.onerror=function(t){var n=Pi(t.target.error);e.cw.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,\"ew\",{get:function(){return this.cw.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.cw.reject(t),this.aborted||(Ae(\"SimpleDb\",\"Aborting transaction:\",t?t.message:\"Client-initiated abort\"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return xe(!!e,\"Object store not part of transaction: \"+t),new Ai(e)},t}(),Ai=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ae(\"SimpleDb\",\"PUT\",this.store.name,t,e),n=this.store.put(e,t)):(Ae(\"SimpleDb\",\"PUT\",this.store.name,\"<auto-key>\",t),n=this.store.put(t)),Oi(n)},t.prototype.add=function(t){return Ae(\"SimpleDb\",\"ADD\",this.store.name,t,t),Oi(this.store.add(t))},t.prototype.get=function(t){var e=this;return Oi(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ae(\"SimpleDb\",\"GET\",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ae(\"SimpleDb\",\"DELETE\",this.store.name,t),Oi(this.store.delete(t))},t.prototype.count=function(){return Ae(\"SimpleDb\",\"COUNT\",this.store.name),Oi(this.store.count())},t.prototype.aw=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.fw(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.lw=function(t,e){Ae(\"SimpleDb\",\"DELETE ALL\",this.store.name);var n=this.options(t,e);n.dw=!1;var r=this.cursor(n);return this.fw(r,(function(t,e,n){return n.delete()}))},t.prototype.vw=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.fw(r,e)},t.prototype.ww=function(t){var e=this.cursor({});return new Qe((function(n,r){e.onerror=function(t){var e=Pi(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.fw=function(t,e){var n=[];return new Qe((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ni(i),s=e(i.primaryKey,i.value,o);if(s instanceof Qe){var a=s.catch((function(t){return o.done(),Qe.reject(t)}));n.push(a)}o.fu?r():null===o.ow?i.continue():i.continue(o.ow)}else r()}})).next((function(){return Qe.pu(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&(\"string\"==typeof t?n=t:(xe(void 0===e,\"3rd argument must not be defined if 2nd is a range.\"),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e=\"next\";if(t.reverse&&(e=\"prev\"),t.index){var n=this.store.index(t.index);return t.dw?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Oi(t){return new Qe((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Pi(t.target.error);n(e)}}))}var Ri=!1;function Pi(t){var e=Si.Yv(a.getUA());if(e>=12.2&&e<13){var n=\"An internal error was encountered in the Indexed Database server\";if(t.message.indexOf(n)>=0){var r=new p(\"internal\",\"IOS_INDEXEDDB_BUG1: IndexedDb has thrown '\"+n+\"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");return Ri||(Ri=!0,setTimeout((function(){throw r}),0)),r}}return t}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var xi=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Bh=n,this.Cs=r,this.mw={}}return t.pw=function(e,n,r,i){return xe(\"\"!==e.uid,\"UserID must not be an empty string.\"),new t(e.t()?e.uid:\"\",n,r,i)},t.prototype.oc=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mi(t).vw({index:to.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ys=function(t,e,n){return this.bw(t).next((function(e){return e.lastStreamToken=n.toBase64(),Ui(t).put(e)}))},t.prototype.uo=function(t){return this.bw(t).next((function(t){return M.fromBase64String(t.lastStreamToken)}))},t.prototype.so=function(t,e){return this.bw(t).next((function(n){return n.lastStreamToken=e.toBase64(),Ui(t).put(n)}))},t.prototype.Ks=function(t,e,n,r){var i=this,o=Fi(t),s=Mi(t);return s.add({}).next((function(a){xe(\"number\"==typeof a,\"Auto-generated key is not a number\");for(var u=new Ve(a,e,n,r),c=i.serializer.gw(i.userId,u),h=[],l=new R((function(t,e){return Le(t.J(),e.J())})),f=0,p=r;f<p.length;f++){var d=p[f],v=eo.key(i.userId,d.key.path,a);l=l.add(d.key.path.L()),h.push(s.put(c)),h.push(o.put(v,eo.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Bh.rc(t,e))})),t.Lh((function(){i.mw[a]=u.keys()})),Qe.pu(h).next((function(){return u}))}))},t.prototype.io=function(t,e){var n=this;return Mi(t).get(e).next((function(t){return t?(xe(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+e),n.serializer.yw(t)):null}))},t.prototype.Hs=function(t,e){var n=this;return this.mw[e]?Qe.resolve(this.mw[e]):this.io(t,e).next((function(t){if(t){var r=t.keys();return n.mw[e]=r,r}return null}))},t.prototype._o=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Mi(t).vw({index:to.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xe(e.batchId>=r,\"Should have found mutation after \"+r),o=n.serializer.yw(e)),i.done()})).next((function(){return o}))},t.prototype.ro=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Mi(t).vw({index:to.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qs=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mi(t).aw(to.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.yw(t)}))}))},t.prototype.Qh=function(t,e){var n=this,r=eo.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Fi(t).vw({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Tn(u);if(a===n.userId&&e.path.isEqual(h))return Mi(t).get(c).next((function(t){if(!t)throw Pe(\"Dangling document-mutation reference found: \"+r+\" which points to \"+c);xe(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+c),o.push(n.serializer.yw(t))}));s.done()})).next((function(){return o}))},t.prototype.zh=function(t,e){var n=this,r=new R(Le),i=[];return e.forEach((function(e){var o=eo.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Fi(t).vw({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Tn(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Qe.pu(i).next((function(){return n._w(t,r)}))},t.prototype.Xh=function(t,e){var n=this;xe(!e.Tn(),\"Document queries shouldn't go down this path\"),xe(!e.Yn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var r=e.path,i=r.length+1,o=eo.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new R(Le);return Fi(t).vw({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Tn(u);s===n.userId&&r.G(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n._w(t,a)}))},t.prototype._w=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Mi(t).get(e).next((function(t){if(null===t)throw Pe(\"Dangling document-mutation reference found, which points to \"+e);xe(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+e),r.push(n.serializer.yw(t))})))})),Qe.pu(i).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this;return Li(t.Iw,this.userId,e).next((function(r){return t.Lh((function(){n.Uo(e.batchId)})),Qe.forEach(r,(function(e){return n.Cs.lc(t,e)}))}))},t.prototype.Uo=function(t){delete this.mw[t]},t.prototype.to=function(t){var e=this;return this.oc(t).next((function(n){if(!n)return Qe.resolve();var r=IDBKeyRange.lowerBound(eo.prefixForUser(e.userId)),i=[];return Fi(t).vw({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Tn(t[1]);i.push(o)}else r.done()})).next((function(){xe(0===i.length,\"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: \"+i.map((function(t){return t.J()})))}))}))},t.prototype.fs=function(t,e){return Di(t,this.userId,e)},t.prototype.bw=function(t){var e=this;return Ui(t).get(this.userId).next((function(t){return t||new Zi(e.userId,-1,\"\")}))},t}();function Di(t,e,n){var r=eo.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Fi(t).vw({range:o,dw:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Li(t,e,n){var r=t.store(to.store),i=t.store(eo.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.vw({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){xe(1===a,\"Dangling document-mutation reference found: Missing batch \"+n.batchId)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=eo.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Qe.pu(o).next((function(){return c}))}function Mi(t){return Eo.nw(t,to.store)}function Fi(t){return Eo.nw(t,eo.store)}function Ui(t){return Eo.nw(t,Zi.store)}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var ji=function(){function t(t,e){this.Cs=t,this.serializer=e,this.Sc=An.Ic()}return t.prototype.Ro=function(t){var e=this;return this.Tw(t).next((function(n){return n.highestTargetId=e.Sc.after(n.highestTargetId),e.Ew(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.oo=function(t){return this.Tw(t).next((function(t){return _.P(new b(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ac=function(t){return Bi(t.Iw)},t.prototype.wo=function(t,e,n){var r=this;return this.Tw(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.O()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ew(t,i)}))},t.prototype.So=function(t,e){var n=this;return this.Cc(t,e).next((function(){return n.Tw(t).next((function(r){return r.targetCount+=1,n.Dw(e,r),n.Ew(t,r)}))}))},t.prototype.do=function(t,e){return this.Cc(t,e)},t.prototype.Pc=function(t,e){var n=this;return this.Vc(t,e.targetId).next((function(){return Vi(t).delete(e.targetId)})).next((function(){return n.Tw(t)})).next((function(e){return xe(e.targetCount>0,\"Removing from an empty target cache\"),e.targetCount-=1,n.Ew(t,e)}))},t.prototype.Ju=function(t,e,n){var r=this,i=0,o=[];return Vi(t).vw((function(s,a){var u=r.serializer.Rw(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Pc(t,u)))})).next((function(){return Qe.pu(o)})).next((function(){return i}))},t.prototype.$i=function(t,e){var n=this;return Vi(t).vw((function(t,r){var i=n.serializer.Rw(r);e(i)}))},t.prototype.Tw=function(t){return qi(t.Iw)},t.prototype.Ew=function(t,e){return(n=t,Eo.nw(n,uo.store)).put(uo.key,e);var n},t.prototype.Cc=function(t,e){return Vi(t).put(this.serializer.Sw(e))},t.prototype.Dw=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.kc=function(t){return this.Tw(t).next((function(t){return t.targetCount}))},t.prototype.Do=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Vi(t).vw({range:i,index:so.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.Rw(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.ao=function(t,e,n){var r=this,i=[],o=Wi(t);return e.forEach((function(e){var s=_n(e.path);i.push(o.put(new ao(n,s))),i.push(r.Cs.es(t,e))})),Qe.pu(i)},t.prototype.co=function(t,e,n){var r=this,i=Wi(t);return Qe.forEach(e,(function(e){var o=_n(e.path);return Qe.pu([i.delete([n,o]),r.Cs.us(t,e)])}))},t.prototype.Vc=function(t,e){var n=Wi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Po=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wi(t),i=re();return r.vw({range:n,dw:!0},(function(t,e,n){var r=Tn(t[1]),o=new S(r);i=i.add(o)})).next((function(){return i}))},t.prototype.fs=function(t,e){var n=_n(e.path),r=IDBKeyRange.bound([n],[Fe(n)],!1,!0),i=0;return Wi(t).vw({index:ao.documentTargetsIndex,dw:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.ce=function(t,e){var n=this;return Vi(t).get(e).next((function(t){return t?n.serializer.Rw(t):null}))},t}();function Vi(t){return Eo.nw(t,so.store)}function qi(t){return Si.nw(t,uo.store).get(uo.key).next((function(t){return xe(null!==t,\"Missing metadata row.\"),t}))}function Bi(t){return qi(t).next((function(t){return t.highestListenSequenceNumber}))}function Wi(t){return Eo.nw(t,ao.store)}\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var zi=function(){function t(t,e){this.serializer=t,this.Bh=e}return t.prototype.ms=function(t,e,n){return Hi(t).put(Ki(e),n)},t.prototype.bs=function(t,e){var n=Hi(t),r=Ki(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Aw(t,r)}))},t.prototype.gs=function(t,e){var n=this;return Hi(t).get(Ki(e)).next((function(t){return n.Cw(t)}))},t.prototype.Pw=function(t,e){var n=this;return Hi(t).get(Ki(e)).next((function(t){var e=n.Cw(t);return e?{vc:e,size:Qi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Jt();return this.Vw(t,e,(function(t,e){var i=n.Cw(e);r=r.ut(t,i)})).next((function(){return r}))},t.prototype.kw=function(t,e){var n=this,r=Jt(),i=new N(S.F);return this.Vw(t,e,(function(t,e){var o=n.Cw(e);o?(r=r.ut(t,o),i=i.ut(t,Qi(e))):(r=r.ut(t,null),i=i.ut(t,0))})).next((function(){return{Nw:r,Ow:i}}))},t.prototype.Vw=function(t,e,n){if(e.M())return Qe.resolve();var r=IDBKeyRange.bound(e.first().path.K(),e.last().path.K()),i=e.ft(),o=i.bt();return Hi(t).vw({range:r},(function(t,e,r){for(var s=S.rt(t);o&&S.F(o,s)<0;)n(o,null),o=i.bt();o&&o.isEqual(s)&&(n(o,e),o=i.gt()?i.bt():null),o?r.hw(o.path.K()):r.done()})).next((function(){for(;o;)n(o,null),o=i.gt()?i.bt():null}))},t.prototype.Vo=function(t,e,n){var r=this;xe(!e.Yn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var i=Zt(),o=e.path.length+1,s={};if(n.isEqual(_.MIN)){var a=e.path.K();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.K(),c=this.serializer.Fw(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=io.collectionReadTimeIndex}return Hi(t).vw(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Uw(n);e.path.G(a.key.path)?a instanceof Nt&&e.matches(a)&&(i=i.ut(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Lo=function(t,e){var n=this,r=$t(),i=this.serializer.Fw(e),o=Hi(t),s=IDBKeyRange.lowerBound(i,!0);return o.vw({index:io.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Uw(e);r=r.ut(o.key,o),i=e.readTime})).next((function(){return{Mo:r,readTime:n.serializer.jw(i)}}))},t.prototype.qo=function(t){var e=this,n=Hi(t),r=_.MIN;return n.vw({index:io.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.jw(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Xs=function(e){return new t.mc(this,!!e&&e.$s)},t.prototype.pc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Gi(t).get(oo.key).next((function(t){return xe(!!t,\"Missing document cache metadata\"),t}))},t.prototype.Aw=function(t,e){return Gi(t).put(oo.key,e)},t.prototype.Cw=function(t){if(t){var e=this.serializer.Uw(t);return e instanceof kt&&e.version.isEqual(_.V())?null:e}return null},t.mc=function(t){function e(e,n){var r=t.call(this)||this;return r.bc=e,r.$s=n,r.xw=new Be((function(t){return t.toString()})),r}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[],r=0,i=new R((function(t,e){return Le(t.J(),e.J())}));return this.ds.forEach((function(o,s){var a=e.xw.get(o);if(xe(void 0!==a,\"Cannot modify a document that wasn't read (for \"+o+\")\"),s){xe(!e.readTime.isEqual(_.MIN),\"Cannot add a document with a read time of zero\");var u=e.bc.serializer.Lw(s,e.readTime);i=i.add(o.path.L());var c=Qi(u);r+=c-a,n.push(e.bc.ms(t,o,u))}else if(r-=a,e.$s){var h=e.bc.serializer.Lw(new kt(o,_.V()),e.readTime);n.push(e.bc.ms(t,o,h))}else n.push(e.bc.bs(t,o))})),i.forEach((function(r){n.push(e.bc.Bh.rc(t,r))})),n.push(this.bc.updateMetadata(t,r)),Qe.pu(n)},e.prototype.ys=function(t,e){var n=this;return this.bc.Pw(t,e).next((function(t){return null===t?(n.xw.set(e,0),null):(n.xw.set(e,t.size),t.vc)}))},e.prototype._s=function(t,e){var n=this;return this.bc.kw(t,e).next((function(t){var e=t.Nw;return t.Ow.forEach((function(t,e){n.xw.set(t,e)})),e}))},e}(rn),t}();function Gi(t){return Eo.nw(t,oo.store)}function Hi(t){return Eo.nw(t,io.store)}function Ki(t){return t.path.K()}function Qi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Pe(\"Unknown remote document type\");e=t.noDocument}return JSON.stringify(e).length}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var Yi=10,$i=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;xe(n<r&&n>=0&&r<=Yi,\"Unexpected schema upgrade from v\"+n+\" to v\"+r+\".\");var o=new ki(e);n<1&&r>=1&&(function(t){t.createObjectStore(Xi.store)}(t),function(t){t.createObjectStore(Zi.store,{keyPath:Zi.keyPath}),t.createObjectStore(to.store,{keyPath:to.keyPath,autoIncrement:!0}).createIndex(to.userMutationsIndex,to.userMutationsKeyPath,{unique:!0}),t.createObjectStore(eo.store)}(t),ho(t),function(t){t.createObjectStore(io.store)}(t));var s=Qe.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ao.store),t.deleteObjectStore(so.store),t.deleteObjectStore(uo.store)}(t),ho(t)),s=s.next((function(){return function(t){var e=t.store(uo.store),n=new uo(0,0,_.MIN.O(),0);return e.put(uo.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(to.store).aw().next((function(n){t.deleteObjectStore(to.store),t.createObjectStore(to.store,{keyPath:to.keyPath,autoIncrement:!0}).createIndex(to.userMutationsIndex,to.userMutationsKeyPath,{unique:!0});var r=e.store(to.store),i=n.map((function(t){return r.put(t)}));return Qe.pu(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(lo.store,{keyPath:lo.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(oo.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains(\"remoteDocumentChanges\")&&t.deleteObjectStore(\"remoteDocumentChanges\")}(t),function(t){var e=t.objectStore(io.store);e.createIndex(io.readTimeIndex,io.readTimeIndexPath,{unique:!1}),e.createIndex(io.collectionReadTimeIndex,io.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(io.store).vw((function(t,n){e+=Qi(n)})).next((function(){var n=new oo(e);return t.store(oo.store).put(oo.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Zi.store),r=t.store(to.store);return n.aw().next((function(n){return Qe.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.aw(to.userMutationsIndex,i).next((function(r){return Qe.forEach(r,(function(r){xe(r.userId===n.userId,\"Cannot process batch \"+r.batchId+\" from unexpected user\");var i=e.serializer.yw(r);return Li(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ao.store),n=t.store(io.store);return Bi(t).next((function(t){var r=[];return n.vw((function(n,i){var o=new I(n),s=function(t){return[0,_n(t)]}(o);r.push(e.get(s).next((function(n){return n?Qe.resolve():function(n){return e.put(new ao(0,_n(n),t))}(o)})))})).next((function(){return Qe.pu(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(co.store,{keyPath:co.keyPath});var n=e.store(co.store),r=new Sn,i=function(t){if(r.add(t)){var e=t.B(),i=t.L();return n.put({collectionId:e,parent:_n(i)})}};return e.store(io.store).vw({dw:!0},(function(t,e){var n=new I(t);return i(n.L())})).next((function(){return e.store(eo.store).vw({dw:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Tn(n));return i(r.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(so.store);return n.vw((function(t,r){var i=e.serializer.Rw(r),o=e.serializer.Sw(i);return n.put(o)}))},t}(),Ji=function(t,e){this.seconds=t,this.nanoseconds=e},Xi=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store=\"owner\",t.key=\"owner\",t}(),Zi=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store=\"mutationQueues\",t.keyPath=\"userId\",t}(),to=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store=\"mutations\",t.keyPath=\"batchId\",t.userMutationsIndex=\"userMutationsIndex\",t.userMutationsKeyPath=[\"userId\",\"batchId\"],t}(),eo=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_n(e)]},t.key=function(t,e,n){return[t,_n(e),n]},t.store=\"documentMutations\",t.PLACEHOLDER=new t,t}(),no=function(t,e){this.path=t,this.readTime=e},ro=function(t,e){this.path=t,this.version=e},io=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store=\"remoteDocuments\",t.readTimeIndex=\"readTimeIndex\",t.readTimeIndexPath=\"readTime\",t.collectionReadTimeIndex=\"collectionReadTimeIndex\",t.collectionReadTimeIndexPath=[\"parentPath\",\"readTime\"],t}(),oo=function(){function t(t){this.byteSize=t}return t.store=\"remoteDocumentGlobal\",t.key=\"remoteDocumentGlobalKey\",t}(),so=function(){function t(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store=\"targets\",t.keyPath=\"targetId\",t.queryTargetsIndexName=\"queryTargetsIndex\",t.queryTargetsKeyPath=[\"canonicalId\",\"targetId\"],t}(),ao=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,xe(0===t==(void 0!==n),\"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number\")}return t.store=\"targetDocuments\",t.keyPath=[\"targetId\",\"path\"],t.documentTargetsIndex=\"documentTargetsIndex\",t.documentTargetsKeyPath=[\"path\",\"targetId\"],t}(),uo=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key=\"targetGlobalKey\",t.store=\"targetGlobal\",t}(),co=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store=\"collectionParents\",t.keyPath=[\"collectionId\",\"parent\"],t}();function ho(t){t.createObjectStore(ao.store,{keyPath:ao.keyPath}).createIndex(ao.documentTargetsIndex,ao.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(so.store,{keyPath:so.keyPath}).createIndex(so.queryTargetsIndexName,so.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(uo.store)}var lo=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store=\"clientMetadata\",t.keyPath=\"clientId\",t}(),fo=[Zi.store,to.store,eo.store,io.store,so.store,Xi.store,uo.store,ao.store],po=o.__spreadArrays(fo,[lo.store]),vo=o.__spreadArrays(po,[oo.store]),go=o.__spreadArrays(vo,[co.store]),mo=function(){function t(){this.Mw=new Sn}return t.prototype.rc=function(t,e){var n=this;if(xe(e.length%2==1,\"Expected a collection path.\"),!this.Mw.has(e)){var r=e.B(),i=e.L();t.Lh((function(){n.Mw.add(e)}));var o={collectionId:r,parent:_n(i)};return yo(t).put(o)}return Qe.resolve()},t.prototype.Yh=function(t,e){var n=[],r=IDBKeyRange.bound([e,\"\"],[Fe(e),\"\"],!1,!0);return yo(t).aw(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Tn(o.parent))}return n}))},t}();function yo(t){return Eo.nw(t,co.store)}\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */var wo=function(){function t(t){this.qw=t}return t.prototype.Uw=function(t){if(t.document)return this.qw.Ae(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=S.rt(t.noDocument.path),n=this.Bw(t.noDocument.readTime);return new kt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=S.rt(t.unknownDocument.path),n=this.Bw(t.unknownDocument.version),new At(e,n)):Pe(\"Unexpected DbRemoteDocument\")},t.prototype.Lw=function(t,e){var n=this.Fw(e),r=t.key.path.L().K();if(t instanceof Nt){var i=this.qw.Se(t),o=t.hasCommittedMutations;return new io(null,null,i,o,n,r)}if(t instanceof kt){var s=t.key.path.K(),a=this.Qw(t.version);return o=t.hasCommittedMutations,new io(null,new no(s,a),null,o,n,r)}if(t instanceof At){s=t.key.path.K();var u=this.Qw(t.version);return new io(new ro(s,u),null,null,!0,n,r)}return Pe(\"Unexpected MaybeDocument\")},t.prototype.Fw=function(t){var e=t.O();return[e.seconds,e.nanoseconds]},t.prototype.jw=function(t){var e=new b(t[0],t[1]);return _.P(e)},t.prototype.Qw=function(t){var e=t.O();return new Ji(e.seconds,e.nanoseconds)},t.prototype.Bw=function(t){var e=new b(t.seconds,t.nanoseconds);return _.P(e)},t.prototype.gw=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.qw.Fe(t)})),i=e.mutations.map((function(t){return n.qw.Fe(t)}));return new to(t,e.batchId,e.gr.toMillis(),r,i)},t.prototype.yw=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.qw.Le(t)})),r=t.mutations.map((function(t){return e.qw.Le(t)})),i=b.fromMillis(t.localWriteTimeMs);return new Ve(t.batchId,i,n,r)},t.prototype.Gw=function(t){var e=[];return t.forEach((function(t){e.push(_n(t.path))})),e},t.prototype.Ww=function(t){for(var e=re(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new S(Tn(i)))}return e},t.prototype.Rw=function(t){var e,n=this.Bw(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Bw(t.lastLimboFreeSnapshotVersion):_.MIN;return e=void 0!==t.query.documents?this.qw.ze(t.query):this.qw.Xe(t.query),new Gt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,M.fromBase64String(t.resumeToken))},t.prototype.Sw=function(t){xe(0===t.ti,\"Only queries with purpose 0 may be stored, got \"+t.ti);var e,n=this.Qw(t.ni),r=this.Qw(t.lastLimboFreeSnapshotVersion);e=t.target.Tn()?this.qw.We(t.target):this.qw.Ke(t.target);var i=t.resumeToken.toBase64();return new so(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),bo=\"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.\",_o=function(t){function e(e,n){var r=t.call(this)||this;return r.Iw=e,r.fo=n,r}return o.__extends(e,t),e}(yn),Eo=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.zo=s,this.zw=u,this.Fc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Kw=null,this.inForeground=!1,this.Jw=null,this.Hw=null,this.Yw=Number.NEGATIVE_INFINITY,this.Xw=function(t){return Promise.resolve()},this.Cs=new Co(this,o),this.$w=n+t.Zw,this.serializer=new wo(a),this.document=i.document,this.Os=new ji(this.Cs,this.serializer),this.Bh=new mo,this.qh=new zi(this.serializer,this.Bh),!i.window||!i.window.localStorage)throw new p(f.UNIMPLEMENTED,\"IndexedDB persistence is only available on platforms that support LocalStorage.\");this.window=i.window,this.tm=this.window.localStorage}return t.nw=function(t,e){if(t instanceof _o)return Si.nw(t.Iw,e);throw Pe(\"IndexedDbPersistence must use instances of IndexedDbTransaction\")},t.nm=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!t.th())throw new p(f.UNIMPLEMENTED,\"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.im,e.zo,e.serializer,e.zw)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return xe(!this.qu,\"IndexedDbPersistence double-started!\"),xe(null!==this.window,\"Expected 'window' to be defined\"),Si.Xv(this.$w,Yi,new $i(this.serializer)).then((function(e){return t.em=e,t.rm()})).then((function(){return t.um(),t.sm(),t.om(),t.em.runTransaction(\"readonly\",[uo.store],(function(t){return Bi(t)}))})).then((function(e){t.Oc=new ze(e,t.zw)})).then((function(){t.Fc=!0})).catch((function(e){return t.em&&t.em.close(),Promise.reject(e)}))},t.prototype.jc=function(t){var e=this;return this.Xw=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.qu?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.xc=function(t){var e=this;this.em.iw((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.jo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.qu?[4,this.rm()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.rm=function(){var t=this;return this.em.runTransaction(\"readwrite\",go,(function(e){return To(e).put(new lo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.hm(e).next((function(e){e||(t.isPrimary=!1,t.zo.Qr((function(){return t.Xw(!1)})))}))})).next((function(){return t.cm(e)})).next((function(n){return t.isPrimary&&!n?t.am(e).next((function(){return!1})):!!n&&t.fm(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return Ae(\"IndexedDbPersistence\",\"Releasing owner lease after error during lease refresh\",e),!1})).then((function(e){t.isPrimary!==e&&t.zo.Qr((function(){return t.Xw(e)})),t.isPrimary=e}))},t.prototype.hm=function(t){var e=this;return Io(t).get(Xi.key).next((function(t){return Qe.resolve(e.lm(t))}))},t.prototype.dm=function(t){return To(t).delete(this.clientId)},t.prototype.vm=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.wm(this.Yw,18e5)?[3,2]:(this.Yw=Date.now(),[4,this.runTransaction(\"maybeGarbageCollectMultiClientState\",\"readwrite-primary\",(function(n){var r=t.nw(n,lo.store);return r.aw().next((function(t){var n=e.mm(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Qe.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.pm(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.om=function(){var t=this;this.Hw=this.zo.iu(\"client_metadata_refresh\",4e3,(function(){return t.rm().then((function(){return t.vm()})).then((function(){return t.om()}))}))},t.prototype.lm=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.cm=function(t){var e=this;return Io(t).get(Xi.key).next((function(n){if(null!==n&&e.wm(n.leaseTimestampMs,5e3)&&!e.bm(n.ownerId)){if(e.lm(n)&&e.networkEnabled)return!0;if(!e.lm(n)){if(!n.allowTabSynchronization)throw new p(f.FAILED_PRECONDITION,bo);return!1}}return!(!e.networkEnabled||!e.inForeground)||To(t).aw().next((function(t){return void 0===e.mm(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ae(\"IndexedDbPersistence\",\"Client \"+(t?\"is\":\"is not\")+\" eligible for a primary lease.\"),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Fc=!1,this.gm(),this.Hw&&(this.Hw.cancel(),this.Hw=null),this.ym(),this._m(),[4,this.em.runTransaction(\"readwrite\",[Xi.store,lo.store],(function(e){return t.am(e).next((function(){return t.dm(e)}))}))];case 1:return e.sent(),this.em.close(),this.Im(),[2]}}))}))},t.prototype.mm=function(t,e){var n=this;return t.filter((function(t){return n.wm(t.updateTimeMs,e)&&!n.bm(t.clientId)}))},t.prototype.Oo=function(){var t=this;return this.em.runTransaction(\"readonly\",[lo.store],(function(e){return To(e).aw().next((function(e){return t.mm(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return t.th()?(n=e+t.Zw,[4,Si.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,\"qu\",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Vs=function(t){return xe(this.qu,\"Cannot initialize MutationQueue before persistence is started.\"),xi.pw(t,this.serializer,this.Bh,this.Cs)},t.prototype.Fs=function(){return xe(this.qu,\"Cannot initialize TargetCache before persistence is started.\"),this.Os},t.prototype.Ns=function(){return xe(this.qu,\"Cannot initialize RemoteDocumentCache before persistence is started.\"),this.qh},t.prototype.js=function(){return xe(this.qu,\"Cannot initialize IndexManager before persistence is started.\"),this.Bh},t.prototype.runTransaction=function(t,e,n){var r=this;Ae(\"IndexedDbPersistence\",\"Starting transaction:\",t);var i,o=\"readonly\"===e?\"readonly\":\"readwrite\";return this.em.runTransaction(o,go,(function(o){return i=new _o(o,r.Oc.next()),\"readwrite-primary\"===e?r.hm(o).next((function(t){return!!t||r.cm(o)})).next((function(e){if(!e)throw Oe(\"Failed to obtain primary lease for action '\"+t+\"'.\"),r.isPrimary=!1,r.zo.Qr((function(){return r.Xw(!1)})),new p(f.FAILED_PRECONDITION,mn);return n(i)})).next((function(t){return r.fm(o).next((function(){return t}))})):r.Tm(o).next((function(){return n(i)}))})).then((function(t){return i.Mh(),t}))},t.prototype.Tm=function(t){var e=this;return Io(t).get(Xi.key).next((function(t){if(null!==t&&e.wm(t.leaseTimestampMs,5e3)&&!e.bm(t.ownerId)&&!e.lm(t)&&!t.allowTabSynchronization)throw new p(f.FAILED_PRECONDITION,bo)}))},t.prototype.fm=function(t){var e=new Xi(this.clientId,this.allowTabSynchronization,Date.now());return Io(t).put(Xi.key,e)},t.th=function(){return Si.th()},t.Em=function(t){var e=t.ae.projectId;return t.ae.br||(e+=\".\"+t.ae.database),\"firestore/\"+t.persistenceKey+\"/\"+e+\"/\"},t.prototype.am=function(t){var e=this,n=Io(t);return n.get(Xi.key).next((function(t){return e.lm(t)?(Ae(\"IndexedDbPersistence\",\"Releasing primary lease.\"),n.delete(Xi.key)):Qe.resolve()}))},t.prototype.wm=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(Oe(\"Detected an update time that is in the future: \"+t+\" > \"+n),!1))},t.prototype.um=function(){var t=this;null!==this.document&&\"function\"==typeof this.document.addEventListener&&(this.Jw=function(){t.zo.Qr((function(){return t.inForeground=\"visible\"===t.document.visibilityState,t.rm()}))},this.document.addEventListener(\"visibilitychange\",this.Jw),this.inForeground=\"visible\"===this.document.visibilityState)},t.prototype.ym=function(){this.Jw&&(xe(null!==this.document&&\"function\"==typeof this.document.addEventListener,\"Expected 'document.addEventListener' to be a function\"),this.document.removeEventListener(\"visibilitychange\",this.Jw),this.Jw=null)},t.prototype.sm=function(){var t=this;\"function\"==typeof this.window.addEventListener&&(this.Kw=function(){t.gm(),t.zo.Qr((function(){return t.shutdown()}))},this.window.addEventListener(\"unload\",this.Kw))},t.prototype._m=function(){this.Kw&&(xe(\"function\"==typeof this.window.removeEventListener,\"Expected 'window.removeEventListener' to be a function\"),this.window.removeEventListener(\"unload\",this.Kw),this.Kw=null)},t.prototype.bm=function(t){try{var e=null!==this.tm.getItem(this.pm(t));return Ae(\"IndexedDbPersistence\",\"Client '\"+t+\"' \"+(e?\"is\":\"is not\")+\" zombied in LocalStorage\"),e}catch(t){return Oe(\"IndexedDbPersistence\",\"Failed to get zombied client id.\",t),!1}},t.prototype.gm=function(){try{this.tm.setItem(this.pm(this.clientId),String(Date.now()))}catch(t){Oe(\"Failed to set zombie client id.\",t)}},t.prototype.Im=function(){try{this.tm.removeItem(this.pm(this.clientId))}catch(t){}},t.prototype.pm=function(t){return\"firestore_zombie_\"+this.persistenceKey+\"_\"+t},t.Zw=\"main\",t}();\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */function Io(t){return t.store(Xi.store)}function To(t){return t.store(lo.store)}var Co=function(){function t(t,e){this.db=t,this.Bc=null,this.ju=new tn(this,e)}return t.prototype.Wu=function(t){var e=this.Dm(t);return this.db.Fs().kc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dm=function(t){var e=0;return this.Ku(t,(function(t){e++})).next((function(){return e}))},t.prototype.$i=function(t,e){return this.db.Fs().$i(t,e)},t.prototype.Ku=function(t,e){return this.Rm(t,(function(t,n){return e(n)}))},t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return So(t,e)},t.prototype.us=function(t,e){return So(t,e)},t.prototype.Ju=function(t,e,n){return this.db.Fs().Ju(t,e,n)},t.prototype.lc=function(t,e){return So(t,e)},t.prototype.Sm=function(t,e){return this.Bc.fs(e)?Qe.resolve(!0):function(t,e){var n=!1;return Ui(t).ww((function(r){return Di(t,r,e).next((function(t){return t&&(n=!0),Qe.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Hu=function(t,e){var n=this,r=this.db.Ns().Xs(),i=[],o=0;return this.Rm(t,(function(s,a){if(a<=e){var u=n.Sm(t,s).next((function(e){if(!e)return o++,r.gs(t,s).next((function(){return r.bs(s),Wi(t).delete([0,_n(s.path)])}))}));i.push(u)}})).next((function(){return Qe.pu(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.ii(t.fo);return this.db.Fs().do(t,n)},t.prototype.vo=function(t,e){return So(t,e)},t.prototype.Rm=function(t,e){var n,r=Wi(t),i=ze.Nr;return r.vw({index:ao.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==ze.Nr&&e(new S(Tn(n)),i),i=a,n=s):i=ze.Nr})).next((function(){i!==ze.Nr&&e(new S(Tn(n)),i)}))},t.prototype.Xu=function(t){return this.db.Ns().pc(t)},t}();function So(t,e){return Wi(t).put(function(t,e){return new ao(0,_n(t.path),e)}(e,t.fo))}var No=function(){function t(){}return t.prototype.initialize=function(t,e,n,r,i,s){return o.__awaiter(this,void 0,void 0,(function(){var a,u,c,h;return o.__generator(this,(function(o){switch(o.label){case 0:if(xe(s.zc,\"IndexedDbPersistenceProvider can only provide durable persistence\"),xe(!this.persistence,\"configure() already called\"),a=Eo.Em(e),u=new Ie(e.ae,{de:Ce.xt().de}),!vn.th(n))throw new p(f.UNIMPLEMENTED,\"IndexedDB persistence is only available on platforms that support LocalStorage.\");return this.Ml=s.synchronizeTabs?new vn(t,n,a,r,i):new gn,c=this,[4,Eo.nm({allowTabSynchronization:s.synchronizeTabs,persistenceKey:a,clientId:r,platform:n,zo:t,serializer:u,im:Xe.Pu(s.cacheSizeBytes),zw:this.Ml})];case 1:return c.persistence=o.sent(),h=this.persistence.Cs.ju,this.Md=new Ze(h,t),[2]}}))}))},t.prototype.Jc=function(){return xe(!!this.persistence,\"initialize() not called\"),this.persistence},t.prototype.Hc=function(){return xe(!!this.Ml,\"initialize() not called\"),this.Ml},t.prototype.Kc=function(){return xe(!!this.Md,\"initialize() not called\"),this.Md},t.prototype.clearPersistence=function(t){var e=Eo.Em(t);return Eo.clearPersistence(e)},t}(),ko={Firestore:mi,GeoPoint:Er,Timestamp:b,Blob:fr,Transaction:yi,WriteBatch:wi,DocumentReference:bi,DocumentSnapshot:_i,Query:Ii,QueryDocumentSnapshot:Ei,QuerySnapshot:Ti,CollectionReference:Ci,FieldPath:pr,FieldValue:_r,setLogLevel:ti.setLogLevel,CACHE_SIZE_UNLIMITED:Xr},Ao=function(){function t(){}return t.prototype.jf=function(t){},t.prototype.shutdown=function(){},t}(),Oo=function(){function t(){var t=this;this.Am=function(){return t.Cm()},this.Pm=function(){return t.Vm()},this.km=[],this.Nm()}return t.prototype.jf=function(t){this.km.push(t)},t.prototype.shutdown=function(){window.removeEventListener(\"online\",this.Am),window.removeEventListener(\"offline\",this.Pm)},t.prototype.Nm=function(){window.addEventListener(\"online\",this.Am),window.addEventListener(\"offline\",this.Pm)},t.prototype.Cm=function(){Ae(\"ConnectivityMonitor\",\"Network connectivity changed: AVAILABLE\");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(0)},t.prototype.Vm=function(){Ae(\"ConnectivityMonitor\",\"Network connectivity changed: UNAVAILABLE\");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(1)},t.th=function(){return\"undefined\"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ro=function(){function t(t){this.Om=t.Om,this.Fm=t.Fm}return t.prototype.Ea=function(t){xe(!this.Um,\"Called onOpen on stream twice!\"),this.Um=t},t.prototype.ga=function(t){xe(!this.jm,\"Called onClose on stream twice!\"),this.jm=t},t.prototype.onMessage=function(t){xe(!this.xm,\"Called onMessage on stream twice!\"),this.xm=t},t.prototype.close=function(){this.Fm()},t.prototype.send=function(t){this.Om(t)},t.prototype.Lm=function(){xe(void 0!==this.Um,\"Cannot call onOpen because no callback was set\"),this.Um()},t.prototype.Mm=function(t){xe(void 0!==this.jm,\"Cannot call onClose because no callback was set\"),this.jm(t)},t.prototype.qm=function(t){xe(void 0!==this.xm,\"Cannot call onMessage because no callback was set\"),this.xm(t)},t}(),Po={BatchGetDocuments:\"batchGet\",Commit:\"commit\"},xo=\"gl-js/ fire/\"+h,Do=function(){function t(t){this.ae=t.ae;var e=t.ssl?\"https\":\"http\";this.Bm=e+\"://\"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Qm=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t[\"X-Goog-Api-Client\"]=xo},t.prototype.Ua=function(t,e,n){var r=this,i=this.Gm(t);return new Promise((function(s,a){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();Ae(\"Connection\",\"XHR received:\",JSON.stringify(e)),s(e);break;case c.ErrorCode.TIMEOUT:Ae(\"Connection\",'RPC \"'+t+'\" timed out'),a(new p(f.DEADLINE_EXCEEDED,\"Request time out\"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(Ae(\"Connection\",'RPC \"'+t+'\" failed with status:',n,\"response text:\",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status,h=o.toLowerCase().replace(\"_\",\"-\"),Object.values(f).indexOf(h)>=0?h:f.UNKNOWN);a(new p(i,r.message))}else a(new p(f.UNKNOWN,\"Server responded with status \"+u.getStatus()))}else Ae(\"Connection\",'RPC \"'+t+'\" failed'),a(new p(f.UNAVAILABLE,\"Connection failed.\"));break;default:Pe('RPC \"'+t+'\" failed with unanticipated webchannel error '+u.getLastErrorCode()+\": \"+u.getLastError()+\", giving up.\")}}finally{Ae(\"Connection\",'RPC \"'+t+'\" completed.')}var o,h}));var h=o.__assign({},e);delete h.database;var l=JSON.stringify(h);Ae(\"Connection\",\"XHR sending: \",i+\" \"+l);var d={\"Content-Type\":\"text/plain\"};r.Qm(d,n),u.send(i,\"POST\",l,d,15)}))},t.prototype.ja=function(t,e,n){return this.Ua(t,e,n)},t.prototype.Da=function(t,e){var n=[this.Bm,\"/\",\"google.firestore.v1.Firestore\",\"/\",t,\"/channel\"],r=c.createWebChannelTransport(),i={httpSessionIdParam:\"gsessionid\",initMessageHeaders:{},messageUrlParams:{database:\"projects/\"+this.ae.projectId+\"/databases/\"+this.ae.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Qm(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam=\"$httpHeaders\");var o=n.join(\"\");Ae(\"Connection\",\"Creating WebChannel: \"+o+\" \"+i);var s=r.createWebChannel(o,i),u=!1,h=!1,l=new Ro({Om:function(t){h?Ae(\"Connection\",\"Not sending because WebChannel is closed:\",t):(u||(Ae(\"Connection\",\"Opening WebChannel transport.\"),s.open(),u=!0),Ae(\"Connection\",\"WebChannel sending:\",t),s.send(t))},Fm:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c.WebChannel.EventType.OPEN,(function(){h||Ae(\"Connection\",\"WebChannel transport opened.\")})),d(c.WebChannel.EventType.CLOSE,(function(){h||(h=!0,Ae(\"Connection\",\"WebChannel transport closed\"),l.Mm())})),d(c.WebChannel.EventType.ERROR,(function(t){h||(h=!0,Ae(\"Connection\",\"WebChannel transport errored:\",t),l.Mm(new p(f.UNAVAILABLE,\"The operation could not be completed\")))})),d(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];xe(!!n,\"Got a webchannel message without data.\");var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ae(\"Connection\",\"WebChannel received error:\",i);var o=i.status,a=function(t){var e=ft[t];if(void 0!==e)return Qt(e)}(o),u=i.message;void 0===a&&(a=f.INTERNAL,u=\"Unknown error status: \"+o+\" with message \"+i.message),h=!0,l.Mm(new p(a,u)),s.close()}else Ae(\"Connection\",\"WebChannel received:\",n),l.qm(n)}})),setTimeout((function(){l.Lm()}),0),l},t.prototype.Gm=function(t){var e=Po[t];return xe(void 0!==e,\"Unknown REST mapping for: \"+t),this.Bm+\"/v1/projects/\"+this.ae.projectId+\"/databases/\"+this.ae.database+\"/documents:\"+e},t}(),Lo=window.crypto||window.__PRIVATE_msCrypto,Mo=function(){function t(){this.de=!0,this.xa=\"undefined\"!=typeof atob}return Object.defineProperty(t.prototype,\"document\",{get:function(){return\"undefined\"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"window\",{get:function(){return\"undefined\"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Bd=function(t){return Promise.resolve(new Do(t))},t.prototype.Qd=function(){return Oo.th()?new Oo:new Ao},t.prototype.Gd=function(t){return new Ie(t,{de:!0})},t.prototype.mr=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype.randomBytes=function(t){if(t<=0)return new Uint8Array;var e=new Uint8Array(t);return Lo.getRandomValues(e),e},t}();\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction Fo(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component(\"firestore\",(function(t){var n=t.getProvider(\"app\").getImmediate();return e(n,t.getProvider(\"auth-internal\"))}),\"PUBLIC\").setServiceProps(o.__assign({},ko)))}(t,(function(t,e){return new ti(t,e,new No)})),t.registerVersion(\"@firebase/firestore\",\"1.13.1\")\n/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */}Ce.wr(new Mo),Fo(i),e.__PRIVATE_registerFirestore=Fo}).call(this,n(\"4362\"))},e9b1:function(t,e,n){}}]);","extractedComments":[]}