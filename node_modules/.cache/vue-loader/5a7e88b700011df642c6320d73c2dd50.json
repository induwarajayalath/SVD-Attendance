{"remainingRequest":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/src/views/dashboard/homePage/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/src/views/dashboard/homePage/Login.vue","mtime":1587047794851},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1586073572494},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/thread-loader/dist/cjs.js","mtime":1586073576146},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":1586073572302},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/vuetify-loader/lib/loader.js","mtime":1586073576326},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1586073572494},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/vue-loader/lib/index.js","mtime":1586073576262}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgovKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqLwogIGltcG9ydCBkYiBmcm9tICcuL2FwaS9maXJlYmFzZUluaXQnCiAgaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJwogIGltcG9ydCBWdWUgZnJvbSAndnVlJwogIGltcG9ydCBWdWVDb29raWVzIGZyb20gJ3Z1ZS1jb29raWVzJwogIGltcG9ydCBWdWVQYXJ0aWNsZXMgZnJvbSAndnVlLXBhcnRpY2xlcycKICBpbXBvcnQgVnVlU2ltcGxlQWxlcnQgZnJvbSAndnVlLXNpbXBsZS1hbGVydCcKICBWdWUudXNlKFZ1ZVNpbXBsZUFsZXJ0KQogIFZ1ZS51c2UoVnVlUGFydGljbGVzKQogIFZ1ZS51c2UoVnVlQ29va2llcykKICBleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhOiAoKSA9PiAoewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHNob3dFcnJvcjogZmFsc2UsCiAgICAgIGVycm9ybW06ICcgJywKICAgICAgc3VjY2Vzc01zZzogJycsCiAgICAgIHN1Y2Nlc3NCb29sOiBmYWxzZSwKICAgIH0pLAogICAgLy8gd2F0Y2g6IHsKICAgIC8vICAgbG9hZGVyICgpIHsKICAgIC8vICAgICBjb25zdCBsID0gdGhpcy5sb2FkZXIKICAgIC8vICAgICB0aGlzW2xdID0gIXRoaXNbbF0KICAgIC8vICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICAgIHRoaXNbbF0gPSBmYWxzZQogICAgLy8gICAgIH0sIDMwMDApCiAgICAvLyAgICAgdGhpcy5sb2FkZXIgPSBudWxsCiAgICAvLyAgIH0sCiAgICAvLyB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgIC8vIC8vY29uc29sZS5sb2coVnVlQ29va2llcy5pc0tleSgndXNlcicpKTsKICAgICAgdGhpcy5zaG93RXJyb3IgPSBmYWxzZQogICAgICB0aGlzLnN1Y2Nlc3NCb29sID0gZmFsc2UKICAgICAgaWYgKFZ1ZUNvb2tpZXMuaXNLZXkoJ3VzZXInKSkgeyAvLyBjaGVjayBpZiBsb2dnZWQgaW4KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CgogICAgICBsb2dpbjogZnVuY3Rpb24gKGUpIHsKICAgICAgICBmaXJlYmFzZQogICAgICAgICAgLmF1dGgoKQogICAgICAgICAgLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKHRoaXMuZW1haWwsIHRoaXMucGFzc3dvcmQpCiAgICAgICAgICAudGhlbigKICAgICAgICAgICAgdXNlciA9PiB7CiAgICAgICAgICAgICAgVnVlQ29va2llcy5jb25maWcoJzdkJykKICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvciA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzTXNnID0gJ0xvZ2luIFN1Y2Nlc3MnCiAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzQm9vbCA9IHRydWUKICAgICAgICAgICAgICBjb25zdCB1aWQgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codWlkKQoKICAgICAgICAgICAgICBjb25zdCB1c2VyRGV0YWlscyA9IGRiCiAgICAgICAgICAgICAgICAuY29sbGVjdGlvbigndXNlckRldGFpbHMnKQogICAgICAgICAgICAgICAgLmRvYyh1aWQpCiAgICAgICAgICAgICAgICAuZ2V0KCkKICAgICAgICAgICAgICAgIC50aGVuKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChkb2MuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgZSA9IGRvYy5kYXRhKCkuZm9sZGVyTmFtZQogICAgICAgICAgICAgICAgICAgIFZ1ZUNvb2tpZXMuc2V0KCd1c2VyJywgdWlkKQogICAgICAgICAgICAgICAgICAgIFZ1ZUNvb2tpZXMuc2V0KCdmb2xkZXJJRCcsIGUpCiAgICAgICAgICAgICAgICAgICAgVnVlQ29va2llcy5zZXQoJ3VzZXJFbWFpbCcsIHRoaXMuZW1haWwpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc0Jvb2wgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIHRoaXMuJGFsZXJ0KCdDb250YWN0IEFkbWluJywgJycsICd3YXJuaW5nJykKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL0xvZ2luJykKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGVycgogICAgICAgICAgICAgICAgLy8gLy9jb25zb2xlLmxvZygnRXJyb3IgZ2V0dGluZyBkb2N1bWVudCcsIGVycik7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAogICAgICAgICAgICBlcnIgPT4gewogICAgICAgICAgICAgIC8vIGFsZXJ0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICAgICAvLyB0aGlzLmVycm9ybW0gPSBlcnIubWVzc2FnZQogICAgICAgICAgICAgIC8vIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZQogICAgICAgICAgICAgIHRoaXMuJGFsZXJ0KGVyci5tZXNzYWdlLCAnJywgJ2Vycm9yJykKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL0xvZ2luJykKICAgICAgICAgICAgfSwKICAgICAgICAgICkKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgfSwKICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIChlKSB7CiAgICAgIC8vICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZWdpc3RlcicpCiAgICAgIH0sCiAgICAgIHJlc2V0OiBmdW5jdGlvbiAoZSkgewogICAgICAgIHRoaXMuJGFsZXJ0KCdDYW5gdCByZXNldCB0aGUgcGFzc3dvcmQgYnkgeW91cnNlbHZlcy4gQ29udGFjdCBBZG1pbicsICcnLCAnd2FybmluZycpCiAgICAgIC8vICAgY29uc3QgYXV0aCA9IGZpcmViYXNlLmF1dGgoKQogICAgICAvLyAgIGNvbnN0IGVtYWlsQWRkcmVzcyA9IHRoaXMuZW1haWwKICAgICAgLy8gICAvL2NvbnNvbGUubG9nKHRoaXMuZW1haWwpCgogICAgICAvLyAgIGF1dGguc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChlbWFpbEFkZHJlc3MpLnRoZW4oKCkgPT4gewogICAgICAvLyAgICAgLy8gRW1haWwgc2VudC4KICAgICAgLy8gICAgIC8vIC8vY29uc29sZS5sb2coJ3NlbnQnKTsKICAgICAgLy8gICAgIC8vIGFsZXJ0KCdTdWNjZXNzISBQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCBpbmJveCcpOwogICAgICAvLyAgICAgdGhpcy4kYWxlcnQoJ1N1Y2Nlc3MhJywgJ1BsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGluYm94JywgJ3N1Y2Nlc3MnKQogICAgICAvLyAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgIC8vICAgICBjb25zdCBlcnJvciA9IGVycgogICAgICAvLyAgICAgdGhpcy4kYWxlcnQoJ0Vycm9yIScsICdQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCcsICdlcnJvcicpCiAgICAgIC8vICAgLy8gLy9jb25zb2xlLmxvZygnRXJyb3IgZ2V0dGluZyBkb2N1bWVudCcsIGVycik7CiAgICAgIC8vICAgfSkKICAgICAgfSwKICAgICAgaG93VG86IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdGhpcy4kYWxlcnQoJ0FsbCB1c2VybmFtZXMgYW5kIHBhc3N3b3JkcyBoYXZlIGJlZW4gZ2l2ZW4gdG8gdGhlIGNsYXNzIHRlYWNoZXJzLiBZb3UgY2FuIGdldCB5b3VyIGNsYXNzIGNyZWRlbnRpYWxzIGZyb20geW91ciAgY2xhc3MgdGVhY2hlcicsICcnLCAnc3VjY2VzcycpCiAgICAgIH0sCiAgICB9LAogIH0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/dashboard/homePage","sourcesContent":["\n<template>\n  <v-app>\n    <v-content\n      id=\"login\"\n      :bg=\"false\"\n    >\n      <vue-particles\n        color=\"#000044\"\n        :particle-opacity=\"0.3\"\n        :particles-number=\"120\"\n        shape-type=\"circle\"\n        :particle-size=\"6\"\n        lines-color=\"#FFA000\"\n        :lines-width=\"2\"\n        :line-linked=\"true\"\n        :line-opacity=\"0.4\"\n        :lines-distance=\"100\"\n        :move-speed=\"3\"\n        :hover-effect=\"true\"\n        hover-mode=\"grab\"\n        :click-effect=\"true\"\n        click-mode=\"repulse\"\n      />\n    </v-content>\n    <v-container\n      class=\"fill-height\"\n      fluid\n    >\n      <v-row\n        align=\"center\"\n        justify=\"center\"\n      >\n        <v-col\n          cols=\"12\"\n          sm=\"8\"\n          md=\"4\"\n          lg=\"3\"\n        >\n          <v-alert\n            v-model=\"showError\"\n            type=\"error\"\n            dismissible\n          >\n            {{\n              this.errormm\n            }}\n          </v-alert>\n          <v-alert\n            v-model=\"successBool\"\n            type=\"success\"\n            dismissible\n            transition=\"scale-transition\"\n          >\n            {{ this.successMsg }}\n          </v-alert>\n\n          <v-card\n            class=\"elevation-9 pa-3\"\n            color=\"#ffffff\"\n          >\n            <v-card-text>\n              <div class=\"layout column align-center\">\n                <img\n                  src=\"../../../assets/D._S._Senanayake_College_crest.png\"\n                  alt=\"DUC logo\"\n                  width=\"120\"\n                  height=\"120\"\n                >\n                <h1 class=\"flex my-4 primary--text\">\n                  Login\n                </h1>\n              </div>\n              <v-form>\n                <v-text-field\n                  v-model=\"email\"\n                  append-icon=\"email\"\n                  name=\"email\"\n                  label=\"E-mail\"\n                  type=\"email\"\n                />\n                <v-text-field\n                  id=\"password\"\n                  v-model=\"password\"\n                  append-icon=\"lock\"\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  @keyup.enter.native=\"login\"\n                />\n              </v-form>\n            </v-card-text>\n            <v-card-actions>\n              <v-btn\n                block\n                color=\"primary\"\n                @click=\"login\"\n              >\n                Login\n              </v-btn>\n            </v-card-actions>\n            <v-card-actions />\n            <v-card-actions>\n              <v-btn\n                block\n                outlined\n                color=\"red\"\n                @click=\"howTo\"\n              >\n                <!-- <img\n                  src=\"../../../assets/google.svg\"\n                  alt=\"DUC logo\"\n                  width=\"20\"\n                  height=\"20\"\n                > -->\n                How to Signin ?\n              </v-btn>\n            </v-card-actions>\n            <v-card-actions>\n              <v-btn\n                block\n                color=\"warning\"\n                disabled\n                @click=\"register\"\n              >\n                Register\n              </v-btn>\n            </v-card-actions>\n            <a @click=\"reset\">Reset Password</a>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\n\n/* eslint-disable no-unused-vars */\n  import db from './api/firebaseInit'\n  import firebase from 'firebase'\n  import Vue from 'vue'\n  import VueCookies from 'vue-cookies'\n  import VueParticles from 'vue-particles'\n  import VueSimpleAlert from 'vue-simple-alert'\n  Vue.use(VueSimpleAlert)\n  Vue.use(VueParticles)\n  Vue.use(VueCookies)\n  export default {\n    data: () => ({\n      loading: false,\n      email: '',\n      password: '',\n      showError: false,\n      errormm: ' ',\n      successMsg: '',\n      successBool: false,\n    }),\n    // watch: {\n    //   loader () {\n    //     const l = this.loader\n    //     this[l] = !this[l]\n    //     setTimeout(() => {\n    //       this[l] = false\n    //     }, 3000)\n    //     this.loader = null\n    //   },\n    // },\n    mounted () {\n      // //console.log(VueCookies.isKey('user'));\n      this.showError = false\n      this.successBool = false\n      if (VueCookies.isKey('user')) { // check if logged in\n        this.$router.push('/')\n      }\n    },\n    methods: {\n\n      login: function (e) {\n        firebase\n          .auth()\n          .signInWithEmailAndPassword(this.email, this.password)\n          .then(\n            user => {\n              VueCookies.config('7d')\n              this.showError = false\n              this.successMsg = 'Login Success'\n              this.successBool = true\n              const uid = firebase.auth().currentUser.uid\n              // console.log(uid)\n\n              const userDetails = db\n                .collection('userDetails')\n                .doc(uid)\n                .get()\n                .then(doc => {\n                  if (doc.exists) {\n                    e = doc.data().folderName\n                    VueCookies.set('user', uid)\n                    VueCookies.set('folderID', e)\n                    VueCookies.set('userEmail', this.email)\n                    this.$router.push('/')\n                  } else {\n                    this.successBool = false\n                    this.$alert('Contact Admin', '', 'warning')\n                    this.$router.push('/Login')\n                  }\n                })\n                .catch(err => {\n                  const error = err\n                // //console.log('Error getting document', err);\n                })\n            },\n            err => {\n              // alert(err.message);\n              // this.errormm = err.message\n              // this.showError = true\n              this.$alert(err.message, '', 'error')\n              this.$router.push('/Login')\n            },\n          )\n        e.preventDefault()\n      },\n      register: function (e) {\n      //   this.$router.push('/register')\n      },\n      reset: function (e) {\n        this.$alert('Can`t reset the password by yourselves. Contact Admin', '', 'warning')\n      //   const auth = firebase.auth()\n      //   const emailAddress = this.email\n      //   //console.log(this.email)\n\n      //   auth.sendPasswordResetEmail(emailAddress).then(() => {\n      //     // Email sent.\n      //     // //console.log('sent');\n      //     // alert('Success! Please check your email inbox');\n      //     this.$alert('Success!', 'Please check your email inbox', 'success')\n      //   }).catch(err => {\n      //     const error = err\n      //     this.$alert('Error!', 'Please check your email', 'error')\n      //   // //console.log('Error getting document', err);\n      //   })\n      },\n      howTo: function (e) {\n        this.$alert('All usernames and passwords have been given to the class teachers. You can get your class credentials from your  class teacher', '', 'success')\n      },\n    },\n  }\n</script>\n<style scoped lang=\"css\">\n#login {\n  height: 50%;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  content: \"\";\n  z-index: 0;\n}\n.centered-input input {\n  text-align: center\n}\n</style>\n"]}]}