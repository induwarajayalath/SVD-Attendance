{"remainingRequest":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\src\\views\\dashboard\\homePage\\Login.vue?vue&type=style&index=0&id=84ae9906&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\src\\views\\dashboard\\homePage\\Login.vue","mtime":1586070640651},{"path":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\GitHub\\DS_Portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQojbG9naW4gew0KICBoZWlnaHQ6IDUwJTsNCiAgd2lkdGg6IDEwMCU7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAwOw0KICBsZWZ0OiAwOw0KICBjb250ZW50OiAiIjsNCiAgei1pbmRleDogMDsNCn0NCi5jZW50ZXJlZC1pbnB1dCBpbnB1dCB7DQogIHRleHQtYWxpZ246IGNlbnRlcg0KfQ0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/dashboard/homePage","sourcesContent":["\r\n<template>\r\n  <v-app>\r\n    <v-content\r\n      id=\"login\"\r\n      :bg=\"false\"\r\n    >\r\n      <vue-particles\r\n        color=\"#000044\"\r\n        :particle-opacity=\"0.3\"\r\n        :particles-number=\"120\"\r\n        shape-type=\"circle\"\r\n        :particle-size=\"6\"\r\n        lines-color=\"#FFA000\"\r\n        :lines-width=\"2\"\r\n        :line-linked=\"true\"\r\n        :line-opacity=\"0.4\"\r\n        :lines-distance=\"100\"\r\n        :move-speed=\"3\"\r\n        :hover-effect=\"true\"\r\n        hover-mode=\"grab\"\r\n        :click-effect=\"true\"\r\n        click-mode=\"repulse\"\r\n      />\r\n    </v-content>\r\n    <v-container\r\n      class=\"fill-height\"\r\n      fluid\r\n    >\r\n      <v-row\r\n        align=\"center\"\r\n        justify=\"center\"\r\n      >\r\n        <v-col\r\n          cols=\"12\"\r\n          sm=\"8\"\r\n          md=\"4\"\r\n          lg=\"3\"\r\n        >\r\n          <v-alert\r\n            v-model=\"showError\"\r\n            type=\"error\"\r\n            dismissible\r\n          >\r\n            {{\r\n              this.errormm\r\n            }}\r\n          </v-alert>\r\n          <v-alert\r\n            v-model=\"successBool\"\r\n            type=\"success\"\r\n            dismissible\r\n            transition=\"scale-transition\"\r\n          >\r\n            {{ this.successMsg }}\r\n          </v-alert>\r\n\r\n          <v-card\r\n            class=\"elevation-9 pa-3\"\r\n            color=\"#ffffff\"\r\n          >\r\n            <v-card-text>\r\n              <div class=\"layout column align-center\">\r\n                <img\r\n                  src=\"../../../assets/D._S._Senanayake_College_crest.png\"\r\n                  alt=\"DUC logo\"\r\n                  width=\"120\"\r\n                  height=\"120\"\r\n                >\r\n                <h1 class=\"flex my-4 primary--text\">\r\n                  Login\r\n                </h1>\r\n              </div>\r\n              <v-form>\r\n                <v-text-field\r\n                  v-model=\"email\"\r\n                  append-icon=\"email\"\r\n                  name=\"email\"\r\n                  label=\"E-mail\"\r\n                  type=\"email\"\r\n                />\r\n                <v-text-field\r\n                  id=\"password\"\r\n                  v-model=\"password\"\r\n                  append-icon=\"lock\"\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                />\r\n              </v-form>\r\n            </v-card-text>\r\n            <v-card-actions>\r\n              <v-btn\r\n                block\r\n                color=\"primary\"\r\n                @click=\"login\"\r\n              >\r\n                Login\r\n              </v-btn>\r\n            </v-card-actions>\r\n            <v-card-actions>\r\n              <v-card-text class=\"text-lg-center text-sm-center\">\r\n                OR\r\n              </v-card-text>\r\n            </v-card-actions>\r\n            <v-card-actions>\r\n              <v-btn\r\n                block\r\n                outlined\r\n                color=\"red\"\r\n                disabled\r\n                @click=\"googleLogin\"\r\n              >\r\n                <img\r\n                  src=\"../../../assets/google.svg\"\r\n                  alt=\"DUC logo\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                >Google Signin\r\n              </v-btn>\r\n            </v-card-actions>\r\n            <v-card-actions>\r\n              <v-btn\r\n                block\r\n                color=\"warning\"\r\n                disabled\r\n                @click=\"register\"\r\n              >\r\n                Register\r\n              </v-btn>\r\n            </v-card-actions>\r\n            <a @click=\"reset\">Reset Password</a>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\n\r\n/* eslint-disable no-unused-vars */\r\n  import db from './api/firebaseInit'\r\n  import firebase from 'firebase'\r\n  import Vue from 'vue'\r\n  import VueCookies from 'vue-cookies'\r\n  import VueParticles from 'vue-particles'\r\n  import VueSimpleAlert from 'vue-simple-alert'\r\n  Vue.use(VueSimpleAlert)\r\n  Vue.use(VueParticles)\r\n  Vue.use(VueCookies)\r\n  export default {\r\n    data: () => ({\r\n      loading: false,\r\n      email: '',\r\n      password: '',\r\n      showError: false,\r\n      errormm: ' ',\r\n      successMsg: '',\r\n      successBool: false,\r\n    }),\r\n    // watch: {\r\n    //   loader () {\r\n    //     const l = this.loader\r\n    //     this[l] = !this[l]\r\n    //     setTimeout(() => {\r\n    //       this[l] = false\r\n    //     }, 3000)\r\n    //     this.loader = null\r\n    //   },\r\n    // },\r\n    mounted () {\r\n      // console.log(VueCookies.isKey('user'));\r\n      this.showError = false\r\n      this.successBool = false\r\n      if (VueCookies.isKey('user')) { // check if logged in\r\n        this.$router.push('/')\r\n      }\r\n    },\r\n    methods: {\r\n\r\n      login: function (e) {\r\n        firebase\r\n          .auth()\r\n          .signInWithEmailAndPassword(this.email, this.password)\r\n          .then(\r\n            user => {\r\n              VueCookies.config('1d')\r\n              this.showError = false\r\n              this.successMsg = 'Login Success'\r\n              this.successBool = true\r\n              const uid = firebase.auth().currentUser.uid\r\n              console.log(uid)\r\n              VueCookies.set('user', uid)\r\n              this.$router.push('/')\r\n            },\r\n            err => {\r\n              // alert(err.message);\r\n              // this.errormm = err.message\r\n              // this.showError = true\r\n              this.$alert(err.message, '', 'error')\r\n            },\r\n          )\r\n        e.preventDefault()\r\n      },\r\n      register: function (e) {\r\n      //   this.$router.push('/register')\r\n      },\r\n      reset: function (e) {\r\n        this.$alert('Contact Admin', '', 'warning')\r\n      //   const auth = firebase.auth()\r\n      //   const emailAddress = this.email\r\n      //   console.log(this.email)\r\n\r\n      //   auth.sendPasswordResetEmail(emailAddress).then(() => {\r\n      //     // Email sent.\r\n      //     // console.log('sent');\r\n      //     // alert('Success! Please check your email inbox');\r\n      //     this.$alert('Success!', 'Please check your email inbox', 'success')\r\n      //   }).catch(err => {\r\n      //     const error = err\r\n      //     this.$alert('Error!', 'Please check your email', 'error')\r\n      //   // console.log('Error getting document', err);\r\n      //   })\r\n      },\r\n      googleLogin: function (e) {\r\n      //   const provider = new firebase.auth.GoogleAuthProvider()\r\n      //   firebase\r\n      //     .auth()\r\n      //     .signInWithPopup(provider)\r\n      //     .then(\r\n      //       user => {\r\n      //         VueCookies.config('1d')\r\n      //         this.showError = false\r\n      //         this.successBool = true\r\n      //         this.successMsg = 'You are logged in as- ' + this.email\r\n      //         const uid = firebase.auth().currentUser.uid\r\n      //         VueCookies.set('uid', uid)\r\n      //         // // console.log(user.additionalUserInfo.isNewUser);\r\n      //         VueCookies.set('picURL', user.additionalUserInfo.profile.picture)\r\n      //         VueCookies.set('email', user.additionalUserInfo.profile.email)\r\n      //         VueCookies.set('fname', user.additionalUserInfo.profile.given_name)\r\n      //         VueCookies.set('lname', user.additionalUserInfo.profile.family_name,\r\n      //         )\r\n      //         if (user.additionalUserInfo.isNewUser) {\r\n      //           this.$router.push('/registerGoogle')\r\n      //         } else {\r\n      //           const userDetails = db\r\n      //             .collection('userDetails')\r\n      //             .doc(uid)\r\n      //             .get()\r\n      //             .then(doc => {\r\n      //               if (doc.exists) {\r\n      //                 // // console.log('user data:', doc.data());\r\n      //                 VueCookies.set('user', uid)\r\n      //                 VueCookies.set('address', doc.data().address)\r\n      //                 VueCookies.set('phone', doc.data().phone)\r\n      //                 VueCookies.set('nic', doc.data().nic)\r\n      //                 VueCookies.set('dob', doc.data().dob)\r\n      //                 // // console.log(doc.data()['status']);\r\n      //                 // if (doc.data()['status'] !== '1') {\r\n      //                 // // console.log('Non verified user');\r\n      //                 // VueCookies.set('status', doc.data()['status']);\r\n      //                 // this.$router.push('/registerVerifyPhone');\r\n      //                 // } else {\r\n      //                 this.$router.push('/News')\r\n      //               // }\r\n      //               } else {\r\n      //                 this.$router.push('/registerGoogle')\r\n      //               }\r\n      //             })\r\n      //             .catch(err => {\r\n      //               const error = err\r\n      //             // console.log('New User Babe', err);\r\n      //             })\r\n      //         }\r\n      //       },\r\n      //       err => {\r\n      //         // alert(err.message);\r\n      //         this.errormm = err.message\r\n      //         this.showError = true\r\n      //       },\r\n      //     )\r\n      //   e.preventDefault()\r\n      },\r\n    },\r\n  }\r\n</script>\r\n<style scoped lang=\"css\">\r\n#login {\r\n  height: 50%;\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  content: \"\";\r\n  z-index: 0;\r\n}\r\n.centered-input input {\r\n  text-align: center\r\n}\r\n</style>\r\n"]}]}