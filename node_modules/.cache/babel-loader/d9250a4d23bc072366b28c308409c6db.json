{"remainingRequest":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/babel-loader/lib/index.js!/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/src/views/dashboard/homePage/drive/googledrive.js","dependencies":[{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/src/views/dashboard/homePage/drive/googledrive.js","mtime":1586164331675},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1586073572494},{"path":"/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":1586073572302}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ2dvb2dsZWFwaXMnKSwKICAgIGdvb2dsZSA9IF9yZXF1aXJlLmdvb2dsZTsKCnZhciB0b2tlbm4gPSB7CiAgYWNjZXNzX3Rva2VuOiAneWEyOS5hMEFlNGx2QzNWOG5sb2s0UVJJTGtHRkZEZGlHd2JRTmxMMTQ1eXJtaXBZaVMxbGlpMnhTS3d6Y25ERmt3RS0zb0kxMjJlYldGMG1maDNCS0R5R2tKRmJtQUhzZjFsSlpteVlTSFRpQVR3NG1XWk44alVaSGVhTnlRSE55X1JvOGpLSkxjVlRQVU84LWRSRVZIV1NWeWdRUHVqQ0F3ZTBzQlhLSncnLAogIHJlZnJlc2hfdG9rZW46ICcxLy8wZ21OUlJwdWl4Yzg4Q2dZSUFSQUFHQkFTTndGLUw5SXIzNmdlZ3ZiNklFeTdtSnBMR2pHSU5mLWJoU2wwelVCMU9zaUwzaG1UeFNCUVE4UGl4NU1GN2hOUmZwWlpHVlU2VHFJJywKICBzY29wZTogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZHJpdmUnLAogIHRva2VuX3R5cGU6ICdCZWFyZXInLAogIGV4cGlyeV9kYXRlOiAxNTg2MTA0ODI5MTI0Cn07CnZhciBjcmVkID0gewogIGluc3RhbGxlZDogewogICAgY2xpZW50X2lkOiAnNzAzMzc0NjUxNTE4LXQ2NWlrNWd1aTNuaXJkcTJoNXVkcmlxdjJudmg2bHVpLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJywKICAgIHByb2plY3RfaWQ6ICdkcy1wb3J0YWwtMTU4NTk0NzQ2NzQzNicsCiAgICBhdXRoX3VyaTogJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoJywKICAgIHRva2VuX3VyaTogJ2h0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuJywKICAgIGF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybDogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cycsCiAgICBjbGllbnRfc2VjcmV0OiAneW56TmVtOEsteXdpVEJmcmFiSmZhLVFxJywKICAgIHJlZGlyZWN0X3VyaXM6IFsndXJuOmlldGY6d2c6b2F1dGg6Mi4wOm9vYicsICdodHRwOi8vbG9jYWxob3N0J10KICB9Cn07CgpmdW5jdGlvbiBnb29nbGVEcml2ZVJ1bihmdW5jdGlvbk5hbWUsIGRhdGEsIGNhbGxiYWNrKSB7CiAgYXV0aG9yaXplKGNyZWQsIGZ1bmN0aW9uIChvQXV0aDJDbGllbnQpIHsKICAgIHN3aXRjaCAoZnVuY3Rpb25OYW1lKSB7CiAgICAgIGNhc2UgJ2NyZWF0ZUZvbGRlcic6CiAgICAgICAgY3JlYXRlRm9sZGVyKG9BdXRoMkNsaWVudCwgZGF0YS5mb2xkZXJOYW1lLCBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSkgewogICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdnZXRGaWxlTGlzdCc6CiAgICAgICAgZ2V0RmlsZUxpc3Qob0F1dGgyQ2xpZW50LCBkYXRhLnBhZ2VUb2tlbiwgZGF0YS5xLCBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSkgewogICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGJyZWFrOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBhdXRob3JpemUoY3JlZGVudGlhbHMsIGNhbGxiYWNrKSB7CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZQogIHZhciBfY3JlZGVudGlhbHMkaW5zdGFsbGUgPSBjcmVkZW50aWFscy5pbnN0YWxsZWQsCiAgICAgIGNsaWVudF9zZWNyZXQgPSBfY3JlZGVudGlhbHMkaW5zdGFsbGUuY2xpZW50X3NlY3JldCwKICAgICAgY2xpZW50X2lkID0gX2NyZWRlbnRpYWxzJGluc3RhbGxlLmNsaWVudF9pZCwKICAgICAgcmVkaXJlY3RfdXJpcyA9IF9jcmVkZW50aWFscyRpbnN0YWxsZS5yZWRpcmVjdF91cmlzOwogIHZhciBvQXV0aDJDbGllbnQgPSBuZXcgZ29vZ2xlLmF1dGguT0F1dGgyKGNsaWVudF9pZCwgY2xpZW50X3NlY3JldCwgcmVkaXJlY3RfdXJpc1swXSk7CiAgb0F1dGgyQ2xpZW50LnNldENyZWRlbnRpYWxzKHRva2Vubik7CiAgY2FsbGJhY2sob0F1dGgyQ2xpZW50KTsKfQoKZnVuY3Rpb24gY3JlYXRlRm9sZGVyKGF1dGgsIGZvbGRlck5hbWUsIGNhbGxiYWNrKSB7CiAgdmFyIGRyaXZlID0gZ29vZ2xlLmRyaXZlKHsKICAgIHZlcnNpb246ICd2MycsCiAgICBhdXRoOiBhdXRoCiAgfSk7CiAgdmFyIGZpbGVNZXRhZGF0YSA9IHsKICAgIG5hbWU6IGZvbGRlck5hbWUsCiAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL3ZuZC5nb29nbGUtYXBwcy5mb2xkZXInLAogICAgcGFyZW50czogWycxNU1FOFlVM3c5UEIxLWF0cTFaTTh1NGVRcHVjS01JaWonXQogIH07CiAgZHJpdmUuZmlsZXMuY3JlYXRlKHsKICAgIHJlc291cmNlOiBmaWxlTWV0YWRhdGEsCiAgICBmaWVsZHM6ICdpZCcKICB9LCBmdW5jdGlvbiAoZXJyLCBmaWxlKSB7CiAgICBpZiAoZXJyKSB7CiAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7CiAgICB9IGVsc2UgewogICAgICBjYWxsYmFjayhudWxsLCB7CiAgICAgICAgZm9sZGVySWQ6IGZpbGUuZGF0YS5pZAogICAgICB9KTsKICAgIH0KICB9KTsKfQoKZnVuY3Rpb24gZ2V0RmlsZUxpc3QoYXV0aCwgcGFnZVRva2VuLCB2YWwsIGNhbGxiYWNrKSB7CiAgdmFyIGRyaXZlID0gZ29vZ2xlLmRyaXZlKHsKICAgIHZlcnNpb246ICd2MycsCiAgICBhdXRoOiBhdXRoCiAgfSk7CiAgZHJpdmUuZmlsZXMubGlzdCh7CiAgICBjb3Jwb3JhOiAndXNlcicsCiAgICBwYWdlU2l6ZTogMTAsCiAgICBxOiB2YWwsCiAgICBwYWdlVG9rZW46IHBhZ2VUb2tlbiB8fCAnJywKICAgIGZpZWxkczogJ25leHRQYWdlVG9rZW4sIGZpbGVzKCopJwogIH0sIGZ1bmN0aW9uIChlcnIsIHJlcykgewogICAgaWYgKGVycikgewogICAgICBjYWxsYmFjayhlcnIsIG51bGwpOwogICAgICBjb25zb2xlLmxvZygnVGhlIEFQSSByZXR1cm5lZCBhbiBlcnJvcjogJyArIGVycik7CiAgICB9IGVsc2UgewogICAgICBjYWxsYmFjayhudWxsLCByZXMpOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBwcm9jZXNzTGlzdChmaWxlcykgewogIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nLi4uLicpOwogIHZhciBmaWxlTGlzdCA9IHt9OwogIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgIGZpbGVMaXN0W2ZpbGUuaWRdID0ge307CiAgICBmaWxlTGlzdFtmaWxlLmlkXS5uYW1lID0gZmlsZS5uYW1lOwogICAgZmlsZUxpc3RbZmlsZS5pZF0udHlwZSA9IGZpbGUubWltZVR5cGUgPT09ICdhcHBsaWNhdGlvbi92bmQuZ29vZ2xlLWFwcHMuZm9sZGVyJyA/ICdmb2xkZXInIDogJ2ZpbGUnOwogICAgZmlsZUxpc3RbZmlsZS5pZF0ud2ViQ29udGVudExpbmsgPSBmaWxlLndlYkNvbnRlbnRMaW5rID8gZmlsZS53ZWJDb250ZW50TGluayA6IG51bGw7CiAgICBmaWxlTGlzdFtmaWxlLmlkXS5jcmVhdGVkVGltZSA9IGZpbGUuY3JlYXRlZFRpbWU7CiAgfSk7CiAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZmlsZUxpc3QpKTsKfQovKioNCiAqIFJVTg0KICovCi8vIGNvbnN0IGNyZWF0ZUZvbGRlckRhdGEgPSB7Ci8vICAgZm9sZGVyTmFtZTogJ0ZvbGRlciBvbmUnCi8vIH0KLy8gZ29vZ2xlRHJpdmVSdW4oJ2NyZWF0ZUZvbGRlcicsIGNyZWF0ZUZvbGRlckRhdGEsIChlcnIsIHJlc3BvbnNlKSA9PiB7Ci8vICAgaWYgKGVycikgewovLyAgICAgY29uc29sZS5sb2coJ2NyZWF0ZUZvbGRlciBlcnJvcjogJywgZXJyKQovLyAgIH0gZWxzZSB7Ci8vICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKLy8gICB9Ci8vIH0pCgoKdmFyIGdldEZpbGVMaXN0RGF0YSA9IHsKICBwYWdlVG9rZW46ICcnLAogIHE6ICJwYXJlbnRzPScwQUJiM3pTVzhWUXpCVWs5UFZBJyIKfTsKZ29vZ2xlRHJpdmVSdW4oJ2dldEZpbGVMaXN0JywgZ2V0RmlsZUxpc3REYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSkgewogIGlmIChlcnIpIHsKICAgIGNvbnNvbGUubG9nKCdnZXRGaWxlTGlzdCBlcnJvcjogJywgZXJyKTsKICB9IGVsc2UgewogICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5maWxlcyk7CiAgICBwcm9jZXNzTGlzdChyZXNwb25zZS5kYXRhLmZpbGVzKTsKICB9Cn0pOwptb2R1bGUuZXhwb3J0cyA9IGdvb2dsZURyaXZlUnVuOyAvLyBleHBvcnQgZGVmYXVsdCBnb29nbGVEcml2ZVJ1bg=="},{"version":3,"sources":["/home/induwara/GenixLabs/DSportal/vuetify-material-dashboard/src/views/dashboard/homePage/drive/googledrive.js"],"names":["require","google","tokenn","access_token","refresh_token","scope","token_type","expiry_date","cred","installed","client_id","project_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_secret","redirect_uris","googleDriveRun","functionName","data","callback","authorize","oAuth2Client","createFolder","folderName","err","response","getFileList","pageToken","q","credentials","auth","OAuth2","setCredentials","drive","version","fileMetadata","name","mimeType","parents","files","create","resource","fields","file","folderId","id","val","list","corpora","pageSize","res","console","log","processList","fileList","forEach","type","webContentLink","createdTime","JSON","stringify","getFileListData","module","exports"],"mappings":";;;;;;eACmBA,OAAO,CAAC,YAAD,C;IAAlBC,M,YAAAA,M;;AAER,IAAMC,MAAM,GAAG;AAAEC,EAAAA,YAAY,EAAE,4KAAhB;AAA8LC,EAAAA,aAAa,EAAE,yGAA7M;AAAwTC,EAAAA,KAAK,EAAE,uCAA/T;AAAwWC,EAAAA,UAAU,EAAE,QAApX;AAA8XC,EAAAA,WAAW,EAAE;AAA3Y,CAAf;AACA,IAAMC,IAAI,GAAG;AAAEC,EAAAA,SAAS,EAAE;AAAEC,IAAAA,SAAS,EAAE,0EAAb;AAAyFC,IAAAA,UAAU,EAAE,yBAArG;AAAgIC,IAAAA,QAAQ,EAAE,2CAA1I;AAAuLC,IAAAA,SAAS,EAAE,qCAAlM;AAAyOC,IAAAA,2BAA2B,EAAE,4CAAtQ;AAAoTC,IAAAA,aAAa,EAAE,0BAAnU;AAA+VC,IAAAA,aAAa,EAAE,CAAC,2BAAD,EAA8B,kBAA9B;AAA9W;AAAb,CAAb;;AAEA,SAASC,cAAT,CAAyBC,YAAzB,EAAuCC,IAAvC,EAA6CC,QAA7C,EAAuD;AACjDC,EAAAA,SAAS,CAACb,IAAD,EAAO,UAAAc,YAAY,EAAI;AAC9B,YAAQJ,YAAR;AACE,WAAK,cAAL;AACEK,QAAAA,YAAY,CAACD,YAAD,EAAeH,IAAI,CAACK,UAApB,EAAgC,UAACC,GAAD,EAAMC,QAAN,EAAmB;AAC7DN,UAAAA,QAAQ,CAACK,GAAD,EAAMC,QAAN,CAAR;AACD,SAFW,CAAZ;AAGA;;AACF,WAAK,aAAL;AACEC,QAAAA,WAAW,CAACL,YAAD,EAAeH,IAAI,CAACS,SAApB,EAA+BT,IAAI,CAACU,CAApC,EAAuC,UAACJ,GAAD,EAAMC,QAAN,EAAmB;AACnEN,UAAAA,QAAQ,CAACK,GAAD,EAAMC,QAAN,CAAR;AACD,SAFU,CAAX;AAGA;;AAEF;AACE;AAbJ;AAeD,GAhBQ,CAAT;AAiBL;;AAED,SAASL,SAAT,CAAoBS,WAApB,EAAiCV,QAAjC,EAA2C;AACzC;AADyC,8BAEWU,WAAW,CAACrB,SAFvB;AAAA,MAEjCM,aAFiC,yBAEjCA,aAFiC;AAAA,MAElBL,SAFkB,yBAElBA,SAFkB;AAAA,MAEPM,aAFO,yBAEPA,aAFO;AAGzC,MAAMM,YAAY,GAAG,IAAIrB,MAAM,CAAC8B,IAAP,CAAYC,MAAhB,CAAuBtB,SAAvB,EAAkCK,aAAlC,EAAiDC,aAAa,CAAC,CAAD,CAA9D,CAArB;AAEIM,EAAAA,YAAY,CAACW,cAAb,CAA4B/B,MAA5B;AACAkB,EAAAA,QAAQ,CAACE,YAAD,CAAR;AACL;;AAED,SAASC,YAAT,CAAuBQ,IAAvB,EAA6BP,UAA7B,EAAyCJ,QAAzC,EAAmD;AACjD,MAAMc,KAAK,GAAGjC,MAAM,CAACiC,KAAP,CAAa;AAAEC,IAAAA,OAAO,EAAE,IAAX;AAAiBJ,IAAAA,IAAI,EAAJA;AAAjB,GAAb,CAAd;AACA,MAAIK,YAAY,GAAG;AACjBC,IAAAA,IAAI,EAAEb,UADW;AAEjBc,IAAAA,QAAQ,EAAE,oCAFO;AAGjBC,IAAAA,OAAO,EAAE,CAAC,mCAAD;AAHQ,GAAnB;AAKAL,EAAAA,KAAK,CAACM,KAAN,CAAYC,MAAZ,CACE;AACEC,IAAAA,QAAQ,EAAEN,YADZ;AAEEO,IAAAA,MAAM,EAAE;AAFV,GADF,EAKE,UAAUlB,GAAV,EAAemB,IAAf,EAAqB;AACnB,QAAInB,GAAJ,EAAS;AACPL,MAAAA,QAAQ,CAACK,GAAD,EAAM,IAAN,CAAR;AACD,KAFD,MAEO;AACLL,MAAAA,QAAQ,CAAC,IAAD,EAAO;AAAEyB,QAAAA,QAAQ,EAAED,IAAI,CAACzB,IAAL,CAAU2B;AAAtB,OAAP,CAAR;AACD;AACF,GAXH;AAaD;;AAED,SAASnB,WAAT,CAAsBI,IAAtB,EAA4BH,SAA5B,EAAuCmB,GAAvC,EAA4C3B,QAA5C,EAAsD;AACpD,MAAMc,KAAK,GAAGjC,MAAM,CAACiC,KAAP,CAAa;AAAEC,IAAAA,OAAO,EAAE,IAAX;AAAiBJ,IAAAA,IAAI,EAAJA;AAAjB,GAAb,CAAd;AACAG,EAAAA,KAAK,CAACM,KAAN,CAAYQ,IAAZ,CACE;AACEC,IAAAA,OAAO,EAAE,MADX;AAEEC,IAAAA,QAAQ,EAAE,EAFZ;AAGErB,IAAAA,CAAC,EAAEkB,GAHL;AAIEnB,IAAAA,SAAS,EAAEA,SAAS,IAAI,EAJ1B;AAKEe,IAAAA,MAAM,EAAE;AALV,GADF,EAQE,UAAClB,GAAD,EAAM0B,GAAN,EAAc;AACZ,QAAI1B,GAAJ,EAAS;AACPL,MAAAA,QAAQ,CAACK,GAAD,EAAM,IAAN,CAAR;AACA2B,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAgC5B,GAA5C;AACD,KAHD,MAGO;AACLL,MAAAA,QAAQ,CAAC,IAAD,EAAO+B,GAAP,CAAR;AACD;AACF,GAfH;AAiBD;;AAED,SAASG,WAAT,CAAsBd,KAAtB,EAA6B;AAC3BY,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEA,MAAIE,QAAQ,GAAG,EAAf;AACAf,EAAAA,KAAK,CAACgB,OAAN,CAAc,UAAAZ,IAAI,EAAI;AACpBW,IAAAA,QAAQ,CAACX,IAAI,CAACE,EAAN,CAAR,GAAoB,EAApB;AACAS,IAAAA,QAAQ,CAACX,IAAI,CAACE,EAAN,CAAR,CAAkBT,IAAlB,GAAyBO,IAAI,CAACP,IAA9B;AACAkB,IAAAA,QAAQ,CAACX,IAAI,CAACE,EAAN,CAAR,CAAkBW,IAAlB,GAAyBb,IAAI,CAACN,QAAL,KAAkB,oCAAlB,GAAyD,QAAzD,GAAoE,MAA7F;AACAiB,IAAAA,QAAQ,CAACX,IAAI,CAACE,EAAN,CAAR,CAAkBY,cAAlB,GAAmCd,IAAI,CAACc,cAAL,GAAsBd,IAAI,CAACc,cAA3B,GAA4C,IAA/E;AACAH,IAAAA,QAAQ,CAACX,IAAI,CAACE,EAAN,CAAR,CAAkBa,WAAlB,GAAgCf,IAAI,CAACe,WAArC;AACD,GAND;AAOAP,EAAAA,OAAO,CAACC,GAAR,CAAYO,IAAI,CAACC,SAAL,CAAeN,QAAf,CAAZ;AACD;AAED;;;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMO,eAAe,GAAG;AACtBlC,EAAAA,SAAS,EAAE,EADW;AAEtBC,EAAAA,CAAC,EAAE;AAFmB,CAAxB;AAKAZ,cAAc,CAAC,aAAD,EAAgB6C,eAAhB,EAAiC,UAACrC,GAAD,EAAMC,QAAN,EAAmB;AAChE,MAAID,GAAJ,EAAS;AACP2B,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC5B,GAAnC;AACD,GAFD,MAEO;AACL2B,IAAAA,OAAO,CAACC,GAAR,CAAY3B,QAAQ,CAACP,IAAT,CAAcqB,KAA1B;AACAc,IAAAA,WAAW,CAAC5B,QAAQ,CAACP,IAAT,CAAcqB,KAAf,CAAX;AACD;AACF,CAPa,CAAd;AASAuB,MAAM,CAACC,OAAP,GAAiB/C,cAAjB,C,CAEA","sourcesContent":["\r\nconst { google } = require('googleapis')\r\n\r\nconst tokenn = { access_token: 'ya29.a0Ae4lvC3V8nlok4QRILkGFFDdiGwbQNlL145yrmipYiS1lii2xSKwzcnDFkwE-3oI122ebWF0mfh3BKDyGkJFbmAHsf1lJZmyYSHTiATw4mWZN8jUZHeaNyQHNy_Ro8jKJLcVTPUO8-dREVHWSVygQPujCAwe0sBXKJw', refresh_token: '1//0gmNRRpuixc88CgYIARAAGBASNwF-L9Ir36gegvb6IEy7mJpLGjGINf-bhSl0zUB1OsiL3hmTxSBQQ8Pix5MF7hNRfpZZGVU6TqI', scope: 'https://www.googleapis.com/auth/drive', token_type: 'Bearer', expiry_date: 1586104829124 }\r\nconst cred = { installed: { client_id: '703374651518-t65ik5gui3nirdq2h5udriqv2nvh6lui.apps.googleusercontent.com', project_id: 'ds-portal-1585947467436', auth_uri: 'https://accounts.google.com/o/oauth2/auth', token_uri: 'https://oauth2.googleapis.com/token', auth_provider_x509_cert_url: 'https://www.googleapis.com/oauth2/v1/certs', client_secret: 'ynzNem8K-ywiTBfrabJfa-Qq', redirect_uris: ['urn:ietf:wg:oauth:2.0:oob', 'http://localhost'] } }\r\n\r\nfunction googleDriveRun (functionName, data, callback) {\r\n      authorize(cred, oAuth2Client => {\r\n        switch (functionName) {\r\n          case 'createFolder':\r\n            createFolder(oAuth2Client, data.folderName, (err, response) => {\r\n              callback(err, response)\r\n            })\r\n            break\r\n          case 'getFileList':\r\n            getFileList(oAuth2Client, data.pageToken, data.q, (err, response) => {\r\n              callback(err, response)\r\n            })\r\n            break\r\n\r\n          default:\r\n            break\r\n        }\r\n      })\r\n}\r\n\r\nfunction authorize (credentials, callback) {\r\n  // eslint-disable-next-line camelcase\r\n  const { client_secret, client_id, redirect_uris } = credentials.installed\r\n  const oAuth2Client = new google.auth.OAuth2(client_id, client_secret, redirect_uris[0])\r\n\r\n      oAuth2Client.setCredentials(tokenn)\r\n      callback(oAuth2Client)\r\n}\r\n\r\nfunction createFolder (auth, folderName, callback) {\r\n  const drive = google.drive({ version: 'v3', auth })\r\n  var fileMetadata = {\r\n    name: folderName,\r\n    mimeType: 'application/vnd.google-apps.folder',\r\n    parents: ['15ME8YU3w9PB1-atq1ZM8u4eQpucKMIij'],\r\n  }\r\n  drive.files.create(\r\n    {\r\n      resource: fileMetadata,\r\n      fields: 'id',\r\n    },\r\n    function (err, file) {\r\n      if (err) {\r\n        callback(err, null)\r\n      } else {\r\n        callback(null, { folderId: file.data.id })\r\n      }\r\n    },\r\n  )\r\n}\r\n\r\nfunction getFileList (auth, pageToken, val, callback) {\r\n  const drive = google.drive({ version: 'v3', auth })\r\n  drive.files.list(\r\n    {\r\n      corpora: 'user',\r\n      pageSize: 10,\r\n      q: val,\r\n      pageToken: pageToken || '',\r\n      fields: 'nextPageToken, files(*)',\r\n    },\r\n    (err, res) => {\r\n      if (err) {\r\n        callback(err, null)\r\n        console.log('The API returned an error: ' + err)\r\n      } else {\r\n        callback(null, res)\r\n      }\r\n    },\r\n  )\r\n}\r\n\r\nfunction processList (files) {\r\n  console.log('Processing....')\r\n\r\n  var fileList = {}\r\n  files.forEach(file => {\r\n    fileList[file.id] = {}\r\n    fileList[file.id].name = file.name\r\n    fileList[file.id].type = file.mimeType === 'application/vnd.google-apps.folder' ? 'folder' : 'file'\r\n    fileList[file.id].webContentLink = file.webContentLink ? file.webContentLink : null\r\n    fileList[file.id].createdTime = file.createdTime\r\n  })\r\n  console.log(JSON.stringify(fileList))\r\n}\r\n\r\n/**\r\n * RUN\r\n */\r\n\r\n// const createFolderData = {\r\n//   folderName: 'Folder one'\r\n// }\r\n\r\n// googleDriveRun('createFolder', createFolderData, (err, response) => {\r\n//   if (err) {\r\n//     console.log('createFolder error: ', err)\r\n//   } else {\r\n//     console.log(response)\r\n//   }\r\n// })\r\n\r\nconst getFileListData = {\r\n  pageToken: '',\r\n  q: \"parents='0ABb3zSW8VQzBUk9PVA'\",\r\n}\r\n\r\ngoogleDriveRun('getFileList', getFileListData, (err, response) => {\r\n  if (err) {\r\n    console.log('getFileList error: ', err)\r\n  } else {\r\n    console.log(response.data.files)\r\n    processList(response.data.files)\r\n  }\r\n})\r\n\r\nmodule.exports = googleDriveRun\r\n\r\n// export default googleDriveRun\r\n"]}]}