{"remainingRequest":"/media/induwara/Data/GenixLabs/SVDattendance/vuetify-material-dashboard/node_modules/thread-loader/dist/cjs.js!/media/induwara/Data/GenixLabs/SVDattendance/vuetify-material-dashboard/node_modules/babel-loader/lib/index.js!/media/induwara/Data/GenixLabs/SVDattendance/vuetify-material-dashboard/node_modules/vuetify/lib/components/VSlider/VSlider.js","dependencies":[{"path":"/media/induwara/Data/GenixLabs/SVDattendance/vuetify-material-dashboard/node_modules/vuetify/lib/components/VSlider/VSlider.js","mtime":1586073576446},{"path":"/media/induwara/Data/GenixLabs/SVDattendance/vuetify-material-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1586073572494},{"path":"/media/induwara/Data/GenixLabs/SVDattendance/vuetify-material-dashboard/node_modules/thread-loader/dist/cjs.js","mtime":1586073576146},{"path":"/media/induwara/Data/GenixLabs/SVDattendance/vuetify-material-dashboard/node_modules/babel-loader/lib/index.js","mtime":1586073572302}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9tZWRpYS9pbmR1d2FyYS9EYXRhL0dlbml4TGFicy9TVkRhdHRlbmRhbmNlL3Z1ZXRpZnktbWF0ZXJpYWwtZGFzaGJvYXJkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9tZWRpYS9pbmR1d2FyYS9EYXRhL0dlbml4TGFicy9TVkRhdHRlbmRhbmNlL3Z1ZXRpZnktbWF0ZXJpYWwtZGFzaGJvYXJkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WU2xpZGVyL1ZTbGlkZXIuc2FzcyI7IC8vIENvbXBvbmVudHMKCmltcG9ydCBWSW5wdXQgZnJvbSAnLi4vVklucHV0JzsKaW1wb3J0IHsgVlNjYWxlVHJhbnNpdGlvbiB9IGZyb20gJy4uL3RyYW5zaXRpb25zJzsgLy8gTWl4aW5zCgppbXBvcnQgbWl4aW5zIGZyb20gJy4uLy4uL3V0aWwvbWl4aW5zJzsKaW1wb3J0IExvYWRhYmxlIGZyb20gJy4uLy4uL21peGlucy9sb2FkYWJsZSc7IC8vIERpcmVjdGl2ZXMKCmltcG9ydCBDbGlja091dHNpZGUgZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9jbGljay1vdXRzaWRlJzsgLy8gSGVscGVycwoKaW1wb3J0IHsgYWRkT25jZUV2ZW50TGlzdGVuZXIsIGRlZXBFcXVhbCwga2V5Q29kZXMsIGNyZWF0ZVJhbmdlLCBjb252ZXJ0VG9Vbml0LCBwYXNzaXZlU3VwcG9ydGVkIH0gZnJvbSAnLi4vLi4vdXRpbC9oZWxwZXJzJzsKaW1wb3J0IHsgY29uc29sZVdhcm4gfSBmcm9tICcuLi8uLi91dGlsL2NvbnNvbGUnOwpleHBvcnQgZGVmYXVsdCBtaXhpbnMoVklucHV0LCBMb2FkYWJsZQovKiBAdnVlL2NvbXBvbmVudCAqLwopLmV4dGVuZCh7CiAgbmFtZTogJ3Ytc2xpZGVyJywKICBkaXJlY3RpdmVzOiB7CiAgICBDbGlja091dHNpZGU6IENsaWNrT3V0c2lkZQogIH0sCiAgbWl4aW5zOiBbTG9hZGFibGVdLAogIHByb3BzOiB7CiAgICBkaXNhYmxlZDogQm9vbGVhbiwKICAgIGludmVyc2VMYWJlbDogQm9vbGVhbiwKICAgIG1heDogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICBtaW46IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHN0ZXA6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIHRodW1iQ29sb3I6IFN0cmluZywKICAgIHRodW1iTGFiZWw6IHsKICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCwKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodikgewogICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nIHx8IHYgPT09ICdhbHdheXMnOwogICAgICB9CiAgICB9LAogICAgdGh1bWJTaXplOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IDMyCiAgICB9LAogICAgdGlja0xhYmVsczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgdGlja3M6IHsKICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2KSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHwgdiA9PT0gJ2Fsd2F5cyc7CiAgICAgIH0KICAgIH0sCiAgICB0aWNrU2l6ZTogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiAyCiAgICB9LAogICAgdHJhY2tDb2xvcjogU3RyaW5nLAogICAgdHJhY2tGaWxsQ29sb3I6IFN0cmluZywKICAgIHZhbHVlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgdmVydGljYWw6IEJvb2xlYW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcHA6IG51bGwsCiAgICAgIG9sZFZhbHVlOiBudWxsLAogICAgICBrZXlQcmVzc2VkOiAwLAogICAgICBpc0ZvY3VzZWQ6IGZhbHNlLAogICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgIG5vQ2xpY2s6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBWSW5wdXQub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcyksIHsKICAgICAgICAndi1pbnB1dF9fc2xpZGVyJzogdHJ1ZSwKICAgICAgICAndi1pbnB1dF9fc2xpZGVyLS12ZXJ0aWNhbCc6IHRoaXMudmVydGljYWwsCiAgICAgICAgJ3YtaW5wdXRfX3NsaWRlci0taW52ZXJzZS1sYWJlbCc6IHRoaXMuaW52ZXJzZUxhYmVsCiAgICAgIH0pOwogICAgfSwKICAgIGludGVybmFsVmFsdWU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubGF6eVZhbHVlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHsKICAgICAgICB2YWwgPSBpc05hTih2YWwpID8gdGhpcy5taW5WYWx1ZSA6IHZhbDsgLy8gUm91bmQgdmFsdWUgdG8gZW5zdXJlIHRoZQogICAgICAgIC8vIGVudGlyZSBzbGlkZXIgcmFuZ2UgY2FuCiAgICAgICAgLy8gYmUgc2VsZWN0ZWQgd2l0aCBzdGVwCgogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucm91bmRWYWx1ZShNYXRoLm1pbihNYXRoLm1heCh2YWwsIHRoaXMubWluVmFsdWUpLCB0aGlzLm1heFZhbHVlKSk7CiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmxhenlWYWx1ZSkgcmV0dXJuOwogICAgICAgIHRoaXMubGF6eVZhbHVlID0gdmFsdWU7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICB0cmFja1RyYW5zaXRpb246IGZ1bmN0aW9uIHRyYWNrVHJhbnNpdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMua2V5UHJlc3NlZCA+PSAyID8gJ25vbmUnIDogJyc7CiAgICB9LAogICAgbWluVmFsdWU6IGZ1bmN0aW9uIG1pblZhbHVlKCkgewogICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLm1pbik7CiAgICB9LAogICAgbWF4VmFsdWU6IGZ1bmN0aW9uIG1heFZhbHVlKCkgewogICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLm1heCk7CiAgICB9LAogICAgc3RlcE51bWVyaWM6IGZ1bmN0aW9uIHN0ZXBOdW1lcmljKCkgewogICAgICByZXR1cm4gdGhpcy5zdGVwID4gMCA/IHBhcnNlRmxvYXQodGhpcy5zdGVwKSA6IDA7CiAgICB9LAogICAgaW5wdXRXaWR0aDogZnVuY3Rpb24gaW5wdXRXaWR0aCgpIHsKICAgICAgdmFyIHZhbHVlID0gKHRoaXMucm91bmRWYWx1ZSh0aGlzLmludGVybmFsVmFsdWUpIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICogMTAwOwogICAgICByZXR1cm4gdmFsdWU7CiAgICB9LAogICAgdHJhY2tGaWxsU3R5bGVzOiBmdW5jdGlvbiB0cmFja0ZpbGxTdHlsZXMoKSB7CiAgICAgIHZhciBfcmVmOwoKICAgICAgdmFyIHN0YXJ0RGlyID0gdGhpcy52ZXJ0aWNhbCA/ICdib3R0b20nIDogJ2xlZnQnOwogICAgICB2YXIgZW5kRGlyID0gdGhpcy52ZXJ0aWNhbCA/ICd0b3AnIDogJ3JpZ2h0JzsKICAgICAgdmFyIHZhbHVlRGlyID0gdGhpcy52ZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJzsKICAgICAgdmFyIHN0YXJ0ID0gdGhpcy4kdnVldGlmeS5ydGwgPyAnYXV0bycgOiAnMCc7CiAgICAgIHZhciBlbmQgPSB0aGlzLiR2dWV0aWZ5LnJ0bCA/ICcwJyA6ICdhdXRvJzsKICAgICAgdmFyIHZhbHVlID0gdGhpcy5kaXNhYmxlZCA/ICJjYWxjKCIuY29uY2F0KHRoaXMuaW5wdXRXaWR0aCwgIiUgLSAxMHB4KSIpIDogIiIuY29uY2F0KHRoaXMuaW5wdXRXaWR0aCwgIiUiKTsKICAgICAgcmV0dXJuIF9yZWYgPSB7CiAgICAgICAgdHJhbnNpdGlvbjogdGhpcy50cmFja1RyYW5zaXRpb24KICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9yZWYsIHN0YXJ0RGlyLCBzdGFydCksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCBlbmREaXIsIGVuZCksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCB2YWx1ZURpciwgdmFsdWUpLCBfcmVmOwogICAgfSwKICAgIHRyYWNrU3R5bGVzOiBmdW5jdGlvbiB0cmFja1N0eWxlcygpIHsKICAgICAgdmFyIF9yZWYyOwoKICAgICAgdmFyIHN0YXJ0RGlyID0gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuJHZ1ZXRpZnkucnRsID8gJ2JvdHRvbScgOiAndG9wJyA6IHRoaXMuJHZ1ZXRpZnkucnRsID8gJ2xlZnQnIDogJ3JpZ2h0JzsKICAgICAgdmFyIGVuZERpciA9IHRoaXMudmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7CiAgICAgIHZhciBzdGFydCA9ICcwcHgnOwogICAgICB2YXIgZW5kID0gdGhpcy5kaXNhYmxlZCA/ICJjYWxjKCIuY29uY2F0KDEwMCAtIHRoaXMuaW5wdXRXaWR0aCwgIiUgLSAxMHB4KSIpIDogImNhbGMoIi5jb25jYXQoMTAwIC0gdGhpcy5pbnB1dFdpZHRoLCAiJSkiKTsKICAgICAgcmV0dXJuIF9yZWYyID0gewogICAgICAgIHRyYW5zaXRpb246IHRoaXMudHJhY2tUcmFuc2l0aW9uCiAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmMiwgc3RhcnREaXIsIHN0YXJ0KSwgX2RlZmluZVByb3BlcnR5KF9yZWYyLCBlbmREaXIsIGVuZCksIF9yZWYyOwogICAgfSwKICAgIHNob3dUaWNrczogZnVuY3Rpb24gc2hvd1RpY2tzKCkgewogICAgICByZXR1cm4gdGhpcy50aWNrTGFiZWxzLmxlbmd0aCA+IDAgfHwgISEoIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5zdGVwTnVtZXJpYyAmJiB0aGlzLnRpY2tzKTsKICAgIH0sCiAgICBudW1UaWNrczogZnVuY3Rpb24gbnVtVGlja3MoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwoKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSAvIHRoaXMuc3RlcE51bWVyaWMpOwogICAgfSwKICAgIHNob3dUaHVtYkxhYmVsOiBmdW5jdGlvbiBzaG93VGh1bWJMYWJlbCgpIHsKICAgICAgcmV0dXJuICF0aGlzLmRpc2FibGVkICYmICEhKHRoaXMudGh1bWJMYWJlbCB8fCB0aGlzLiRzY29wZWRTbG90c1sndGh1bWItbGFiZWwnXSk7CiAgICB9LAogICAgY29tcHV0ZWRUcmFja0NvbG9yOiBmdW5jdGlvbiBjb21wdXRlZFRyYWNrQ29sb3IoKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm4gdW5kZWZpbmVkOwogICAgICBpZiAodGhpcy50cmFja0NvbG9yKSByZXR1cm4gdGhpcy50cmFja0NvbG9yOwogICAgICBpZiAodGhpcy5pc0RhcmspIHJldHVybiB0aGlzLnZhbGlkYXRpb25TdGF0ZTsKICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvblN0YXRlIHx8ICdwcmltYXJ5IGxpZ2h0ZW4tMyc7CiAgICB9LAogICAgY29tcHV0ZWRUcmFja0ZpbGxDb2xvcjogZnVuY3Rpb24gY29tcHV0ZWRUcmFja0ZpbGxDb2xvcigpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIGlmICh0aGlzLnRyYWNrRmlsbENvbG9yKSByZXR1cm4gdGhpcy50cmFja0ZpbGxDb2xvcjsKICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvblN0YXRlIHx8IHRoaXMuY29tcHV0ZWRDb2xvcjsKICAgIH0sCiAgICBjb21wdXRlZFRodW1iQ29sb3I6IGZ1bmN0aW9uIGNvbXB1dGVkVGh1bWJDb2xvcigpIHsKICAgICAgaWYgKHRoaXMudGh1bWJDb2xvcikgcmV0dXJuIHRoaXMudGh1bWJDb2xvcjsKICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvblN0YXRlIHx8IHRoaXMuY29tcHV0ZWRDb2xvcjsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBtaW46IGZ1bmN0aW9uIG1pbih2YWwpIHsKICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlRmxvYXQodmFsKTsKICAgICAgcGFyc2VkID4gdGhpcy5pbnRlcm5hbFZhbHVlICYmIHRoaXMuJGVtaXQoJ2lucHV0JywgcGFyc2VkKTsKICAgIH0sCiAgICBtYXg6IGZ1bmN0aW9uIG1heCh2YWwpIHsKICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlRmxvYXQodmFsKTsKICAgICAgcGFyc2VkIDwgdGhpcy5pbnRlcm5hbFZhbHVlICYmIHRoaXMuJGVtaXQoJ2lucHV0JywgcGFyc2VkKTsKICAgIH0sCiAgICB2YWx1ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHYpIHsKICAgICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB2OwogICAgICB9CiAgICB9CiAgfSwKICAvLyBJZiBkb25lIGluIGFzIGltbWVkaWF0ZSBpbgogIC8vIHZhbHVlIHdhdGNoZXIsIGNhdXNlcyBpc3N1ZXMKICAvLyB3aXRoIHZ1ZS10ZXN0LXV0aWxzCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdGhpcy52YWx1ZTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBXaXRob3V0IGEgdi1hcHAsIGlPUyBkb2VzIG5vdCB3b3JrIHdpdGggYm9keSBzZWxlY3RvcnMKICAgIHRoaXMuYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYXBwXScpIHx8IGNvbnNvbGVXYXJuKCdNaXNzaW5nIHYtYXBwIG9yIGEgbm9uLWJvZHkgd3JhcHBpbmcgZWxlbWVudCB3aXRoIHRoZSBbZGF0YS1hcHBdIGF0dHJpYnV0ZScsIHRoaXMpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2VuRGVmYXVsdFNsb3Q6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTbG90KCkgewogICAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy5nZW5MYWJlbCgpXTsKICAgICAgdmFyIHNsaWRlciA9IHRoaXMuZ2VuU2xpZGVyKCk7CiAgICAgIHRoaXMuaW52ZXJzZUxhYmVsID8gY2hpbGRyZW4udW5zaGlmdChzbGlkZXIpIDogY2hpbGRyZW4ucHVzaChzbGlkZXIpOwogICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuUHJvZ3Jlc3MoKSk7CiAgICAgIHJldHVybiBjaGlsZHJlbjsKICAgIH0sCiAgICBnZW5TbGlkZXI6IGZ1bmN0aW9uIGdlblNsaWRlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsKICAgICAgICBjbGFzczogX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAndi1zbGlkZXInOiB0cnVlLAogICAgICAgICAgJ3Ytc2xpZGVyLS1ob3Jpem9udGFsJzogIXRoaXMudmVydGljYWwsCiAgICAgICAgICAndi1zbGlkZXItLXZlcnRpY2FsJzogdGhpcy52ZXJ0aWNhbCwKICAgICAgICAgICd2LXNsaWRlci0tZm9jdXNlZCc6IHRoaXMuaXNGb2N1c2VkLAogICAgICAgICAgJ3Ytc2xpZGVyLS1hY3RpdmUnOiB0aGlzLmlzQWN0aXZlLAogICAgICAgICAgJ3Ytc2xpZGVyLS1kaXNhYmxlZCc6IHRoaXMuZGlzYWJsZWQsCiAgICAgICAgICAndi1zbGlkZXItLXJlYWRvbmx5JzogdGhpcy5yZWFkb25seQogICAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKSwKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogJ2NsaWNrLW91dHNpZGUnLAogICAgICAgICAgdmFsdWU6IHRoaXMub25CbHVyCiAgICAgICAgfV0sCiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiB0aGlzLm9uU2xpZGVyQ2xpY2sKICAgICAgICB9CiAgICAgIH0sIHRoaXMuZ2VuQ2hpbGRyZW4oKSk7CiAgICB9LAogICAgZ2VuQ2hpbGRyZW46IGZ1bmN0aW9uIGdlbkNoaWxkcmVuKCkgewogICAgICByZXR1cm4gW3RoaXMuZ2VuSW5wdXQoKSwgdGhpcy5nZW5UcmFja0NvbnRhaW5lcigpLCB0aGlzLmdlblN0ZXBzKCksIHRoaXMuZ2VuVGh1bWJDb250YWluZXIodGhpcy5pbnRlcm5hbFZhbHVlLCB0aGlzLmlucHV0V2lkdGgsIHRoaXMuaXNBY3RpdmUsIHRoaXMuaXNGb2N1c2VkLCB0aGlzLm9uVGh1bWJNb3VzZURvd24sIHRoaXMub25Gb2N1cywgdGhpcy5vbkJsdXIpXTsKICAgIH0sCiAgICBnZW5JbnB1dDogZnVuY3Rpb24gZ2VuSW5wdXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsKICAgICAgICBhdHRyczogX29iamVjdFNwcmVhZCh7CiAgICAgICAgICB2YWx1ZTogdGhpcy5pbnRlcm5hbFZhbHVlLAogICAgICAgICAgaWQ6IHRoaXMuY29tcHV0ZWRJZCwKICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLAogICAgICAgICAgcmVhZG9ubHk6IHRydWUsCiAgICAgICAgICB0YWJpbmRleDogLTEKICAgICAgICB9LCB0aGlzLiRhdHRycykKICAgICAgfSk7CiAgICB9LAogICAgZ2VuVHJhY2tDb250YWluZXI6IGZ1bmN0aW9uIGdlblRyYWNrQ29udGFpbmVyKCkgewogICAgICB2YXIgY2hpbGRyZW4gPSBbdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb21wdXRlZFRyYWNrQ29sb3IsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190cmFjay1iYWNrZ3JvdW5kJywKICAgICAgICBzdHlsZTogdGhpcy50cmFja1N0eWxlcwogICAgICB9KSksIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuY29tcHV0ZWRUcmFja0ZpbGxDb2xvciwgewogICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RyYWNrLWZpbGwnLAogICAgICAgIHN0eWxlOiB0aGlzLnRyYWNrRmlsbFN0eWxlcwogICAgICB9KSldOwogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RyYWNrLWNvbnRhaW5lcicsCiAgICAgICAgcmVmOiAndHJhY2snCiAgICAgIH0sIGNoaWxkcmVuKTsKICAgIH0sCiAgICBnZW5TdGVwczogZnVuY3Rpb24gZ2VuU3RlcHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuc3RlcCB8fCAhdGhpcy5zaG93VGlja3MpIHJldHVybiBudWxsOwogICAgICB2YXIgdGlja1NpemUgPSBwYXJzZUZsb2F0KHRoaXMudGlja1NpemUpOwogICAgICB2YXIgcmFuZ2UgPSBjcmVhdGVSYW5nZSh0aGlzLm51bVRpY2tzICsgMSk7CiAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLnZlcnRpY2FsID8gJ2JvdHRvbScgOiAnbGVmdCc7CiAgICAgIHZhciBvZmZzZXREaXJlY3Rpb24gPSB0aGlzLnZlcnRpY2FsID8gJ3JpZ2h0JyA6ICd0b3AnOwogICAgICBpZiAodGhpcy52ZXJ0aWNhbCkgcmFuZ2UucmV2ZXJzZSgpOwogICAgICB2YXIgdGlja3MgPSByYW5nZS5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICB2YXIgX3N0eWxlOwoKICAgICAgICB2YXIgaW5kZXggPSBfdGhpcy4kdnVldGlmeS5ydGwgPyBfdGhpcy5tYXhWYWx1ZSAtIGkgOiBpOwogICAgICAgIHZhciBjaGlsZHJlbiA9IFtdOwoKICAgICAgICBpZiAoX3RoaXMudGlja0xhYmVsc1tpbmRleF0pIHsKICAgICAgICAgIGNoaWxkcmVuLnB1c2goX3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsKICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlcl9fdGljay1sYWJlbCcKICAgICAgICAgIH0sIF90aGlzLnRpY2tMYWJlbHNbaW5kZXhdKSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgd2lkdGggPSBpICogKDEwMCAvIF90aGlzLm51bVRpY2tzKTsKICAgICAgICB2YXIgZmlsbGVkID0gX3RoaXMuJHZ1ZXRpZnkucnRsID8gMTAwIC0gX3RoaXMuaW5wdXRXaWR0aCA8IHdpZHRoIDogd2lkdGggPCBfdGhpcy5pbnB1dFdpZHRoOwogICAgICAgIHJldHVybiBfdGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIHsKICAgICAgICAgIGtleTogaSwKICAgICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RpY2snLAogICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgJ3Ytc2xpZGVyX190aWNrLS1maWxsZWQnOiBmaWxsZWQKICAgICAgICAgIH0sCiAgICAgICAgICBzdHlsZTogKF9zdHlsZSA9IHsKICAgICAgICAgICAgd2lkdGg6ICIiLmNvbmNhdCh0aWNrU2l6ZSwgInB4IiksCiAgICAgICAgICAgIGhlaWdodDogIiIuY29uY2F0KHRpY2tTaXplLCAicHgiKQogICAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9zdHlsZSwgZGlyZWN0aW9uLCAiY2FsYygiLmNvbmNhdCh3aWR0aCwgIiUgLSAiKS5jb25jYXQodGlja1NpemUgLyAyLCAicHgpIikpLCBfZGVmaW5lUHJvcGVydHkoX3N0eWxlLCBvZmZzZXREaXJlY3Rpb24sICJjYWxjKDUwJSAtICIuY29uY2F0KHRpY2tTaXplIC8gMiwgInB4KSIpKSwgX3N0eWxlKQogICAgICAgIH0sIGNoaWxkcmVuKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LXNsaWRlcl9fdGlja3MtY29udGFpbmVyJywKICAgICAgICBjbGFzczogewogICAgICAgICAgJ3Ytc2xpZGVyX190aWNrcy1jb250YWluZXItLWFsd2F5cy1zaG93JzogdGhpcy50aWNrcyA9PT0gJ2Fsd2F5cycgfHwgdGhpcy50aWNrTGFiZWxzLmxlbmd0aCA+IDAKICAgICAgICB9CiAgICAgIH0sIHRpY2tzKTsKICAgIH0sCiAgICBnZW5UaHVtYkNvbnRhaW5lcjogZnVuY3Rpb24gZ2VuVGh1bWJDb250YWluZXIodmFsdWUsIHZhbHVlV2lkdGgsIGlzQWN0aXZlLCBpc0ZvY3VzZWQsIG9uRHJhZywgb25Gb2N1cywgb25CbHVyKSB7CiAgICAgIHZhciByZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gNyAmJiBhcmd1bWVudHNbN10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s3XSA6ICd0aHVtYic7CiAgICAgIHZhciBjaGlsZHJlbiA9IFt0aGlzLmdlblRodW1iKCldOwogICAgICB2YXIgdGh1bWJMYWJlbENvbnRlbnQgPSB0aGlzLmdlblRodW1iTGFiZWxDb250ZW50KHZhbHVlKTsKICAgICAgdGhpcy5zaG93VGh1bWJMYWJlbCAmJiBjaGlsZHJlbi5wdXNoKHRoaXMuZ2VuVGh1bWJMYWJlbCh0aHVtYkxhYmVsQ29udGVudCkpOwogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRUZXh0Q29sb3IodGhpcy5jb21wdXRlZFRodW1iQ29sb3IsIHsKICAgICAgICByZWY6IHJlZiwKICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190aHVtYi1jb250YWluZXInLAogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAndi1zbGlkZXJfX3RodW1iLWNvbnRhaW5lci0tYWN0aXZlJzogaXNBY3RpdmUsCiAgICAgICAgICAndi1zbGlkZXJfX3RodW1iLWNvbnRhaW5lci0tZm9jdXNlZCc6IGlzRm9jdXNlZCwKICAgICAgICAgICd2LXNsaWRlcl9fdGh1bWItY29udGFpbmVyLS1zaG93LWxhYmVsJzogdGhpcy5zaG93VGh1bWJMYWJlbAogICAgICAgIH0sCiAgICAgICAgc3R5bGU6IHRoaXMuZ2V0VGh1bWJDb250YWluZXJTdHlsZXModmFsdWVXaWR0aCksCiAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgcm9sZTogJ3NsaWRlcicsCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRvbmx5ID8gLTEgOiB0aGlzLiRhdHRycy50YWJpbmRleCA/IHRoaXMuJGF0dHJzLnRhYmluZGV4IDogMCwKICAgICAgICAgICdhcmlhLWxhYmVsJzogdGhpcy5sYWJlbCwKICAgICAgICAgICdhcmlhLXZhbHVlbWluJzogdGhpcy5taW4sCiAgICAgICAgICAnYXJpYS12YWx1ZW1heCc6IHRoaXMubWF4LAogICAgICAgICAgJ2FyaWEtdmFsdWVub3cnOiB0aGlzLmludGVybmFsVmFsdWUsCiAgICAgICAgICAnYXJpYS1yZWFkb25seSc6IFN0cmluZyh0aGlzLnJlYWRvbmx5KSwKICAgICAgICAgICdhcmlhLW9yaWVudGF0aW9uJzogdGhpcy52ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcKICAgICAgICB9LCB0aGlzLiRhdHRycyksCiAgICAgICAgb246IHsKICAgICAgICAgIGZvY3VzOiBvbkZvY3VzLAogICAgICAgICAgYmx1cjogb25CbHVyLAogICAgICAgICAga2V5ZG93bjogdGhpcy5vbktleURvd24sCiAgICAgICAgICBrZXl1cDogdGhpcy5vbktleVVwLAogICAgICAgICAgdG91Y2hzdGFydDogb25EcmFnLAogICAgICAgICAgbW91c2Vkb3duOiBvbkRyYWcKICAgICAgICB9CiAgICAgIH0pLCBjaGlsZHJlbik7CiAgICB9LAogICAgZ2VuVGh1bWJMYWJlbENvbnRlbnQ6IGZ1bmN0aW9uIGdlblRodW1iTGFiZWxDb250ZW50KHZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLiRzY29wZWRTbG90c1sndGh1bWItbGFiZWwnXSA/IHRoaXMuJHNjb3BlZFNsb3RzWyd0aHVtYi1sYWJlbCddKHsKICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgfSkgOiBbdGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIFtTdHJpbmcodmFsdWUpXSldOwogICAgfSwKICAgIGdlblRodW1iTGFiZWw6IGZ1bmN0aW9uIGdlblRodW1iTGFiZWwoY29udGVudCkgewogICAgICB2YXIgc2l6ZSA9IGNvbnZlcnRUb1VuaXQodGhpcy50aHVtYlNpemUpOwogICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy52ZXJ0aWNhbCA/ICJ0cmFuc2xhdGVZKDIwJSkgdHJhbnNsYXRlWSgiLmNvbmNhdChOdW1iZXIodGhpcy50aHVtYlNpemUpIC8gMyAtIDEsICJweCkgdHJhbnNsYXRlWCg1NSUpIHJvdGF0ZSgxMzVkZWcpIikgOiAidHJhbnNsYXRlWSgtMjAlKSB0cmFuc2xhdGVZKC0xMnB4KSB0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSg0NWRlZykiOwogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChWU2NhbGVUcmFuc2l0aW9uLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIG9yaWdpbjogJ2JvdHRvbSBjZW50ZXInCiAgICAgICAgfQogICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAndi1zbGlkZXJfX3RodW1iLWxhYmVsLWNvbnRhaW5lcicsCiAgICAgICAgZGlyZWN0aXZlczogW3sKICAgICAgICAgIG5hbWU6ICdzaG93JywKICAgICAgICAgIHZhbHVlOiB0aGlzLmlzRm9jdXNlZCB8fCB0aGlzLmlzQWN0aXZlIHx8IHRoaXMudGh1bWJMYWJlbCA9PT0gJ2Fsd2F5cycKICAgICAgICB9XQogICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb21wdXRlZFRodW1iQ29sb3IsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190aHVtYi1sYWJlbCcsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGhlaWdodDogc2l6ZSwKICAgICAgICAgIHdpZHRoOiBzaXplLAogICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0KICAgICAgICB9CiAgICAgIH0pLCBbdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgY29udGVudCldKV0pXSk7CiAgICB9LAogICAgZ2VuVGh1bWI6IGZ1bmN0aW9uIGdlblRodW1iKCkgewogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5jb21wdXRlZFRodW1iQ29sb3IsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3Ytc2xpZGVyX190aHVtYicKICAgICAgfSkpOwogICAgfSwKICAgIGdldFRodW1iQ29udGFpbmVyU3R5bGVzOiBmdW5jdGlvbiBnZXRUaHVtYkNvbnRhaW5lclN0eWxlcyh3aWR0aCkgewogICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy52ZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnOwogICAgICB2YXIgdmFsdWUgPSB0aGlzLiR2dWV0aWZ5LnJ0bCA/IDEwMCAtIHdpZHRoIDogd2lkdGg7CiAgICAgIHZhbHVlID0gdGhpcy52ZXJ0aWNhbCA/IDEwMCAtIHZhbHVlIDogdmFsdWU7CiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoewogICAgICAgIHRyYW5zaXRpb246IHRoaXMudHJhY2tUcmFuc2l0aW9uCiAgICAgIH0sIGRpcmVjdGlvbiwgIiIuY29uY2F0KHZhbHVlLCAiJSIpKTsKICAgIH0sCiAgICBvblRodW1iTW91c2VEb3duOiBmdW5jdGlvbiBvblRodW1iTW91c2VEb3duKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLm9sZFZhbHVlID0gdGhpcy5pbnRlcm5hbFZhbHVlOwogICAgICB0aGlzLmtleVByZXNzZWQgPSAyOwogICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTsKICAgICAgdmFyIG1vdXNlVXBPcHRpb25zID0gcGFzc2l2ZVN1cHBvcnRlZCA/IHsKICAgICAgICBwYXNzaXZlOiB0cnVlLAogICAgICAgIGNhcHR1cmU6IHRydWUKICAgICAgfSA6IHRydWU7CiAgICAgIHZhciBtb3VzZU1vdmVPcHRpb25zID0gcGFzc2l2ZVN1cHBvcnRlZCA/IHsKICAgICAgICBwYXNzaXZlOiB0cnVlCiAgICAgIH0gOiBmYWxzZTsKCiAgICAgIGlmICgndG91Y2hlcycgaW4gZSkgewogICAgICAgIHRoaXMuYXBwLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIG1vdXNlTW92ZU9wdGlvbnMpOwogICAgICAgIGFkZE9uY2VFdmVudExpc3RlbmVyKHRoaXMuYXBwLCAndG91Y2hlbmQnLCB0aGlzLm9uU2xpZGVyTW91c2VVcCwgbW91c2VVcE9wdGlvbnMpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXBwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIG1vdXNlTW92ZU9wdGlvbnMpOwogICAgICAgIGFkZE9uY2VFdmVudExpc3RlbmVyKHRoaXMuYXBwLCAnbW91c2V1cCcsIHRoaXMub25TbGlkZXJNb3VzZVVwLCBtb3VzZVVwT3B0aW9ucyk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ3N0YXJ0JywgdGhpcy5pbnRlcm5hbFZhbHVlKTsKICAgIH0sCiAgICBvblNsaWRlck1vdXNlVXA6IGZ1bmN0aW9uIG9uU2xpZGVyTW91c2VVcChlKSB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHRoaXMua2V5UHJlc3NlZCA9IDA7CiAgICAgIHZhciBtb3VzZU1vdmVPcHRpb25zID0gcGFzc2l2ZVN1cHBvcnRlZCA/IHsKICAgICAgICBwYXNzaXZlOiB0cnVlCiAgICAgIH0gOiBmYWxzZTsKICAgICAgdGhpcy5hcHAucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSwgbW91c2VNb3ZlT3B0aW9ucyk7CiAgICAgIHRoaXMuYXBwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIG1vdXNlTW92ZU9wdGlvbnMpOwogICAgICB0aGlzLiRlbWl0KCdlbmQnLCB0aGlzLmludGVybmFsVmFsdWUpOwoKICAgICAgaWYgKCFkZWVwRXF1YWwodGhpcy5vbGRWYWx1ZSwgdGhpcy5pbnRlcm5hbFZhbHVlKSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW50ZXJuYWxWYWx1ZSk7CiAgICAgICAgdGhpcy5ub0NsaWNrID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlOwogICAgfSwKICAgIG9uTW91c2VNb3ZlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShlKSB7CiAgICAgIHZhciBfdGhpcyRwYXJzZU1vdXNlTW92ZSA9IHRoaXMucGFyc2VNb3VzZU1vdmUoZSksCiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHBhcnNlTW91c2VNb3ZlLnZhbHVlOwoKICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdmFsdWU7CiAgICB9LAogICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkgewogICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRvbmx5KSByZXR1cm47CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMucGFyc2VLZXlEb3duKGUsIHRoaXMuaW50ZXJuYWxWYWx1ZSk7CiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IHZhbHVlOwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWx1ZSk7CiAgICB9LAogICAgb25LZXlVcDogZnVuY3Rpb24gb25LZXlVcCgpIHsKICAgICAgdGhpcy5rZXlQcmVzc2VkID0gMDsKICAgIH0sCiAgICBvblNsaWRlckNsaWNrOiBmdW5jdGlvbiBvblNsaWRlckNsaWNrKGUpIHsKICAgICAgaWYgKHRoaXMubm9DbGljaykgewogICAgICAgIHRoaXMubm9DbGljayA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHRodW1iID0gdGhpcy4kcmVmcy50aHVtYjsKICAgICAgdGh1bWIuZm9jdXMoKTsKICAgICAgdGhpcy5vbk1vdXNlTW92ZShlKTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5pbnRlcm5hbFZhbHVlKTsKICAgIH0sCiAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cihlKSB7CiAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoJ2JsdXInLCBlKTsKICAgIH0sCiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHsKICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlOwogICAgICB0aGlzLiRlbWl0KCdmb2N1cycsIGUpOwogICAgfSwKICAgIHBhcnNlTW91c2VNb3ZlOiBmdW5jdGlvbiBwYXJzZU1vdXNlTW92ZShlKSB7CiAgICAgIHZhciBzdGFydCA9IHRoaXMudmVydGljYWwgPyAndG9wJyA6ICdsZWZ0JzsKICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7CiAgICAgIHZhciBjbGljayA9IHRoaXMudmVydGljYWwgPyAnY2xpZW50WScgOiAnY2xpZW50WCc7CgogICAgICB2YXIgX3RoaXMkJHJlZnMkdHJhY2skZ2V0ID0gdGhpcy4kcmVmcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwKICAgICAgICAgIHRyYWNrU3RhcnQgPSBfdGhpcyQkcmVmcyR0cmFjayRnZXRbc3RhcnRdLAogICAgICAgICAgdHJhY2tMZW5ndGggPSBfdGhpcyQkcmVmcyR0cmFjayRnZXRbbGVuZ3RoXTsKCiAgICAgIHZhciBjbGlja09mZnNldCA9ICd0b3VjaGVzJyBpbiBlID8gZS50b3VjaGVzWzBdW2NsaWNrXSA6IGVbY2xpY2tdOyAvLyBDYW4gd2UgZ2V0IHJpZCBvZiBhbnkgaGVyZT8KICAgICAgLy8gSXQgaXMgcG9zc2libGUgZm9yIGxlZnQgdG8gYmUgTmFOLCBmb3JjZSB0byBudW1iZXIKCiAgICAgIHZhciBjbGlja1BvcyA9IE1hdGgubWluKE1hdGgubWF4KChjbGlja09mZnNldCAtIHRyYWNrU3RhcnQpIC8gdHJhY2tMZW5ndGgsIDApLCAxKSB8fCAwOwogICAgICBpZiAodGhpcy52ZXJ0aWNhbCkgY2xpY2tQb3MgPSAxIC0gY2xpY2tQb3M7CiAgICAgIGlmICh0aGlzLiR2dWV0aWZ5LnJ0bCkgY2xpY2tQb3MgPSAxIC0gY2xpY2tQb3M7CiAgICAgIHZhciBpc0luc2lkZVRyYWNrID0gY2xpY2tPZmZzZXQgPj0gdHJhY2tTdGFydCAmJiBjbGlja09mZnNldCA8PSB0cmFja1N0YXJ0ICsgdHJhY2tMZW5ndGg7CiAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5taW4pICsgY2xpY2tQb3MgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpOwogICAgICByZXR1cm4gewogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBpc0luc2lkZVRyYWNrOiBpc0luc2lkZVRyYWNrCiAgICAgIH07CiAgICB9LAogICAgcGFyc2VLZXlEb3duOiBmdW5jdGlvbiBwYXJzZUtleURvd24oZSwgdmFsdWUpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjsKICAgICAgdmFyIHBhZ2V1cCA9IGtleUNvZGVzLnBhZ2V1cCwKICAgICAgICAgIHBhZ2Vkb3duID0ga2V5Q29kZXMucGFnZWRvd24sCiAgICAgICAgICBlbmQgPSBrZXlDb2Rlcy5lbmQsCiAgICAgICAgICBob21lID0ga2V5Q29kZXMuaG9tZSwKICAgICAgICAgIGxlZnQgPSBrZXlDb2Rlcy5sZWZ0LAogICAgICAgICAgcmlnaHQgPSBrZXlDb2Rlcy5yaWdodCwKICAgICAgICAgIGRvd24gPSBrZXlDb2Rlcy5kb3duLAogICAgICAgICAgdXAgPSBrZXlDb2Rlcy51cDsKICAgICAgaWYgKCFbcGFnZXVwLCBwYWdlZG93biwgZW5kLCBob21lLCBsZWZ0LCByaWdodCwgZG93biwgdXBdLmluY2x1ZGVzKGUua2V5Q29kZSkpIHJldHVybjsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcE51bWVyaWMgfHwgMTsKICAgICAgdmFyIHN0ZXBzID0gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSAvIHN0ZXA7CgogICAgICBpZiAoW2xlZnQsIHJpZ2h0LCBkb3duLCB1cF0uaW5jbHVkZXMoZS5rZXlDb2RlKSkgewogICAgICAgIHRoaXMua2V5UHJlc3NlZCArPSAxOwogICAgICAgIHZhciBpbmNyZWFzZSA9IHRoaXMuJHZ1ZXRpZnkucnRsID8gW2xlZnQsIHVwXSA6IFtyaWdodCwgdXBdOwogICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbmNyZWFzZS5pbmNsdWRlcyhlLmtleUNvZGUpID8gMSA6IC0xOwogICAgICAgIHZhciBtdWx0aXBsaWVyID0gZS5zaGlmdEtleSA/IDMgOiBlLmN0cmxLZXkgPyAyIDogMTsKICAgICAgICB2YWx1ZSA9IHZhbHVlICsgZGlyZWN0aW9uICogc3RlcCAqIG11bHRpcGxpZXI7CiAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSBob21lKSB7CiAgICAgICAgdmFsdWUgPSB0aGlzLm1pblZhbHVlOwogICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gZW5kKSB7CiAgICAgICAgdmFsdWUgPSB0aGlzLm1heFZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfZGlyZWN0aW9uID0gZS5rZXlDb2RlID09PSBwYWdlZG93biA/IDEgOiAtMTsKCiAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIF9kaXJlY3Rpb24gKiBzdGVwICogKHN0ZXBzID4gMTAwID8gc3RlcHMgLyAxMCA6IDEwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfSwKICAgIHJvdW5kVmFsdWU6IGZ1bmN0aW9uIHJvdW5kVmFsdWUodmFsdWUpIHsKICAgICAgaWYgKCF0aGlzLnN0ZXBOdW1lcmljKSByZXR1cm4gdmFsdWU7IC8vIEZvcm1hdCBpbnB1dCB2YWx1ZSB1c2luZyB0aGUgc2FtZSBudW1iZXIKICAgICAgLy8gb2YgZGVjaW1hbHMgcGxhY2VzIGFzIGluIHRoZSBzdGVwIHByb3AKCiAgICAgIHZhciB0cmltbWVkU3RlcCA9IHRoaXMuc3RlcC50b1N0cmluZygpLnRyaW0oKTsKICAgICAgdmFyIGRlY2ltYWxzID0gdHJpbW1lZFN0ZXAuaW5kZXhPZignLicpID4gLTEgPyB0cmltbWVkU3RlcC5sZW5ndGggLSB0cmltbWVkU3RlcC5pbmRleE9mKCcuJykgLSAxIDogMDsKICAgICAgdmFyIG9mZnNldCA9IHRoaXMubWluVmFsdWUgJSB0aGlzLnN0ZXBOdW1lcmljOwogICAgICB2YXIgbmV3VmFsdWUgPSBNYXRoLnJvdW5kKCh2YWx1ZSAtIG9mZnNldCkgLyB0aGlzLnN0ZXBOdW1lcmljKSAqIHRoaXMuc3RlcE51bWVyaWMgKyBvZmZzZXQ7CiAgICAgIHJldHVybiBwYXJzZUZsb2F0KE1hdGgubWluKG5ld1ZhbHVlLCB0aGlzLm1heFZhbHVlKS50b0ZpeGVkKGRlY2ltYWxzKSk7CiAgICB9CiAgfQp9KTs="},null]}